<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Apache External User Authentication - Galaxy Community Hub</title><meta name="gridsome:hash" content="c32ecfdb33b075b0057598b5b9118f3554a398cf"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="All about Galaxy and its community."><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.7d4a227415c9d9b704d56a079d49a3e1.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.7d4a227415c9d9b704d56a079d49a3e1.png"><link rel="preload" href="/assets/css/0.styles.28333459.css" as="style"><link rel="preload" href="/assets/js/app.f7f9943a.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--article-vue.9c961af0.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.54a07ec7.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.72cfdf23.js"><link rel="prefetch" href="/assets/js/page--src--pages--careers-vue.51f7f627.js"><link rel="prefetch" href="/assets/js/page--src--pages--data-explorer-vue.cda0b563.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--archive-vue.54bd407e.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--cofests--papercuts-vue.d73bf9af.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--cofests-vue.f9ca327e.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--webinars-vue.2b0c4b1f.js"><link rel="prefetch" href="/assets/js/page--src--pages--events-vue.2bc0181e.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.9e6f30c2.js"><link rel="prefetch" href="/assets/js/page--src--pages--news-vue.c55be461.js"><link rel="prefetch" href="/assets/js/page--src--pages--tests-vue.4730afa8.js"><link rel="prefetch" href="/assets/js/page--src--pages--use-vue.8c7d1a05.js"><link rel="prefetch" href="/assets/js/page--src--templates--platform-vue.672f4f9e.js"><link rel="prefetch" href="/assets/js/page--src--templates--vue-article-vue.d03e3b77.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--careers-vue~page--src--pages--use-vue~page--src--templates--article-vue~pa~efade918.71d44943.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--index-md.b120794f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--md--imgtests--imgdir--index-md.8a720dc7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--partials--index-md.88a2cc0b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--imgtests--imgdir--index-md.a7da7426.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--imgtests--index-md.ab7ce26b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--index-md.ac0f0339.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--syntaxtests--index-md.7388aadd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--syntaxtests--reldir--index-md.78e6d088.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--capacity-planning--index-md.532d558e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--config--index-md.f596bca3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--config--performance--cluster--legacy--index-md.9900d899.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--datatypes--index-md.37a06167.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--disk-quotas--index-md.99623880.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--faq--index-md.dfcae1f0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--internals--data-model--index-md.f6811d25.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--internals--galaxy-ops--index-md.da494b7d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--ten-simple-steps-galaxy-as-a-service--index-md.f0b31fa8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--tools--tool-config-syntax--index-md.c133b049.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--tools--writing-tests--index-md.d3ed2aee.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--allocation--index-md.88a6f777.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--faq--index-md.6b5ae7d2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--index-md.54b831ad.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--ssh--index-md.c431c940.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--troubleshooting--index-md.2bbf34e9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--capacity-planning--index-md.8d2c9c03.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--getting-started--index-md.63fe5edc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--index-md.1387a7bc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--building--index-md.ea5bc352.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--capacity-planning--index-md.bdfd10d5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--cluster-types--index-md.83943371.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--customizing--index-md.6b8b3678.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--faq--index-md.12c74d13.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--getting-started--index-md.e3fa7dae.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--getting-started--pre-201703--index-md.9b084a41.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--hadoop--index-md.95f1458a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--ht-condor--index-md.f973feff.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--index-md.37f11743.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--openstack--index-md.f4d0e62a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--services--index-md.e26413ae.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--sharing--index-md.c15fa6cb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--troubleshooting--index-md.953f49c4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--userdata--index-md.1116e088.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--future--index-md.ec7dff38.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--index-md.f0bd7fb5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-07-09--index-md.ed1d541b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-07-27--index-md.5a2cbe0c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-09-19--index-md.36fcc10e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-11-14--index-md.5155dfcc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-01-16--index-md.e740402b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-03-20--index-md.fa75b1de.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-05-15--index-md.ad74e436.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-11-20--index-md.6a1074f1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-02-19--index-md.bdefdea8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-04-16--index-md.ce613da7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-06-18--index-md.9253a34b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-08-20--index-md.8ac977c4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-10-15--index-md.3a558b10.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-02-18--index-md.ae82f681.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-04-21--index-md.4cd1f8fc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-06-16--index-md.7b1572c5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-08-18--index-md.5b3383d1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--index-md.da754856.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--webinar-tech--index-md.c5c416a6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--2012--index-md.4eddb972.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--2014--index-md.5d7b4578.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--index-md.afac4bb5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--data--index-md.f2ba0502.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--datafiles--index-md.4dfd4db7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--architecture--index-md.8035154b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--bitbucket--index-md.7cc7d8d1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--css--index-md.710209d9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--getting-started--index-md.930b3a22.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--index-md.1cbec221.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--jsa--index-md.134e6a35.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--mercurial--index-md.9026901a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--security-tool-tips--index-md.2d704e67.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--galaxy-project--index-md.230e8088.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--index-md.e5883590.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--papers--index-md.db9c7f1b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--posters--index-md.04432e3d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--presentations--index-md.92923a05.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--videos--index-md.f680b009.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--advanced-session--index-md.4227a5ac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--basics-session--index-md.08c5b284.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--index-md.9844ef78.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--logistics--index-md.6f6b160a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--publicity--index-md.dfbc1a41.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--registration--index-md.5232161d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--abstracts--index-md.697fe169.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--index-md.ca51927e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--key-dates--index-md.606cfcac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--lightning-talks--index-md.6a60add5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--logistics--index-md.06ca864d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--organizing-committee--index-md.0500ed90.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--photos--index-md.ab68ac2c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--automation-strategies--index-md.2d8a9043.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--bioinformatics-training--index-md.43a55fdc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--end-users--index-md.5f46cd2a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--workflows-and-api--index-md.07da71b4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--index-md.cb8d0657.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--promotion--index-md.4eb64cde.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--register--index-md.49c36527.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--sponsorships--index-md.db0f3791.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--training-day--index-md.c8f12515.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--index-md.3c67479f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--posters--index-md.728aa734.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--talks--index-md.7f93c9db.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--clinical-use-hpc-file-systems--index-md.030a88bd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-admins--index-md.f12f7b4d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-blast--index-md.59e8820f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-professionals--index-md.dcb27276.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--index-md.cfaaca20.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--proteomics--index-md.abba045c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--public-galaxy-servers--index-md.bd34ea15.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--tool-developers--index-md.a5a0a8b6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--index-md.df6174ac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--key-dates--index-md.f7630162.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--lightning--index-md.0dfb5a95.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--logistics--index-md.4759076c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--organizers--index-md.6fc11b96.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--photos--index-md.aef50972.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--program--index-md.05c5d87a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--promotion--index-md.e34ad376.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--register--index-md.8ea1785f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--sponsorships--index-md.3cde86d8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--advance-tool-data--index-md.2210b6c4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--api--index-md.57c06e35.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--index-md.4cd32016.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--intro-tool-data--index-md.75a7abbd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--vms--index-md.1c86a58b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--index-md.9abee1c6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--posters--index-md.810cd33b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--talks--index-md.c9751906.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--branch-release-merge--index-md.f6ed714e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-admins--index-md.5f9fcb01.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-end-users--index-md.00b4cd3b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-training-network--index-md.a843f5f7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--heterogeneous--index-md.8313575f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--index-md.f878a9f6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--using-galaxy-ui-overview--index-md.5b284474.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--hackathon--index-md.20172bcf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--index-md.9ea6d61e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--key-dates--index-md.bac2859e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--lightning--index-md.96c8f509.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--logistics--index-md.c1318807.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--organizers--index-md.b183376c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--photos--index-md.e0b61b7a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--program--index-md.a93fc58b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--promotion--index-md.df1d2b77.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--register--index-md.54adaeb3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--sponsor-exhibit--index-md.64ef93be.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--admin-walkthrough--index-md.c82adb0e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--api--index-md.a936c5d1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--data-managers--index-md.348024f8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--index-md.030f1ebd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--vms--index-md.507d7d15.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--cwl--index-md.a8a9aa76.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--data-management-challenges--index-md.409c72aa.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--data-splitting-and-parallelism--index-md.6332a3a3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--elixir--index-md.982da27f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--extended-workflow--index-md.f2b42ad0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--fots--index-md.52645a6e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-admins--index-md.ffda743c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-community-uk--index-md.060ecf60.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-scientists--index-md.ae9e7e59.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-training-network--index-md.a412fdd5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--index-md.22f27d14.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--data-hack-roundup--index-md.60bc6484.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--header--index-md.dbba4e7d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--index-md.2f85a581.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2016--bofs--index-md.5a3032e2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--abstracts--index-md.57e795e8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--childcare--index-md.096b34d2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--cofest--index-md.8b0a9b93.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--conduct--index-md.8e51f30c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--faq--index-md.0f0f1b46.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--index-md.641b44a6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--organizers--index-md.787e0ccf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--promotion--index-md.e6e58e52.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--registration--index-md.52f1b4f7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--sponsors--index-md.ef140359.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--training--index-md.ee0d3a7c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--venue--index-md.30256085.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--abstracts--index-md.137e7bc6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--childcare--index-md.84f642d3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--code-of-conduct--index-md.2789988f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--collaboration--index-md.a48ddf3b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--faq--index-md.4fd33733.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--icebreaker--index-md.ce20a106.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--index-md.9c798d19.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--keynotes--index-md.080e361c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--organizers--index-md.a3b956fb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--promotion--index-md.de985f84.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--register--index-md.05d6bc90.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--sponsors--index-md.4c398a30.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--training--index-md.ce0ef35c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--venue--index-md.4a3ddfec.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--germany-2014--index-md.d56576b3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--germany-2016--index-md.9f18f6ac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--sg-2014--index-md.6fd15769.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--sg-2016--index-md.c0b34aae.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2014--index-md.ba91d0c6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2014--trainingday--index-md.e89c50c3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2016--index-md.6afda26b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--example--vue-remark--index-md.c96a8cd8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--faqs--index-md.3bba7da9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--galaxy-updates--2013-06--index-md.a5232112.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--galaxy-updates--2013-07--index-md.19df6105.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--icons--index-md.ff92f6d4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--index-md.246f22cd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--logos--index-md.5a8a4cdf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--news-graphics--index-md.844f04b7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--photos--index-md.7a556820.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--screenshots--index-md.290a5433.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--basic-editing--index-md.467e2afe.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--basic-editing--workflow-editor-unannotated--index-md.bc93cd9f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--extract--index-md.940bc220.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--tool-panel--index-md.7ac3e984.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--variables--index-md.a3612f7c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--faq--index-md.599e559f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--galaxy-pages--index-md.51df5ee9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--interval-operations--index-md.71022235.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--main--faq--index-md.f6a425fa.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--tools--requirements--index-md.1aef8fd3.js"><link rel="stylesheet" href="/assets/css/0.styles.28333459.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="layout" data-v-3a128d75><header id="masthead"><nav class="container navbar navbar-expand-lg navbar-dark justify-content-center"><a href="/" class="navbar-brand active"><img id="masthead-logo" src="/images/galaxy_logo_hub_white.svg" alt="Galaxy Community Hub" height="30"></a><div id="navbarToggleWrapper" class="collapse navbar-collapse mx-auto"><ul class="navbar-nav"><li class="nav-item"><a href="/use/" role="button" aria-expanded="false" class="nav-link dropdown">
          Use
        </a></li><li class="nav-item dropdown"><a href="#" data-toggle="dropdown" role="button" aria-expanded="false" class="nav-link dropdown-toggle">
          Learn
          <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/learn/" class="dropdown-item">How to use Galaxy</a></li><li><a href="https://training.galaxyproject.org/" class="dropdown-item">Teach with Galaxy</a></li></ul></li><li class="nav-item dropdown"><a href="#" data-toggle="dropdown" role="button" class="nav-link dropdown-toggle">
          Community
          <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/community/" class="dropdown-item">About</a></li><li><a href="/events/" class="dropdown-item">Events</a></li><li><a href="/news/" class="dropdown-item">News</a></li><li><a href="/blog/" class="dropdown-item">Blog</a></li><li><a href="/publication-library/" class="dropdown-item">Publications</a></li><li><a href="/galaxy-project/statistics/" class="dropdown-item">Stats</a></li><li><a href="/careers/" class="dropdown-item">Careers</a></li></ul></li><li class="nav-item dropdown"><a href="#" data-toggle="dropdown" role="button" class="nav-link dropdown-toggle">
          Deploy &amp; Develop
          <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/admin/get-galaxy/" class="dropdown-item">Install Galaxy</a></li><li><a href="/admin/" class="dropdown-item active">Server administration</a></li><li><a href="/tools/" class="dropdown-item">Tools</a></li><li><a href="/develop/api/" class="dropdown-item">Working with the API</a></li><li><a href="/develop/" class="dropdown-item">Contributing</a></li><li><a href="/docs/" class="dropdown-item">Code documentation</a></li></ul></li><li class="nav-item dropdown"><a href="#" data-toggle="dropdown" role="button" class="nav-link dropdown-toggle">
          Support
          <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/support/" class="dropdown-item">FAQ</a></li><li><a href="https://help.galaxyproject.org/" class="dropdown-item">Galaxy Help Forum</a></li></ul></li><li class="nav-item"><a href="/jxtx/" role="button" aria-expanded="false" class="nav-link dropdown">
          @jxtx
        </a></li></ul></div></nav></header><section id="maincontainer" class="container"><a href="/" class="link active" data-v-3a128d75> ← Home</a><header data-v-3a128d75><!----><h1 class="title" data-v-3a128d75>Apache External User Authentication</h1><div class="metadata" data-v-3a128d75><!----><!----><!----></div></header><div class="content markdown" data-v-3a128d75><h1 id="apache-external-authentication"><a href="#apache-external-authentication" aria-hidden="true"><span class="icon icon-link"></span></a>Apache External Authentication</h1>
<p>By default, Galaxy manages its own users. However, it may be more useful at your site to tie into a local authentication system. Galaxy does not do this itself - it delegates this responsibility to the upstream proxy server.</p>
<p>The authentication module (basic authentication, <code>mod_auth_kerb</code>, <code>mod_authnz_ldap</code>, <code>mod_auth_cas</code>, <code>Cosign</code>, etc.) is responsible for providing a username, which we will pass through the proxy to Galaxy as <code>$REMOTE_USER</code>.</p>
<p>In addition to the chosen module above, <code>mod_headers</code> must be enabled in the Apache config, for some types of authentication.</p>
<h2 id="generic-galaxy-configuration"><a href="#generic-galaxy-configuration" aria-hidden="true"><span class="icon icon-link"></span></a>Generic Galaxy Configuration</h2>
<div class="alert alert-warning" role="alert">
This section applies to all authentication methods.
</div>
<p>On the Galaxy side, set <code>use_remote_user = True</code> in <code>galaxy.ini</code>. If your auth method doesn't provide a full email address in <code>$(REMOTE_USER</code>, you'll also need to set <code>remote_user_maildomain</code>:</p>
<pre><code>use_remote_user = True
remote_user_maildomain = example.org
</code></pre>
<p>For example, when using basic authentication, only bare usernames (e.g. "<code>nate</code>") will be passed to Galaxy. Since Galaxy usernames are full email addresses, <code>remote_user_maildomain</code> needs to be set (e.g. to "<code>example.org</code>"). On the other hand, auth methods such as <code>mod_auth_kerb</code> set the full <code>nate@example.org</code> address, so <code>remote_user_maildomain</code> should not be set. If you're not sure, Galaxy will tell you via an error message if <code>remote_user_maildomain</code> needs to be set.</p>
<p>Users are automatically created in the Galaxy database if the external auth method allows them through. Users created in this manner may not log in if <code>use_remote_user</code> is later disabled, since Galaxy does not have a password stored for the user (since the password is managed by the upstream proxy server.)</p>
<h3 id="api-exception"><a href="#api-exception" aria-hidden="true"><span class="icon icon-link"></span></a>API Exception</h3>
<p>If you wish your Galaxy to be accessible to command line clients (e.g. bioblend, blend4j, parsec), you will need to add an exception for authentication on the API. Galaxy will still be secure and protected, but non-browser access will be permitted with an API key. If this exception is not provided, many clients will throw errors as they are redirected to the login site under CAS type authentication, or rejected with unauthorized exception.</p>
<pre><code class="language-apache">&#x3C;Location "/api/">
    Satisfy Any
    Allow from all
&#x3C;/Location>
</code></pre>
<h2 id="basic-authentication"><a href="#basic-authentication" aria-hidden="true"><span class="icon icon-link"></span></a>Basic Authentication</h2>
<p>Basic authentication is configured as it is for any other protected portion of your site (other authentication modules are configured differently):</p>
<pre><code class="language-apache">AuthType Basic
AuthName Galaxy
AuthUserFile /home/nate/htpasswd
Require valid-user
</code></pre>
<p>The following options are used to take the <code>$REMOTE_USER</code> variable (set by basic authentication) and set it as a header in the proxied environment:</p>
<pre><code class="language-apache">&#x3C;Proxy http://localhost:8080>
    Order deny,allow
    Allow from all
&#x3C;/Proxy>
# Take the $REMOTE_USER environment variable and set it as a header in the proxy request.
RewriteEngine on
RewriteCond %{IS_SUBREQ} ^false$
RewriteCond %{LA-U:REMOTE_USER} (.+)
RewriteRule . - [E=RU:%1]
RequestHeader set REMOTE_USER %{RU}e
</code></pre>
<p>These new directives should be placed in a <code>&#x3C;Location></code> block, depending on the directory from which you are serving Galaxy. Your entire configuration will now look something like this:</p>
<pre><code class="language-apache">&#x3C;Proxy http://localhost:8080>
    Order deny,allow
    Allow from all
&#x3C;/Proxy>

RewriteEngine on
&#x3C;Location "/">
    # Define the authentication method
    AuthType Basic
    AuthName Galaxy
    AuthUserFile /home/galaxy/htpasswd # Change this to your htpasswd file location
    Require valid-user
    # Take the $REMOTE_USER environment variable and set it as a header in the proxy request.
    RewriteCond %{IS_SUBREQ} ^false$
    RewriteCond %{LA-U:REMOTE_USER} (.+)
    RewriteRule . - [E=RU:%1]
    RequestHeader set REMOTE_USER %{RU}e
&#x3C;/Location>
</code></pre>
<h3 id="mod_authnz_ldap"><a href="#mod_authnz_ldap" aria-hidden="true"><span class="icon icon-link"></span></a><code>mod_authnz_ldap</code></h3>
<p>The Apache <code>mod_authnz_ldap</code> module does not set <code>$REMOTE_USER</code> like other auth modules. The following alternate configuration should allow you to use any LDAP attribute as the username to set in <code>$REMOTE_USER</code>:</p>
<pre><code class="language-apache">&#x3C;Proxy http://localhost:8080>
    Order deny,allow
    Allow from all
&#x3C;/Proxy>

&#x3C;Location "/">
    AuthType Basic
    AuthBasicProvider ldap
    AuthLDAPURL "ldaps://ldap.example.com:636/ou=People,dc=example,dc=org?uid?sub?(objectClass=person)"
    Require valid-user

    # Set the REMOTE_USER header to the contents of the LDAP query response's "uid" attribute
    RequestHeader set REMOTE_USER %{AUTHENTICATE_uid}e
&#x3C;/Location>
</code></pre>
<p>The <code>AuthLDAPURL</code> and variable in which the username is set will vary and is dependent entirely upon the schema/design of your LDAP database. If your LDAP server is Windows (Active Directory), you may need to use the <code>%{AUTHENTICATE_sAMAccountName}</code> variable.</p>
<p>Note the S/E after substituted variables, transcluded from the <a href="https://httpd.apache.org/docs/2.2/mod/mod_headers.html" target="_blank" rel="noopener noreferrer">Apache mod_headers</a> documentation:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>%{FOOBAR}e</code></td>
<td>The contents of the environment variable FOOBAR.</td>
</tr>
<tr>
<td><code>%{FOOBAR}s</code></td>
<td>The contents of the SSL environment variable FOOBAR, if mod_ssl is enabled.</td>
</tr>
</tbody>
</table>
<p>(If anyone has information regarding setting the username under non-https conditions, please provide it!)</p>
<h2 id="mod_auth_kerb"><a href="#mod_auth_kerb" aria-hidden="true"><span class="icon icon-link"></span></a><code>mod_auth_kerb</code></h2>
<p>If you are deploying kerberos, it is assumed you know the basics of configuring kerberos enabled webpages.</p>
<pre><code class="language-apache">&#x3C;Location "/">
        AuthName "Galaxy"
        AuthType Kerberos
        KrbAuthRealms REALM.EDU
        KrbServiceName HTTP/server.realm.edu@REALM.EDU
        Krb5Keytab /etc/http_server_realm.edu.keytab
        KrbSaveCredentials On
        Require valid-user

        RequestHeader set REMOTE_USER %{REMOTE_USER}s
&#x3C;/Location>
</code></pre>
<p>We chose to seperate out the keytab for apache, hence the use of Krb5Keytab. Normally that defaults to <code>/etc/krb5.keytab</code>.</p>
<p>Note the S/E after substituted variables, transcluded from the <a href="https://httpd.apache.org/docs/2.2/mod/mod_headers.html" target="_blank" rel="noopener noreferrer">Apache mod_headers</a> documentation:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>%{FOOBAR}e</code></td>
<td>The contents of the environment variable FOOBAR.</td>
</tr>
<tr>
<td><code>%{FOOBAR}s</code></td>
<td>The contents of the SSL environment variable FOOBAR, if mod_ssl is enabled.</td>
</tr>
</tbody>
</table>
<p>(If anyone has information regarding setting the username under non-https conditions, please provide it!)</p>
<h2 id="logging-out-basic-authd-users"><a href="#logging-out-basic-authd-users" aria-hidden="true"><span class="icon icon-link"></span></a>Logging out Basic Auth'd Users</h2>
<p>It's <a href="https://httpd.apache.org/docs/1.3/howto/auth.html#basicfaq" target="_blank" rel="noopener noreferrer">not supposed to be possible</a> due to how HTTP authentication works.</p>
<p>However, this is a common problem and many people have come up with varying quality solutions:</p>
<ul>
<li><a href="https://stackoverflow.com/questions/4163122/http-basic-authentication-log-out/" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/4163122/http-basic-authentication-log-out/</a></li>
<li><a href="https://stackoverflow.com/questions/233507/how-to-log-out-user-from-web-site-using-basic-authentication" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/233507/how-to-log-out-user-from-web-site-using-basic-authentication</a></li>
<li><a href="https://trac-hacks.org/wiki/TrueHttpLogoutPatch" target="_blank" rel="noopener noreferrer">https://trac-hacks.org/wiki/TrueHttpLogoutPatch</a></li>
</ul>
<p>This was <a href="https://lists.galaxyproject.org/archives/list/galaxy-dev@lists.galaxyproject.org/thread/5T5EW5P5VDHXEH3ZDY43N4EXD3OW4OSQ/#5T5EW5P5VDHXEH3ZDY43N4EXD3OW4OSQ" target="_blank" rel="noopener noreferrer">discussed on the galaxy-dev mailing list</a>, and the solution provided by Tim Booth is detailed below. Please test this thoroughly before using it in your galaxy.</p>
<h3 id="creating-the-logout-area"><a href="#creating-the-logout-area" aria-hidden="true"><span class="icon icon-link"></span></a>Creating the Logout area</h3>
<p>A world-accessible folder needs to be created, probably named something like "logout". Taking <code>/usr/share/galaxy-server/logout/</code> as our example, inside that folder you need to create a .htaccess file</p>
<pre><code># Hack based on http://stackoverflow.com/questions/4163122/http-basic-authentication-log-out
# Authname must match the one for your galaxy server.

AuthType Basic
AuthName Galaxy_Server

AuthUserFile /usr/share/galaxy-server/logout/.htpasswd
Require user logout
</code></pre>
<p>The <code>/usr/share/galaxy-server/logout/.htpasswd</code> file should contain</p>
<pre><code>#Password is logout. This in not a secret.
logout:$apr1$0eB1iURY$kwqa0c8tXksbjPQLYqr6s.
</code></pre>
<h3 id="galaxy-configuration-modifications"><a href="#galaxy-configuration-modifications" aria-hidden="true"><span class="icon icon-link"></span></a>Galaxy Configuration Modifications</h3>
<p>You will probably need to add the following to your <code>$GALAXY_ROOT/config/galaxy.ini</code>:</p>
<pre><code># Not yet tested on IE.
remote_user_logout_href = javascript:var r=new XMLHttpRequest();r.onreadystatechange=function(){if(r.readyState==4)window.location.replace('logout.html')};r.open('get','logout.html',true,'logout','logout');r.send();
</code></pre>
<p>This code sends an AJAX request to <code>logout.html</code> with the username and password of "logout" (variables 4 and 5 in the <code>r.open</code> snippet)</p>
</div><footer class="static-footer markdown"><p>The Galaxy Project is supported in part by NSF, NHGRI, The Huck Institutes of the Life Sciences, The Institute for CyberScience at Penn State, and Johns Hopkins University.</p>
</footer></section></div>
    <script>window.__INITIAL_STATE__={"data":{"article":{"id":"9fd718199b94b8641e19ebf94d91cadd","title":"Apache External User Authentication","tease":"","image":"","images":{},"category":null,"contact":"","date":null,"content":"\u003Ch1 id=\"apache-external-authentication\"\u003E\u003Ca href=\"#apache-external-authentication\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EApache External Authentication\u003C\u002Fh1\u003E\n\u003Cp\u003EBy default, Galaxy manages its own users. However, it may be more useful at your site to tie into a local authentication system. Galaxy does not do this itself - it delegates this responsibility to the upstream proxy server.\u003C\u002Fp\u003E\n\u003Cp\u003EThe authentication module (basic authentication, \u003Ccode\u003Emod_auth_kerb\u003C\u002Fcode\u003E, \u003Ccode\u003Emod_authnz_ldap\u003C\u002Fcode\u003E, \u003Ccode\u003Emod_auth_cas\u003C\u002Fcode\u003E, \u003Ccode\u003ECosign\u003C\u002Fcode\u003E, etc.) is responsible for providing a username, which we will pass through the proxy to Galaxy as \u003Ccode\u003E$REMOTE_USER\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EIn addition to the chosen module above, \u003Ccode\u003Emod_headers\u003C\u002Fcode\u003E must be enabled in the Apache config, for some types of authentication.\u003C\u002Fp\u003E\n\u003Ch2 id=\"generic-galaxy-configuration\"\u003E\u003Ca href=\"#generic-galaxy-configuration\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EGeneric Galaxy Configuration\u003C\u002Fh2\u003E\n\u003Cdiv class=\"alert alert-warning\" role=\"alert\"\u003E\nThis section applies to all authentication methods.\n\u003C\u002Fdiv\u003E\n\u003Cp\u003EOn the Galaxy side, set \u003Ccode\u003Euse_remote_user = True\u003C\u002Fcode\u003E in \u003Ccode\u003Egalaxy.ini\u003C\u002Fcode\u003E. If your auth method doesn't provide a full email address in \u003Ccode\u003E$(REMOTE_USER\u003C\u002Fcode\u003E, you'll also need to set \u003Ccode\u003Eremote_user_maildomain\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003Euse_remote_user = True\nremote_user_maildomain = example.org\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EFor example, when using basic authentication, only bare usernames (e.g. \"\u003Ccode\u003Enate\u003C\u002Fcode\u003E\") will be passed to Galaxy. Since Galaxy usernames are full email addresses, \u003Ccode\u003Eremote_user_maildomain\u003C\u002Fcode\u003E needs to be set (e.g. to \"\u003Ccode\u003Eexample.org\u003C\u002Fcode\u003E\"). On the other hand, auth methods such as \u003Ccode\u003Emod_auth_kerb\u003C\u002Fcode\u003E set the full \u003Ccode\u003Enate@example.org\u003C\u002Fcode\u003E address, so \u003Ccode\u003Eremote_user_maildomain\u003C\u002Fcode\u003E should not be set. If you're not sure, Galaxy will tell you via an error message if \u003Ccode\u003Eremote_user_maildomain\u003C\u002Fcode\u003E needs to be set.\u003C\u002Fp\u003E\n\u003Cp\u003EUsers are automatically created in the Galaxy database if the external auth method allows them through. Users created in this manner may not log in if \u003Ccode\u003Euse_remote_user\u003C\u002Fcode\u003E is later disabled, since Galaxy does not have a password stored for the user (since the password is managed by the upstream proxy server.)\u003C\u002Fp\u003E\n\u003Ch3 id=\"api-exception\"\u003E\u003Ca href=\"#api-exception\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EAPI Exception\u003C\u002Fh3\u003E\n\u003Cp\u003EIf you wish your Galaxy to be accessible to command line clients (e.g. bioblend, blend4j, parsec), you will need to add an exception for authentication on the API. Galaxy will still be secure and protected, but non-browser access will be permitted with an API key. If this exception is not provided, many clients will throw errors as they are redirected to the login site under CAS type authentication, or rejected with unauthorized exception.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-apache\"\u003E&#x3C;Location \"\u002Fapi\u002F\"\u003E\n    Satisfy Any\n    Allow from all\n&#x3C;\u002FLocation\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"basic-authentication\"\u003E\u003Ca href=\"#basic-authentication\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EBasic Authentication\u003C\u002Fh2\u003E\n\u003Cp\u003EBasic authentication is configured as it is for any other protected portion of your site (other authentication modules are configured differently):\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-apache\"\u003EAuthType Basic\nAuthName Galaxy\nAuthUserFile \u002Fhome\u002Fnate\u002Fhtpasswd\nRequire valid-user\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe following options are used to take the \u003Ccode\u003E$REMOTE_USER\u003C\u002Fcode\u003E variable (set by basic authentication) and set it as a header in the proxied environment:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-apache\"\u003E&#x3C;Proxy http:\u002F\u002Flocalhost:8080\u003E\n    Order deny,allow\n    Allow from all\n&#x3C;\u002FProxy\u003E\n# Take the $REMOTE_USER environment variable and set it as a header in the proxy request.\nRewriteEngine on\nRewriteCond %{IS_SUBREQ} ^false$\nRewriteCond %{LA-U:REMOTE_USER} (.+)\nRewriteRule . - [E=RU:%1]\nRequestHeader set REMOTE_USER %{RU}e\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThese new directives should be placed in a \u003Ccode\u003E&#x3C;Location\u003E\u003C\u002Fcode\u003E block, depending on the directory from which you are serving Galaxy. Your entire configuration will now look something like this:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-apache\"\u003E&#x3C;Proxy http:\u002F\u002Flocalhost:8080\u003E\n    Order deny,allow\n    Allow from all\n&#x3C;\u002FProxy\u003E\n\nRewriteEngine on\n&#x3C;Location \"\u002F\"\u003E\n    # Define the authentication method\n    AuthType Basic\n    AuthName Galaxy\n    AuthUserFile \u002Fhome\u002Fgalaxy\u002Fhtpasswd # Change this to your htpasswd file location\n    Require valid-user\n    # Take the $REMOTE_USER environment variable and set it as a header in the proxy request.\n    RewriteCond %{IS_SUBREQ} ^false$\n    RewriteCond %{LA-U:REMOTE_USER} (.+)\n    RewriteRule . - [E=RU:%1]\n    RequestHeader set REMOTE_USER %{RU}e\n&#x3C;\u002FLocation\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 id=\"mod_authnz_ldap\"\u003E\u003Ca href=\"#mod_authnz_ldap\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Ccode\u003Emod_authnz_ldap\u003C\u002Fcode\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EThe Apache \u003Ccode\u003Emod_authnz_ldap\u003C\u002Fcode\u003E module does not set \u003Ccode\u003E$REMOTE_USER\u003C\u002Fcode\u003E like other auth modules. The following alternate configuration should allow you to use any LDAP attribute as the username to set in \u003Ccode\u003E$REMOTE_USER\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-apache\"\u003E&#x3C;Proxy http:\u002F\u002Flocalhost:8080\u003E\n    Order deny,allow\n    Allow from all\n&#x3C;\u002FProxy\u003E\n\n&#x3C;Location \"\u002F\"\u003E\n    AuthType Basic\n    AuthBasicProvider ldap\n    AuthLDAPURL \"ldaps:\u002F\u002Fldap.example.com:636\u002Fou=People,dc=example,dc=org?uid?sub?(objectClass=person)\"\n    Require valid-user\n\n    # Set the REMOTE_USER header to the contents of the LDAP query response's \"uid\" attribute\n    RequestHeader set REMOTE_USER %{AUTHENTICATE_uid}e\n&#x3C;\u002FLocation\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe \u003Ccode\u003EAuthLDAPURL\u003C\u002Fcode\u003E and variable in which the username is set will vary and is dependent entirely upon the schema\u002Fdesign of your LDAP database. If your LDAP server is Windows (Active Directory), you may need to use the \u003Ccode\u003E%{AUTHENTICATE_sAMAccountName}\u003C\u002Fcode\u003E variable.\u003C\u002Fp\u003E\n\u003Cp\u003ENote the S\u002FE after substituted variables, transcluded from the \u003Ca href=\"https:\u002F\u002Fhttpd.apache.org\u002Fdocs\u002F2.2\u002Fmod\u002Fmod_headers.html\" target=\"_blank\" rel=\"noopener noreferrer\"\u003EApache mod_headers\u003C\u002Fa\u003E documentation:\u003C\u002Fp\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003EVariable\u003C\u002Fth\u003E\n\u003Cth\u003EValue\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003E%{FOOBAR}e\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003EThe contents of the environment variable FOOBAR.\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003E%{FOOBAR}s\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003EThe contents of the SSL environment variable FOOBAR, if mod_ssl is enabled.\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\n\u003Cp\u003E(If anyone has information regarding setting the username under non-https conditions, please provide it!)\u003C\u002Fp\u003E\n\u003Ch2 id=\"mod_auth_kerb\"\u003E\u003Ca href=\"#mod_auth_kerb\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003Ccode\u003Emod_auth_kerb\u003C\u002Fcode\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EIf you are deploying kerberos, it is assumed you know the basics of configuring kerberos enabled webpages.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-apache\"\u003E&#x3C;Location \"\u002F\"\u003E\n        AuthName \"Galaxy\"\n        AuthType Kerberos\n        KrbAuthRealms REALM.EDU\n        KrbServiceName HTTP\u002Fserver.realm.edu@REALM.EDU\n        Krb5Keytab \u002Fetc\u002Fhttp_server_realm.edu.keytab\n        KrbSaveCredentials On\n        Require valid-user\n\n        RequestHeader set REMOTE_USER %{REMOTE_USER}s\n&#x3C;\u002FLocation\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EWe chose to seperate out the keytab for apache, hence the use of Krb5Keytab. Normally that defaults to \u003Ccode\u003E\u002Fetc\u002Fkrb5.keytab\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ENote the S\u002FE after substituted variables, transcluded from the \u003Ca href=\"https:\u002F\u002Fhttpd.apache.org\u002Fdocs\u002F2.2\u002Fmod\u002Fmod_headers.html\" target=\"_blank\" rel=\"noopener noreferrer\"\u003EApache mod_headers\u003C\u002Fa\u003E documentation:\u003C\u002Fp\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003EVariable\u003C\u002Fth\u003E\n\u003Cth\u003EValue\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003E%{FOOBAR}e\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003EThe contents of the environment variable FOOBAR.\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003E%{FOOBAR}s\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003EThe contents of the SSL environment variable FOOBAR, if mod_ssl is enabled.\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\n\u003Cp\u003E(If anyone has information regarding setting the username under non-https conditions, please provide it!)\u003C\u002Fp\u003E\n\u003Ch2 id=\"logging-out-basic-authd-users\"\u003E\u003Ca href=\"#logging-out-basic-authd-users\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ELogging out Basic Auth'd Users\u003C\u002Fh2\u003E\n\u003Cp\u003EIt's \u003Ca href=\"https:\u002F\u002Fhttpd.apache.org\u002Fdocs\u002F1.3\u002Fhowto\u002Fauth.html#basicfaq\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Enot supposed to be possible\u003C\u002Fa\u003E due to how HTTP authentication works.\u003C\u002Fp\u003E\n\u003Cp\u003EHowever, this is a common problem and many people have come up with varying quality solutions:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F4163122\u002Fhttp-basic-authentication-log-out\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ehttps:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F4163122\u002Fhttp-basic-authentication-log-out\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F233507\u002Fhow-to-log-out-user-from-web-site-using-basic-authentication\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ehttps:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F233507\u002Fhow-to-log-out-user-from-web-site-using-basic-authentication\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Ftrac-hacks.org\u002Fwiki\u002FTrueHttpLogoutPatch\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ehttps:\u002F\u002Ftrac-hacks.org\u002Fwiki\u002FTrueHttpLogoutPatch\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThis was \u003Ca href=\"https:\u002F\u002Flists.galaxyproject.org\u002Farchives\u002Flist\u002Fgalaxy-dev@lists.galaxyproject.org\u002Fthread\u002F5T5EW5P5VDHXEH3ZDY43N4EXD3OW4OSQ\u002F#5T5EW5P5VDHXEH3ZDY43N4EXD3OW4OSQ\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ediscussed on the galaxy-dev mailing list\u003C\u002Fa\u003E, and the solution provided by Tim Booth is detailed below. Please test this thoroughly before using it in your galaxy.\u003C\u002Fp\u003E\n\u003Ch3 id=\"creating-the-logout-area\"\u003E\u003Ca href=\"#creating-the-logout-area\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ECreating the Logout area\u003C\u002Fh3\u003E\n\u003Cp\u003EA world-accessible folder needs to be created, probably named something like \"logout\". Taking \u003Ccode\u003E\u002Fusr\u002Fshare\u002Fgalaxy-server\u002Flogout\u002F\u003C\u002Fcode\u003E as our example, inside that folder you need to create a .htaccess file\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E# Hack based on http:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F4163122\u002Fhttp-basic-authentication-log-out\n# Authname must match the one for your galaxy server.\n\nAuthType Basic\nAuthName Galaxy_Server\n\nAuthUserFile \u002Fusr\u002Fshare\u002Fgalaxy-server\u002Flogout\u002F.htpasswd\nRequire user logout\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe \u003Ccode\u003E\u002Fusr\u002Fshare\u002Fgalaxy-server\u002Flogout\u002F.htpasswd\u003C\u002Fcode\u003E file should contain\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E#Password is logout. This in not a secret.\nlogout:$apr1$0eB1iURY$kwqa0c8tXksbjPQLYqr6s.\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 id=\"galaxy-configuration-modifications\"\u003E\u003Ca href=\"#galaxy-configuration-modifications\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EGalaxy Configuration Modifications\u003C\u002Fh3\u003E\n\u003Cp\u003EYou will probably need to add the following to your \u003Ccode\u003E$GALAXY_ROOT\u002Fconfig\u002Fgalaxy.ini\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E# Not yet tested on IE.\nremote_user_logout_href = javascript:var r=new XMLHttpRequest();r.onreadystatechange=function(){if(r.readyState==4)window.location.replace('logout.html')};r.open('get','logout.html',true,'logout','logout');r.send();\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThis code sends an AJAX request to \u003Ccode\u003Elogout.html\u003C\u002Fcode\u003E with the username and password of \"logout\" (variables 4 and 5 in the \u003Ccode\u003Er.open\u003C\u002Fcode\u003E snippet)\u003C\u002Fp\u003E\n"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.f7f9943a.js" defer></script><script src="/assets/js/page--src--templates--article-vue.9c961af0.js" defer></script>
  </body>
</html>
