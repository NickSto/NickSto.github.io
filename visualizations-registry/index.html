<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>The Visualizations Registry - Galaxy Community Hub</title><meta name="gridsome:hash" content="63d22f0da01df1c20668abb9131ced4a3fe89696"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="All about Galaxy and its community."><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.7d4a227415c9d9b704d56a079d49a3e1.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.7d4a227415c9d9b704d56a079d49a3e1.png"><link rel="preload" href="/assets/css/0.styles.8bf9ec2e.css" as="style"><link rel="preload" href="/assets/js/app.35b28fcf.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--article-vue.7f90f7d3.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--article-vue~page--src--templates--vue-article-vue.c289395b.js" as="script"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.d1aa65a5.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.a020a667.js"><link rel="prefetch" href="/assets/js/page--src--pages--careers-vue.f8bcd2e3.js"><link rel="prefetch" href="/assets/js/page--src--pages--data-explorer-vue.58967285.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--archive-vue.e9003ff3.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--cofests--papercuts-vue.f6facc0a.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--cofests-vue.c3e8e2b2.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--webinars-vue.a50a8e37.js"><link rel="prefetch" href="/assets/js/page--src--pages--events-vue.6b44f711.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.e21f2675.js"><link rel="prefetch" href="/assets/js/page--src--pages--news-vue.d5cd41ec.js"><link rel="prefetch" href="/assets/js/page--src--pages--search-vue.090976ac.js"><link rel="prefetch" href="/assets/js/page--src--pages--tests-vue.9ef24b0f.js"><link rel="prefetch" href="/assets/js/page--src--pages--use-vue.0be01484.js"><link rel="prefetch" href="/assets/js/page--src--templates--platform-vue.a56e417a.js"><link rel="prefetch" href="/assets/js/page--src--templates--vue-article-vue.bfa2ba22.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--404-vue.769c153b.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--404-vue~page--src--pages--careers-vue~page--src--pages--search-vue~page--s~6aaa8394.b4529ad8.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--search-vue.8befcd1e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--index-md.11067c6d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--md--imgtests--imgdir--index-md.bf74dfc9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--partials--index-md.8656e780.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--imgtests--imgdir--index-md.eca7c5ac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--imgtests--index-md.a7cac9b3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--index-md.958d858f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--syntaxtests--index-md.da6161f9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--syntaxtests--reldir--index-md.854a3057.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--capacity-planning--index-md.69b7128e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--config--index-md.f2d1d7aa.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--config--performance--cluster--legacy--index-md.f9800132.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--datatypes--index-md.84ad32f5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--disk-quotas--index-md.3d889971.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--faq--index-md.910be801.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--internals--data-model--index-md.13008439.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--internals--galaxy-ops--index-md.a5346a8c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--ten-simple-steps-galaxy-as-a-service--index-md.e7a68355.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--tools--tool-config-syntax--index-md.9f6b28cb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--tools--writing-tests--index-md.4f24a155.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--allocation--index-md.6c4bec53.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--faq--index-md.e32353bc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--index-md.c0131e18.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--ssh--index-md.76a5a35d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--troubleshooting--index-md.ff16ed17.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--capacity-planning--index-md.7ebdba3e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--getting-started--index-md.0bee47f1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--index-md.cdda9a36.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--building--index-md.d1fb9af5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--capacity-planning--index-md.a45c87f5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--cluster-types--index-md.9c14189b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--customizing--index-md.9627664f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--faq--index-md.b2f845db.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--getting-started--index-md.4fc6ce5f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--getting-started--pre-201703--index-md.5b8c873a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--hadoop--index-md.a01cef54.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--ht-condor--index-md.0dcbc49e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--index-md.d5e2a096.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--openstack--index-md.eed9b01d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--services--index-md.db34aabc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--sharing--index-md.479cd135.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--troubleshooting--index-md.61ed81f7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--userdata--index-md.08ce96da.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--future--index-md.fef4a8cb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--index-md.78f52817.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-07-09--index-md.ac03a5b6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-07-27--index-md.a56bfa70.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-09-19--index-md.a0976ba4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-11-14--index-md.a9153135.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-01-16--index-md.1ba29422.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-03-20--index-md.0db664a3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-05-15--index-md.d37592fd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-11-20--index-md.a409dc1a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-02-19--index-md.42a2979f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-04-16--index-md.40d17d01.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-06-18--index-md.66f73e0e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-08-20--index-md.db54c8a7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-10-15--index-md.e234a0f3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-02-18--index-md.24a180df.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-04-21--index-md.0ba24e10.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-06-16--index-md.9e797eb1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-08-18--index-md.d83e8b4a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--index-md.540866ce.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--webinar-tech--index-md.a861e596.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--2012--index-md.436f25c1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--2014--index-md.26f60517.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--index-md.8c39551b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--data--index-md.89dfaed6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--datafiles--index-md.b8ea37ea.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--architecture--index-md.42a21fab.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--bitbucket--index-md.ed830e89.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--css--index-md.d7eb156b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--getting-started--index-md.bf1ead58.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--index-md.8eac10cf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--jsa--index-md.037a145c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--mercurial--index-md.4b546d11.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--security-tool-tips--index-md.8cdb7df5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--galaxy-project--index-md.4686d49d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--index-md.83cee777.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--papers--index-md.4b8ecfa4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--posters--index-md.d1e3edb4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--presentations--index-md.0e2d2e1a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--videos--index-md.70752028.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--advanced-session--index-md.b9f3ed1e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--basics-session--index-md.2bcf225d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--index-md.b8d05422.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--logistics--index-md.9a26fa92.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--publicity--index-md.cf406358.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--registration--index-md.a1309166.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--abstracts--index-md.b5b4584c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--index-md.b57031f3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--key-dates--index-md.8090038a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--lightning-talks--index-md.bc6442f2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--logistics--index-md.be6fe2d9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--organizing-committee--index-md.1c7932ef.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--photos--index-md.8bfc91d3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--automation-strategies--index-md.aab816f0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--bioinformatics-training--index-md.8b587560.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--end-users--index-md.f4036fe7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--workflows-and-api--index-md.f117be80.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--index-md.6eb6a1f1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--promotion--index-md.8a3e997f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--register--index-md.d6e73d37.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--sponsorships--index-md.9a501620.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--training-day--index-md.028bfddb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--index-md.f56e0e40.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--posters--index-md.54e334df.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--talks--index-md.e03ca9cd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--clinical-use-hpc-file-systems--index-md.479d8fca.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-admins--index-md.84645809.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-blast--index-md.4165d5c8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-professionals--index-md.4784e072.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--index-md.9735e2e7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--proteomics--index-md.235cc338.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--public-galaxy-servers--index-md.ca6be78b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--tool-developers--index-md.5488ae6c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--index-md.b6fe9d05.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--key-dates--index-md.95045adf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--lightning--index-md.0f476bf0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--logistics--index-md.3f7fab58.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--organizers--index-md.6b745e0b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--photos--index-md.46f289a6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--program--index-md.2dc90221.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--promotion--index-md.f86302a0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--register--index-md.b8ebbc6b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--sponsorships--index-md.5bd62dd5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--advance-tool-data--index-md.85274240.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--api--index-md.16264cdc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--index-md.01d1a1a9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--intro-tool-data--index-md.4db9ced0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--vms--index-md.f2bd63c3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--index-md.2bb7a0c5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--posters--index-md.79573dfe.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--talks--index-md.d3c01835.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--branch-release-merge--index-md.c6b43399.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-admins--index-md.0a5eb972.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-end-users--index-md.912197e9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-training-network--index-md.ee1827b5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--heterogeneous--index-md.9baea693.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--index-md.fdd1ffad.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--using-galaxy-ui-overview--index-md.9e227d33.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--hackathon--index-md.ed2f45ef.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--index-md.f1ed9a04.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--key-dates--index-md.fae4ba9d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--lightning--index-md.80c44468.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--logistics--index-md.841fc0fd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--organizers--index-md.7f343588.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--photos--index-md.2a63fc2a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--program--index-md.5ae4685e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--promotion--index-md.6e706c8a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--register--index-md.70e5c55a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--sponsor-exhibit--index-md.cf443bd4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--admin-walkthrough--index-md.83edf099.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--api--index-md.16d8430c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--data-managers--index-md.8b01904d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--index-md.420c7759.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--vms--index-md.8440c898.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--cwl--index-md.4c687cfe.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--data-management-challenges--index-md.46cbd5a6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--data-splitting-and-parallelism--index-md.596d67fa.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--elixir--index-md.b760684b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--extended-workflow--index-md.7abfaf7f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--fots--index-md.292a9f73.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-admins--index-md.86489759.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-community-uk--index-md.2f296ab3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-scientists--index-md.0650adbc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-training-network--index-md.bd7432f3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--index-md.698afae1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--data-hack-roundup--index-md.81d8b289.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--header--index-md.6a085933.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--index-md.9d5304e9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2016--bofs--index-md.e45fe6e9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--abstracts--index-md.1357c177.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--childcare--index-md.65f808f4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--cofest--index-md.e336528c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--conduct--index-md.cbb9369e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--faq--index-md.81a14824.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--index-md.eb9ca6ac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--organizers--index-md.fa504f7f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--promotion--index-md.e195e4c6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--registration--index-md.ff34324b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--sponsors--index-md.35239aeb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--training--index-md.35b38787.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--venue--index-md.b23ba2f9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--abstracts--index-md.a964faf5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--childcare--index-md.d77de6de.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--code-of-conduct--index-md.eafab0ba.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--collaboration--index-md.56a546a0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--faq--index-md.7336048d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--icebreaker--index-md.00e425d8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--index-md.efb025b5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--keynotes--index-md.2d849c13.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--organizers--index-md.194881fd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--promotion--index-md.bee008c6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--register--index-md.1b4ec5c7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--sponsors--index-md.561d5e54.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--training--index-md.8dd4291b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--venue--index-md.72afd1d4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--germany-2014--index-md.16cb7d43.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--germany-2016--index-md.cb7bab71.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--sg-2014--index-md.59dba3f9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--sg-2016--index-md.4280b00e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2014--index-md.f21026a7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2014--trainingday--index-md.de9750eb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2016--index-md.327bdf0d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--example--vue-remark--index-md.b7f18147.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--faqs--index-md.be042548.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--galaxy-updates--2013-06--index-md.20f3500b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--galaxy-updates--2013-07--index-md.87c20dee.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--icons--index-md.cd46c11c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--index-md.14afa90b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--logos--index-md.0fbf405d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--news-graphics--index-md.0fa5ff73.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--photos--index-md.c9d4f3be.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--screenshots--index-md.bc7be700.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--basic-editing--index-md.8e64f404.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--basic-editing--workflow-editor-unannotated--index-md.b60ef6c1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--extract--index-md.92f9a05c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--tool-panel--index-md.086fd516.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--variables--index-md.c9116760.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--faq--index-md.3a40d93c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--galaxy-pages--index-md.0feedd43.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--interval-operations--index-md.4adb4e28.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--main--faq--index-md.d705d512.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--tools--requirements--index-md.6870b69b.js"><link rel="stylesheet" href="/assets/css/0.styles.8bf9ec2e.css"><script data-vue-tag="ssr" src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="layout" data-v-818dbe78><header id="masthead"><nav class="navbar container justify-content-center navbar-dark bg-transparent navbar-expand-lg"><a href="/" target="_self" class="navbar-brand router-link-active"><img id="masthead-logo" src="/images/galaxy_logo_hub_white.svg" alt="Galaxy Community Hub" height="30"></a><button type="button" aria-label="Toggle navigation" class="navbar-toggler"><span class="navbar-toggler-icon"></span></button><div id="nav-collapse" class="navbar-collapse collapse" style="display:none;"><ul class="navbar-nav"><li class="nav-item"><a href="/use/" target="_self" class="nav-link">Use</a></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Learn</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/learn/" role="menuitem" target="_self" class="dropdown-item">How to use Galaxy</a></li><li role="presentation"><a role="menuitem" href="https://training.galaxyproject.org/" target="_self" class="dropdown-item">Teach with Galaxy</a></li></ul></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Community</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/community/" role="menuitem" target="_self" class="dropdown-item">About</a></li><li role="presentation"><a href="/events/" role="menuitem" target="_self" class="dropdown-item">Events</a></li><li role="presentation"><a href="/news/" role="menuitem" target="_self" class="dropdown-item">News</a></li><li role="presentation"><a href="/blog/" role="menuitem" target="_self" class="dropdown-item">Blog</a></li><li role="presentation"><a href="/publication-library/" role="menuitem" target="_self" class="dropdown-item">Publications</a></li><li role="presentation"><a href="/galaxy-project/statistics/" role="menuitem" target="_self" class="dropdown-item">Stats</a></li><li role="presentation"><a href="/careers/" role="menuitem" target="_self" class="dropdown-item">Careers</a></li></ul></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Deploy &amp; Develop</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/admin/get-galaxy/" role="menuitem" target="_self" class="dropdown-item">Install Galaxy</a></li><li role="presentation"><a href="/admin/" role="menuitem" target="_self" class="dropdown-item">Server administration</a></li><li role="presentation"><a href="/tools/" role="menuitem" target="_self" class="dropdown-item">Tools</a></li><li role="presentation"><a href="/develop/api/" role="menuitem" target="_self" class="dropdown-item">Working with the API</a></li><li role="presentation"><a href="/develop/" role="menuitem" target="_self" class="dropdown-item">Contributing</a></li><li role="presentation"><a href="/docs/" role="menuitem" target="_self" class="dropdown-item">Code documentation</a></li></ul></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Support</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/support/" role="menuitem" target="_self" class="dropdown-item">FAQ</a></li><li role="presentation"><a role="menuitem" href="https://help.galaxyproject.org/" target="_self" class="dropdown-item">Galaxy Help Forum</a></li></ul></li><li class="nav-item"><a href="/jxtx/" target="_self" class="nav-link">@jxtx</a></li></ul><ul class="navbar-nav ml-auto"><li class="form-inline"><form action="/search/" method="get" class="form-inline"><input id="search-input" name="q" type="text" placeholder="Search Galaxy" value="" class="mr-sm-2 form-control form-control-sm"><button type="submit" class="btn my-2 my-sm-0 btn-secondary btn-sm"><span class="fa fa-search"></span></button></form></li></ul></div></nav></header><section id="maincontainer" class="container"><header data-v-173c38b0 data-v-818dbe78><a href="/" class="link active" data-v-173c38b0>← Back to Home</a><!----><!----><h1 class="title" data-v-173c38b0>The Visualizations Registry</h1><!----><section class="metadata freetext" data-v-173c38b0><!----><!----><!----></section><!----><!----></header><div class="content markdown" data-v-818dbe78><div class="toc-wrapper col-md-3">
<ul>
<li><a href="#enabling-visualization-plugins-on-your-galaxy-installation">Enabling visualization plugins on your Galaxy installation</a></li>
<li><a href="#configuring-your-visualization-plugin-in-the-visualization_plugins_directory">Configuring your visualization plugin in the <code>visualization_plugins_directory</code></a></li>
<li>
<p><a href="#the-visualization-configuration-file">The visualization configuration file</a></p>
<ul>
<li>
<ul>
<li><a href="#a-simple-example">A simple example</a></li>
<li><a href="#data_sources--getting-visualization-data-into-a-link">data_sources : getting visualization data into a link</a></li>
<li><a href="#params--getting-link-data-into-your-code">params : getting link data into your code</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#creating-the-code-and-markup-for-your-visualization">Creating the code and markup for your visualization</a></p>
<ul>
<li>
<ul>
<li><a href="#your-visualizations-template-file">Your visualizations template file</a></li>
<li><a href="#the-data-in-your-target-dataset">The data in your target dataset</a></li>
<li><a href="#static-files-for-your-visualization">Static files for your visualization</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#further-examples">Further examples</a></li>
</ul>
</div>
<div class="body-wrapper col-md-9">
<p>The visualizations registry and plugin framework provides an easy way to create new, custom visualizations for almost
any data.</p>
<p>(For information on existing and built-in visualizations such as Trackster, please see:
<a href="/learn/visualization/">Learn/Visualization</a> and <a href="/visualization-setup/">Visualization Setup</a>)</p>
<p>There are three main steps to creating a visualization:</p>
<ol>
<li>Enabling visualization plugins on your Galaxy installation</li>
<li>Configuring your visualization plugin in the <code>visualization_plugins_directory</code></li>
<li>Creating the code and markup for your visualization</li>
</ol>
<p>(For more examples of on how the visualizations registry can be used than are on this page, see
<a href="/visualizations-registry/cookbook/">Visualizations Registry Cookbook</a>.</p>
<h2 id="enabling-visualization-plugins-on-your-galaxy-installation"><a href="#enabling-visualization-plugins-on-your-galaxy-installation" aria-hidden="true"><span class="icon icon-link"></span></a>Enabling visualization plugins on your Galaxy installation</h2>
<p>The visualizations registry uses a plugin architecture where the configuration, code, and markup for your
visualization's web page is placed within the <code>visualization_plugins_directory</code> of your Galaxy installation.</p>
<p>The <code>visualization_plugins_directory</code> is a setting in your <code>galaxy.ini</code> file (located in <code>&#x3C;your galaxy directory>/config/</code>) that tells Galaxy where to scan
for visualization plugins. It currently defaults to <code>&#x3C;your galaxy directory>/config/plugins/visualizations</code>
but can be set to any relative (to the galaxy directory) or absolute path reachable on the file system.</p>
<p>Make sure this setting is uncommented and set to the directory from which you want to serve visualizations:</p>
<pre><code class="language-bash"># Visualizations config directory: where to look for individual visualization plugins.
# The path is relative to the Galaxy root dir. To use an absolute path begin the path
# with '/'.
visualization_plugins_directory = config/plugins/visualizations
</code></pre>
<p>When enabled, the server log will print log messages when it finds and successfully loads a visualization plugin:</p>
<pre><code class="language-#!">galaxy.web.base.pluginframework INFO 2014-01-28 10:26:04,147 VisualizationsRegistry, loaded plugin: scatterplot
</code></pre>
<p>If there's an error in your visualization's configuration file (or it's been disabled), you'll see:</p>
<pre><code class="language-#!">galaxy.web.base.pluginframework WARNING 2014-01-28 10:26:04,147 VisualizationsRegistry, plugin load failed or disabled:
./config/plugins/visualizations/sweepster. Skipping...
</code></pre>
<p>When testing to see if your new plugin has been loaded, it's useful to look for these messages and any errors that
are output around them.</p>
<hr>
<h2 id="configuring-your-visualization-plugin-in-the-visualization_plugins_directory"><a href="#configuring-your-visualization-plugin-in-the-visualization_plugins_directory" aria-hidden="true"><span class="icon icon-link"></span></a>Configuring your visualization plugin in the <code>visualization_plugins_directory</code></h2>
<p>The second step to creating a new visualization plugin is to create the directories and (initial) files that the plugin
will use. At the very least, your plugin <em>must</em> have:</p>
<ol>
<li>A base directory within the <code>visualization_plugins_directory</code> with your visualization's name</li>
<li>A <code>config</code> directory and XML configuration file</li>
<li>A <code>template</code> directory and <a href="http://www.makotemplates.org/" target="_blank" rel="noopener noreferrer">Mako</a> template file (or files)</li>
</ol>
<p>For example, if your new visualization was to be called 'myvis', you'd need a structure like this:</p>
<pre><code class="language-#!">config/plugins/visualizations/
    └── myvis/
        ├── config/
        │       myvis.xml
        └── templates/
                myvis.mako
</code></pre>
<p>If a plugin doesn't have these basic files, it will fail to load. Note: <strong>The config file and mako file must share the
same name as the plugin name / plugin directory.</strong> In the example above that would be 'myvis', 'myvis.xml', and
'myvis.mako'.</p>
<p>Additionally and optionally, you can also include a <code>static</code> directory and any statically served files your
visualization may need (CSS, javascript, etc.):</p>
<pre><code class="language-#!">config/plugins/visualizations/
    └── myvis/
        ├── config/
        │       myvis.xml
        ├── templates/
        │       myvis.mako
        └── static/
                myscript.js
                js2.js
                vis-style.css
</code></pre>
<p>We'll cover each of these elements.</p>
<hr>
<h2 id="the-visualization-configuration-file"><a href="#the-visualization-configuration-file" aria-hidden="true"><span class="icon icon-link"></span></a>The visualization configuration file</h2>
<p>The configuration file in your visualization's <code>config</code> directory allows you a number of options to control how and
where your visualization is accessible to a user and the information your code will receive from Galaxy, including:</p>
<ol>
<li>what types of data are able to be visualized with the new visualization</li>
<li>how to create a link to the visualization when given the data</li>
<li>how to parse and render information from an incoming link and query string into the final visualization page</li>
</ol>
<p>The easiest way to get started is to simply copy an existing, working configuration file (such as
<code>config/plugins/visualizations/scatterplot/config/scatterplot.xml</code>) into your directory, rename it, and do only minor
editing. Chances are you won't need most of the options. We'll cover the basics here and more advanced options later.</p>
<p>Note: when your done editing your configuration file, you'll need to restart Galaxy in order for your visualization
plugin to be loaded.</p>
<h4 id="a-simple-example"><a href="#a-simple-example" aria-hidden="true"><span class="icon icon-link"></span></a>A simple example</h4>
<p>Here's an example configuration file for a visualization that uses SAM data from a dataset in a user's history:</p>
<pre><code class="language-xml">&#x3C;?xml version="1.0" encoding="UTF-8"?>
&#x3C;!DOCTYPE visualization SYSTEM "../../visualization.dtd">
&#x3C;visualization name="SAM Visualization">
    &#x3C;data_sources>
        &#x3C;data_source>
            &#x3C;model_class>HistoryDatasetAssociation&#x3C;/model_class>
            &#x3C;test type="isinstance" test_attr="datatype" result_type="datatype">tabular.Sam&#x3C;/test>
            &#x3C;to_param param_attr="id">dataset_id&#x3C;/to_param>
        &#x3C;/data_source>
    &#x3C;/data_sources>
    &#x3C;params>
        &#x3C;param type="dataset" var_name_in_template="hda" required="true">dataset_id&#x3C;/param>
    &#x3C;/params>
    &#x3C;template>sam.mako&#x3C;/template>
&#x3C;/visualization>
</code></pre>
<ul>
<li>Lines 1 and 2 are the xml language definition and a doctype definition respectively. These are required. The
<code>visualization.dtd</code> entry on line 2 describes the location of an XML DTD file that defines all the possible
valid options for a visualization configuration file. You may find this useful as a reference for advanced options.</li>
<li>Line 3 begins the visualization definition and contains the name attribute. This is the name that will commonly be
shown to users when the server creates a link to your visualization. It does not have to match the visualization name
you used for the directory and files but should still be unique.</li>
<li>Lines 4 through 13 contain two main sections: <code>data_sources</code> and <code>params</code>. These are explained next.</li>
<li>Line 14 defines the main Mako template used when serving the visualization. This is required.</li>
</ul>
<p><em>You can think of the <code>data_source</code> and <code>param</code> definitions in your configuration file as two ends of a pipe</em>. On one
end is some source of data you'd want to visualize and on the other end is the code that will generate your
visualization's web page. <code>data_source</code> definitions allow us to define when a link will be rendered for a user give some
source of visualization data.</p>
<pre><code>    some data source -> `data_source` definition -> link -> `param` definition -> your visualization code
</code></pre>
<h4 id="data_sources--getting-visualization-data-into-a-link"><a href="#data_sources--getting-visualization-data-into-a-link" aria-hidden="true"><span class="icon icon-link"></span></a>data_sources : getting visualization data into a link</h4>
<ul>
<li>Define when a visualization will apply and what sources of data it can use.</li>
<li>Help to serialize (in effect) that data source by defining how a link to it (and your visualization) will be created.</li>
<li>Allow you to send in optional data and settings to your visualization code.</li>
</ul>
<p>Not every visualization will or should be able to handle or use every type of data: a visualization that draws
phylogenetic trees might not be able to work with SAM data and so a SAM dataset should never be rendered with a link
to that visualization. In order to tell the registry (and Galaxy) when our visualization will apply and should be linked
to, we define a series of tests for the source of data or target object.</p>
<p>In our example, we only define one <code>data_source</code> and only test two attributes of that source to see if our visualization
can work with it:</p>
<p>a) is it a dataset from a user's history?</p>
<pre><code class="language-xml">        &#x3C;data_source>
            &#x3C;model_class>HistoryDatasetAssociation&#x3C;/model_class>
            ...
        &#x3C;/data_source>
</code></pre>
<p>This sees if the source of data has the python class <code>HistoryDatasetAssociation</code> which is the Galaxy class name for a
dataset contained within a history.</p>
<p>and b) is the dataset in the SAM format/datatype?</p>
<pre><code class="language-xml">        &#x3C;data_source>
            ...
            &#x3C;test type="isinstance" test_attr="datatype" result_type="datatype">tabular.Sam&#x3C;/test>
            ...
        &#x3C;/data_source>
</code></pre>
<p>This uses the python <code>isinstance</code> function to test if the <code>dataset.datatype</code> is the datatype class <code>tabular.Sam</code> (or
a subclass of it).</p>
<p>Finally, if the dataset passes those tests, we can send it (or any other information) to the visualization using a
<code>to_param</code> definition:</p>
<pre><code class="language-xml">        &#x3C;data_source>
            ...
            &#x3C;to_param param_attr="id">dataset_id&#x3C;/to_param>
        &#x3C;/data_source>
</code></pre>
<p>Here, we're telling the registry to add the <code>HistoryDatasetAssociation</code>'s <code>id</code> attribute to the final, rendered link
(Note: ids are automatically encoded before being added to the link):</p>
<pre><code class="language-#!">&#x3C;a href="http://localhost:8080/visualization/show/sam?dataset_id=f7bb1edd6b95db62">SAM Visualization&#x3C;/a>
</code></pre>
<p>This allows <code>param</code> definitions (the other end of the pipe) to parse <code>dataset_id</code> back into a
<code>HistoryDatasetAssociation</code> in your visualization code when the user clicks the link.</p>
<h4 id="params--getting-link-data-into-your-code"><a href="#params--getting-link-data-into-your-code" aria-hidden="true"><span class="icon icon-link"></span></a>params : getting link data into your code</h4>
<ul>
<li>Define when and how the information in a visualization's link is parsed into data usable by the visualization's code.</li>
</ul>
<p>In our example, we're attempting to visualize the data within a SAM dataset so we'll need to access the dataset from
our visualization code (<code>sam.mako</code>). The following <code>param</code> definition allows us to do that:</p>
<pre><code class="language-xml" class="..">    ...
    &#x3C;params>
        &#x3C;param type="dataset" var_name_in_template="hda" required="true">dataset_id&#x3C;/param>
    &#x3C;/params>
    ...
</code></pre>
<p>This tells the registry that when:</p>
<pre><code class="language-#!">&#x3C;a href="http://localhost:8080/visualization/show/sam?dataset_id=f7bb1edd6b95db62">SAM Visualization&#x3C;/a>
</code></pre>
<p>is clicked:</p>
<ol>
<li>the <code>dataset_id</code> should be parsed into a dataset (<code>type="dataset"</code>) by finding the <code>HistoryDatasetAssociation</code>
with the encoded id 'f7bb1edd6b95db62' in the database</li>
<li>the ORM model is passed to the template (in this case, <code>sam.mako</code>) under the name <code>hda</code> (<code>var_name_in_template="hda"</code>)</li>
<li>if <code>dataset_id</code> is <em>not</em> present in the link, an error will be raised (<code>required="true"</code>)</li>
</ol>
<p>Then, within <code>sam.mako</code>, we can access the ORM model of the <code>HistoryDatasetAssociation</code> the link was created for:</p>
<pre><code class="language-#!">&#x3C;h2>${hda.dataset.datatype} | ${hda.name}&#x3C;/h2>
</code></pre>
<p>For more information on visualization configuration options see <a href="/visualizations-registry/configuration/">Visualizations Registry Configuration</a>.</p>
<hr>
<h2 id="creating-the-code-and-markup-for-your-visualization"><a href="#creating-the-code-and-markup-for-your-visualization" aria-hidden="true"><span class="icon icon-link"></span></a>Creating the code and markup for your visualization</h2>
<p>The code for your visualization begins with a Mako template file.</p>
<h4 id="your-visualizations-template-file"><a href="#your-visualizations-template-file" aria-hidden="true"><span class="icon icon-link"></span></a>Your visualizations template file</h4>
<p>The main entry point for any code that you add will be your plugin's Mako template file. Within the template you can:</p>
<ul>
<li>import Galaxy modules</li>
<li>import and use your own modules</li>
<li>run python code</li>
<li>use the server to generate HTML or other browser compatible markup</li>
<li>load static resources like JavaScript libraries and scripts, images, or stylesheets</li>
<li>call JavaScript for user interface control or client-side rendering</li>
</ul>
<p>The template file Galaxy and the visualizations registry will use to start your visualization is defined in your config
file:</p>
<pre><code class="language-xml">&#x3C;visualization name="SAM Visualization">
    ...
    &#x3C;template>sam.mako&#x3C;/template>
&#x3C;/visualization>
</code></pre>
<p>This file must be located in the <code>templates</code> directory of your plugin directory.</p>
<h4 id="the-data-in-your-target-dataset"><a href="#the-data-in-your-target-dataset" aria-hidden="true"><span class="icon icon-link"></span></a>The data in your target dataset</h4>
<p>Inside the visualization template file, we'll need to access the data inside our target dataset (what we're really
interested in, of course).</p>
<p>From python, the best way to do this is with <code>DataProviders</code>. In the simplest terms, they create a python generator that
can iterate over the data in a dataset and output each datum. Each datum has been parsed and is in a specified format
with (hopefully) only minimum of work on your part.</p>
<p>For our example, let's say we want to just print the mapping quality for each read in the file:</p>
<pre><code class="language-mako" id="reads">    &#x3C;ul id="reads">
    %for read in hda.datatype.dataprovider( hda, 'dataset-dict' ):
        # the 'dataset-dict' provider returns lines/reads in a dictionary based on the column names of the dataset:
        # {'OPT': None, 'RNAME': '*', 'SEQ': ..., 'MAPQ': 0, 'MRNM': '*', 'ISIZE': 0}
        &#x3C;li>${read['MAPQ']}&#x3C;/li>
    %endfor
    &#x3C;/ul>
</code></pre>
<p>These are explained more fully at <a href="/data-providers/">Data Providers</a>.</p>
<h4 id="static-files-for-your-visualization"><a href="#static-files-for-your-visualization" aria-hidden="true"><span class="icon icon-link"></span></a>Static files for your visualization</h4>
<p>You can include static files usable by your visualization's web page by creating a <code>static</code> directory in your plugin's
base directory and placing files there. When the server is restarted, Galaxy will serve ...</p>
<p>For example, if we added a CSS file to our 'SAM Visualization' at <code>sam/static/style.css</code> we could load it and apply
it like any CSS stylesheet in our final template file by adding the path:</p>
<pre><code class="language-mako">&#x3C;!DOCTYPE HTML>
&#x3C;html>
&#x3C;head>
&#x3C;meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
&#x3C;title>${hda.name | h} | ${visualization_name}&#x3C;/title>
&#x3C;link type="text/css" rel="Stylesheet" media="screen" href="/plugins/visualizations/sam/static/style.css"">
...
</code></pre>
<p>Make sure variables that may correspond to user input (e.g. the name of the history item <code>hda.name</code>) and other input that may contain undesired HTML tags, need to be HTML-escaped (<code>${hda.name | h}</code>) to avoid possible code injections.</p>
<p>Note: we can use sub-directories here if desired. We could create sub-directories 'js', 'css', 'images', 'data' and
serve different static content from each.</p>
<p>We can also load any static file normally served by Galaxy as well without having to include them in your
static directory:</p>
<pre><code class="language-mako">...
&#x3C;script type="text/javascript" src="/static/scripts/libs/jquery/jquery.js">&#x3C;/script>
...
</code></pre>
<p>For more information on template or static code files see <a href="/visualizations-registry/code/">Visualizations Registry Code</a>.</p>
<hr>
<h2 id="further-examples"><a href="#further-examples" aria-hidden="true"><span class="icon icon-link"></span></a>Further examples</h2>
<p>For more examples on how the visualizations registry can be used see <a href="/visualizations-registry/cookbook/">Visualizations Registry Cookbook</a>.</p>
</div>
</div><footer data-v-54ece1d6 data-v-818dbe78><!----></footer><footer class="static-footer markdown"><p>The Galaxy Project is supported in part by NSF, NHGRI, The Huck Institutes of the Life Sciences, The Institute for CyberScience at Penn State, and Johns Hopkins University.</p>
</footer></section></div>
    <script>window.__INITIAL_STATE__={"data":{"article":{"id":"15126aa2654067bbf6031e4d7f0b6988","title":"The Visualizations Registry","tease":"","category":null,"date":null,"days":null,"contact":"","contact_url":"","authors":"","location":"","location_url":"","source_blog":"","source_blog_url":"","skip_title_render":null,"redirect":"","links":[],"image":"","images":{},"external_url":"","content":"\u003Cdiv class=\"toc-wrapper col-md-3\"\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#enabling-visualization-plugins-on-your-galaxy-installation\"\u003EEnabling visualization plugins on your Galaxy installation\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#configuring-your-visualization-plugin-in-the-visualization_plugins_directory\"\u003EConfiguring your visualization plugin in the \u003Ccode\u003Evisualization_plugins_directory\u003C\u002Fcode\u003E\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"#the-visualization-configuration-file\"\u003EThe visualization configuration file\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#a-simple-example\"\u003EA simple example\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#data_sources--getting-visualization-data-into-a-link\"\u003Edata_sources : getting visualization data into a link\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#params--getting-link-data-into-your-code\"\u003Eparams : getting link data into your code\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"#creating-the-code-and-markup-for-your-visualization\"\u003ECreating the code and markup for your visualization\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#your-visualizations-template-file\"\u003EYour visualizations template file\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#the-data-in-your-target-dataset\"\u003EThe data in your target dataset\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#static-files-for-your-visualization\"\u003EStatic files for your visualization\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#further-examples\"\u003EFurther examples\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"body-wrapper col-md-9\"\u003E\n\u003Cp\u003EThe visualizations registry and plugin framework provides an easy way to create new, custom visualizations for almost\nany data.\u003C\u002Fp\u003E\n\u003Cp\u003E(For information on existing and built-in visualizations such as Trackster, please see:\n\u003Ca href=\"\u002Flearn\u002Fvisualization\u002F\"\u003ELearn\u002FVisualization\u003C\u002Fa\u003E and \u003Ca href=\"\u002Fvisualization-setup\u002F\"\u003EVisualization Setup\u003C\u002Fa\u003E)\u003C\u002Fp\u003E\n\u003Cp\u003EThere are three main steps to creating a visualization:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EEnabling visualization plugins on your Galaxy installation\u003C\u002Fli\u003E\n\u003Cli\u003EConfiguring your visualization plugin in the \u003Ccode\u003Evisualization_plugins_directory\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003ECreating the code and markup for your visualization\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E(For more examples of on how the visualizations registry can be used than are on this page, see\n\u003Ca href=\"\u002Fvisualizations-registry\u002Fcookbook\u002F\"\u003EVisualizations Registry Cookbook\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2 id=\"enabling-visualization-plugins-on-your-galaxy-installation\"\u003E\u003Ca href=\"#enabling-visualization-plugins-on-your-galaxy-installation\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EEnabling visualization plugins on your Galaxy installation\u003C\u002Fh2\u003E\n\u003Cp\u003EThe visualizations registry uses a plugin architecture where the configuration, code, and markup for your\nvisualization's web page is placed within the \u003Ccode\u003Evisualization_plugins_directory\u003C\u002Fcode\u003E of your Galaxy installation.\u003C\u002Fp\u003E\n\u003Cp\u003EThe \u003Ccode\u003Evisualization_plugins_directory\u003C\u002Fcode\u003E is a setting in your \u003Ccode\u003Egalaxy.ini\u003C\u002Fcode\u003E file (located in \u003Ccode\u003E&#x3C;your galaxy directory\u003E\u002Fconfig\u002F\u003C\u002Fcode\u003E) that tells Galaxy where to scan\nfor visualization plugins. It currently defaults to \u003Ccode\u003E&#x3C;your galaxy directory\u003E\u002Fconfig\u002Fplugins\u002Fvisualizations\u003C\u002Fcode\u003E\nbut can be set to any relative (to the galaxy directory) or absolute path reachable on the file system.\u003C\u002Fp\u003E\n\u003Cp\u003EMake sure this setting is uncommented and set to the directory from which you want to serve visualizations:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003E# Visualizations config directory: where to look for individual visualization plugins.\n# The path is relative to the Galaxy root dir. To use an absolute path begin the path\n# with '\u002F'.\nvisualization_plugins_directory = config\u002Fplugins\u002Fvisualizations\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EWhen enabled, the server log will print log messages when it finds and successfully loads a visualization plugin:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-#!\"\u003Egalaxy.web.base.pluginframework INFO 2014-01-28 10:26:04,147 VisualizationsRegistry, loaded plugin: scatterplot\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EIf there's an error in your visualization's configuration file (or it's been disabled), you'll see:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-#!\"\u003Egalaxy.web.base.pluginframework WARNING 2014-01-28 10:26:04,147 VisualizationsRegistry, plugin load failed or disabled:\n.\u002Fconfig\u002Fplugins\u002Fvisualizations\u002Fsweepster. Skipping...\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EWhen testing to see if your new plugin has been loaded, it's useful to look for these messages and any errors that\nare output around them.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch2 id=\"configuring-your-visualization-plugin-in-the-visualization_plugins_directory\"\u003E\u003Ca href=\"#configuring-your-visualization-plugin-in-the-visualization_plugins_directory\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EConfiguring your visualization plugin in the \u003Ccode\u003Evisualization_plugins_directory\u003C\u002Fcode\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EThe second step to creating a new visualization plugin is to create the directories and (initial) files that the plugin\nwill use. At the very least, your plugin \u003Cem\u003Emust\u003C\u002Fem\u003E have:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EA base directory within the \u003Ccode\u003Evisualization_plugins_directory\u003C\u002Fcode\u003E with your visualization's name\u003C\u002Fli\u003E\n\u003Cli\u003EA \u003Ccode\u003Econfig\u003C\u002Fcode\u003E directory and XML configuration file\u003C\u002Fli\u003E\n\u003Cli\u003EA \u003Ccode\u003Etemplate\u003C\u002Fcode\u003E directory and \u003Ca href=\"http:\u002F\u002Fwww.makotemplates.org\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003EMako\u003C\u002Fa\u003E template file (or files)\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003EFor example, if your new visualization was to be called 'myvis', you'd need a structure like this:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-#!\"\u003Econfig\u002Fplugins\u002Fvisualizations\u002F\n    └── myvis\u002F\n        ├── config\u002F\n        │       myvis.xml\n        └── templates\u002F\n                myvis.mako\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EIf a plugin doesn't have these basic files, it will fail to load. Note: \u003Cstrong\u003EThe config file and mako file must share the\nsame name as the plugin name \u002F plugin directory.\u003C\u002Fstrong\u003E In the example above that would be 'myvis', 'myvis.xml', and\n'myvis.mako'.\u003C\u002Fp\u003E\n\u003Cp\u003EAdditionally and optionally, you can also include a \u003Ccode\u003Estatic\u003C\u002Fcode\u003E directory and any statically served files your\nvisualization may need (CSS, javascript, etc.):\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-#!\"\u003Econfig\u002Fplugins\u002Fvisualizations\u002F\n    └── myvis\u002F\n        ├── config\u002F\n        │       myvis.xml\n        ├── templates\u002F\n        │       myvis.mako\n        └── static\u002F\n                myscript.js\n                js2.js\n                vis-style.css\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EWe'll cover each of these elements.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch2 id=\"the-visualization-configuration-file\"\u003E\u003Ca href=\"#the-visualization-configuration-file\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EThe visualization configuration file\u003C\u002Fh2\u003E\n\u003Cp\u003EThe configuration file in your visualization's \u003Ccode\u003Econfig\u003C\u002Fcode\u003E directory allows you a number of options to control how and\nwhere your visualization is accessible to a user and the information your code will receive from Galaxy, including:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003Ewhat types of data are able to be visualized with the new visualization\u003C\u002Fli\u003E\n\u003Cli\u003Ehow to create a link to the visualization when given the data\u003C\u002Fli\u003E\n\u003Cli\u003Ehow to parse and render information from an incoming link and query string into the final visualization page\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003EThe easiest way to get started is to simply copy an existing, working configuration file (such as\n\u003Ccode\u003Econfig\u002Fplugins\u002Fvisualizations\u002Fscatterplot\u002Fconfig\u002Fscatterplot.xml\u003C\u002Fcode\u003E) into your directory, rename it, and do only minor\nediting. Chances are you won't need most of the options. We'll cover the basics here and more advanced options later.\u003C\u002Fp\u003E\n\u003Cp\u003ENote: when your done editing your configuration file, you'll need to restart Galaxy in order for your visualization\nplugin to be loaded.\u003C\u002Fp\u003E\n\u003Ch4 id=\"a-simple-example\"\u003E\u003Ca href=\"#a-simple-example\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EA simple example\u003C\u002Fh4\u003E\n\u003Cp\u003EHere's an example configuration file for a visualization that uses SAM data from a dataset in a user's history:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-xml\"\u003E&#x3C;?xml version=\"1.0\" encoding=\"UTF-8\"?\u003E\n&#x3C;!DOCTYPE visualization SYSTEM \"..\u002F..\u002Fvisualization.dtd\"\u003E\n&#x3C;visualization name=\"SAM Visualization\"\u003E\n    &#x3C;data_sources\u003E\n        &#x3C;data_source\u003E\n            &#x3C;model_class\u003EHistoryDatasetAssociation&#x3C;\u002Fmodel_class\u003E\n            &#x3C;test type=\"isinstance\" test_attr=\"datatype\" result_type=\"datatype\"\u003Etabular.Sam&#x3C;\u002Ftest\u003E\n            &#x3C;to_param param_attr=\"id\"\u003Edataset_id&#x3C;\u002Fto_param\u003E\n        &#x3C;\u002Fdata_source\u003E\n    &#x3C;\u002Fdata_sources\u003E\n    &#x3C;params\u003E\n        &#x3C;param type=\"dataset\" var_name_in_template=\"hda\" required=\"true\"\u003Edataset_id&#x3C;\u002Fparam\u003E\n    &#x3C;\u002Fparams\u003E\n    &#x3C;template\u003Esam.mako&#x3C;\u002Ftemplate\u003E\n&#x3C;\u002Fvisualization\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003ELines 1 and 2 are the xml language definition and a doctype definition respectively. These are required. The\n\u003Ccode\u003Evisualization.dtd\u003C\u002Fcode\u003E entry on line 2 describes the location of an XML DTD file that defines all the possible\nvalid options for a visualization configuration file. You may find this useful as a reference for advanced options.\u003C\u002Fli\u003E\n\u003Cli\u003ELine 3 begins the visualization definition and contains the name attribute. This is the name that will commonly be\nshown to users when the server creates a link to your visualization. It does not have to match the visualization name\nyou used for the directory and files but should still be unique.\u003C\u002Fli\u003E\n\u003Cli\u003ELines 4 through 13 contain two main sections: \u003Ccode\u003Edata_sources\u003C\u002Fcode\u003E and \u003Ccode\u003Eparams\u003C\u002Fcode\u003E. These are explained next.\u003C\u002Fli\u003E\n\u003Cli\u003ELine 14 defines the main Mako template used when serving the visualization. This is required.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cem\u003EYou can think of the \u003Ccode\u003Edata_source\u003C\u002Fcode\u003E and \u003Ccode\u003Eparam\u003C\u002Fcode\u003E definitions in your configuration file as two ends of a pipe\u003C\u002Fem\u003E. On one\nend is some source of data you'd want to visualize and on the other end is the code that will generate your\nvisualization's web page. \u003Ccode\u003Edata_source\u003C\u002Fcode\u003E definitions allow us to define when a link will be rendered for a user give some\nsource of visualization data.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E    some data source -\u003E `data_source` definition -\u003E link -\u003E `param` definition -\u003E your visualization code\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch4 id=\"data_sources--getting-visualization-data-into-a-link\"\u003E\u003Ca href=\"#data_sources--getting-visualization-data-into-a-link\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003Edata_sources : getting visualization data into a link\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003EDefine when a visualization will apply and what sources of data it can use.\u003C\u002Fli\u003E\n\u003Cli\u003EHelp to serialize (in effect) that data source by defining how a link to it (and your visualization) will be created.\u003C\u002Fli\u003E\n\u003Cli\u003EAllow you to send in optional data and settings to your visualization code.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ENot every visualization will or should be able to handle or use every type of data: a visualization that draws\nphylogenetic trees might not be able to work with SAM data and so a SAM dataset should never be rendered with a link\nto that visualization. In order to tell the registry (and Galaxy) when our visualization will apply and should be linked\nto, we define a series of tests for the source of data or target object.\u003C\u002Fp\u003E\n\u003Cp\u003EIn our example, we only define one \u003Ccode\u003Edata_source\u003C\u002Fcode\u003E and only test two attributes of that source to see if our visualization\ncan work with it:\u003C\u002Fp\u003E\n\u003Cp\u003Ea) is it a dataset from a user's history?\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-xml\"\u003E        &#x3C;data_source\u003E\n            &#x3C;model_class\u003EHistoryDatasetAssociation&#x3C;\u002Fmodel_class\u003E\n            ...\n        &#x3C;\u002Fdata_source\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThis sees if the source of data has the python class \u003Ccode\u003EHistoryDatasetAssociation\u003C\u002Fcode\u003E which is the Galaxy class name for a\ndataset contained within a history.\u003C\u002Fp\u003E\n\u003Cp\u003Eand b) is the dataset in the SAM format\u002Fdatatype?\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-xml\"\u003E        &#x3C;data_source\u003E\n            ...\n            &#x3C;test type=\"isinstance\" test_attr=\"datatype\" result_type=\"datatype\"\u003Etabular.Sam&#x3C;\u002Ftest\u003E\n            ...\n        &#x3C;\u002Fdata_source\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThis uses the python \u003Ccode\u003Eisinstance\u003C\u002Fcode\u003E function to test if the \u003Ccode\u003Edataset.datatype\u003C\u002Fcode\u003E is the datatype class \u003Ccode\u003Etabular.Sam\u003C\u002Fcode\u003E (or\na subclass of it).\u003C\u002Fp\u003E\n\u003Cp\u003EFinally, if the dataset passes those tests, we can send it (or any other information) to the visualization using a\n\u003Ccode\u003Eto_param\u003C\u002Fcode\u003E definition:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-xml\"\u003E        &#x3C;data_source\u003E\n            ...\n            &#x3C;to_param param_attr=\"id\"\u003Edataset_id&#x3C;\u002Fto_param\u003E\n        &#x3C;\u002Fdata_source\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EHere, we're telling the registry to add the \u003Ccode\u003EHistoryDatasetAssociation\u003C\u002Fcode\u003E's \u003Ccode\u003Eid\u003C\u002Fcode\u003E attribute to the final, rendered link\n(Note: ids are automatically encoded before being added to the link):\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-#!\"\u003E&#x3C;a href=\"http:\u002F\u002Flocalhost:8080\u002Fvisualization\u002Fshow\u002Fsam?dataset_id=f7bb1edd6b95db62\"\u003ESAM Visualization&#x3C;\u002Fa\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThis allows \u003Ccode\u003Eparam\u003C\u002Fcode\u003E definitions (the other end of the pipe) to parse \u003Ccode\u003Edataset_id\u003C\u002Fcode\u003E back into a\n\u003Ccode\u003EHistoryDatasetAssociation\u003C\u002Fcode\u003E in your visualization code when the user clicks the link.\u003C\u002Fp\u003E\n\u003Ch4 id=\"params--getting-link-data-into-your-code\"\u003E\u003Ca href=\"#params--getting-link-data-into-your-code\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003Eparams : getting link data into your code\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003EDefine when and how the information in a visualization's link is parsed into data usable by the visualization's code.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EIn our example, we're attempting to visualize the data within a SAM dataset so we'll need to access the dataset from\nour visualization code (\u003Ccode\u003Esam.mako\u003C\u002Fcode\u003E). The following \u003Ccode\u003Eparam\u003C\u002Fcode\u003E definition allows us to do that:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-xml\" class=\"..\"\u003E    ...\n    &#x3C;params\u003E\n        &#x3C;param type=\"dataset\" var_name_in_template=\"hda\" required=\"true\"\u003Edataset_id&#x3C;\u002Fparam\u003E\n    &#x3C;\u002Fparams\u003E\n    ...\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThis tells the registry that when:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-#!\"\u003E&#x3C;a href=\"http:\u002F\u002Flocalhost:8080\u002Fvisualization\u002Fshow\u002Fsam?dataset_id=f7bb1edd6b95db62\"\u003ESAM Visualization&#x3C;\u002Fa\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003Eis clicked:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003Ethe \u003Ccode\u003Edataset_id\u003C\u002Fcode\u003E should be parsed into a dataset (\u003Ccode\u003Etype=\"dataset\"\u003C\u002Fcode\u003E) by finding the \u003Ccode\u003EHistoryDatasetAssociation\u003C\u002Fcode\u003E\nwith the encoded id 'f7bb1edd6b95db62' in the database\u003C\u002Fli\u003E\n\u003Cli\u003Ethe ORM model is passed to the template (in this case, \u003Ccode\u003Esam.mako\u003C\u002Fcode\u003E) under the name \u003Ccode\u003Ehda\u003C\u002Fcode\u003E (\u003Ccode\u003Evar_name_in_template=\"hda\"\u003C\u002Fcode\u003E)\u003C\u002Fli\u003E\n\u003Cli\u003Eif \u003Ccode\u003Edataset_id\u003C\u002Fcode\u003E is \u003Cem\u003Enot\u003C\u002Fem\u003E present in the link, an error will be raised (\u003Ccode\u003Erequired=\"true\"\u003C\u002Fcode\u003E)\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003EThen, within \u003Ccode\u003Esam.mako\u003C\u002Fcode\u003E, we can access the ORM model of the \u003Ccode\u003EHistoryDatasetAssociation\u003C\u002Fcode\u003E the link was created for:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-#!\"\u003E&#x3C;h2\u003E${hda.dataset.datatype} | ${hda.name}&#x3C;\u002Fh2\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EFor more information on visualization configuration options see \u003Ca href=\"\u002Fvisualizations-registry\u002Fconfiguration\u002F\"\u003EVisualizations Registry Configuration\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch2 id=\"creating-the-code-and-markup-for-your-visualization\"\u003E\u003Ca href=\"#creating-the-code-and-markup-for-your-visualization\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ECreating the code and markup for your visualization\u003C\u002Fh2\u003E\n\u003Cp\u003EThe code for your visualization begins with a Mako template file.\u003C\u002Fp\u003E\n\u003Ch4 id=\"your-visualizations-template-file\"\u003E\u003Ca href=\"#your-visualizations-template-file\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EYour visualizations template file\u003C\u002Fh4\u003E\n\u003Cp\u003EThe main entry point for any code that you add will be your plugin's Mako template file. Within the template you can:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Eimport Galaxy modules\u003C\u002Fli\u003E\n\u003Cli\u003Eimport and use your own modules\u003C\u002Fli\u003E\n\u003Cli\u003Erun python code\u003C\u002Fli\u003E\n\u003Cli\u003Euse the server to generate HTML or other browser compatible markup\u003C\u002Fli\u003E\n\u003Cli\u003Eload static resources like JavaScript libraries and scripts, images, or stylesheets\u003C\u002Fli\u003E\n\u003Cli\u003Ecall JavaScript for user interface control or client-side rendering\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThe template file Galaxy and the visualizations registry will use to start your visualization is defined in your config\nfile:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-xml\"\u003E&#x3C;visualization name=\"SAM Visualization\"\u003E\n    ...\n    &#x3C;template\u003Esam.mako&#x3C;\u002Ftemplate\u003E\n&#x3C;\u002Fvisualization\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThis file must be located in the \u003Ccode\u003Etemplates\u003C\u002Fcode\u003E directory of your plugin directory.\u003C\u002Fp\u003E\n\u003Ch4 id=\"the-data-in-your-target-dataset\"\u003E\u003Ca href=\"#the-data-in-your-target-dataset\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EThe data in your target dataset\u003C\u002Fh4\u003E\n\u003Cp\u003EInside the visualization template file, we'll need to access the data inside our target dataset (what we're really\ninterested in, of course).\u003C\u002Fp\u003E\n\u003Cp\u003EFrom python, the best way to do this is with \u003Ccode\u003EDataProviders\u003C\u002Fcode\u003E. In the simplest terms, they create a python generator that\ncan iterate over the data in a dataset and output each datum. Each datum has been parsed and is in a specified format\nwith (hopefully) only minimum of work on your part.\u003C\u002Fp\u003E\n\u003Cp\u003EFor our example, let's say we want to just print the mapping quality for each read in the file:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-mako\" id=\"reads\"\u003E    &#x3C;ul id=\"reads\"\u003E\n    %for read in hda.datatype.dataprovider( hda, 'dataset-dict' ):\n        # the 'dataset-dict' provider returns lines\u002Freads in a dictionary based on the column names of the dataset:\n        # {'OPT': None, 'RNAME': '*', 'SEQ': ..., 'MAPQ': 0, 'MRNM': '*', 'ISIZE': 0}\n        &#x3C;li\u003E${read['MAPQ']}&#x3C;\u002Fli\u003E\n    %endfor\n    &#x3C;\u002Ful\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThese are explained more fully at \u003Ca href=\"\u002Fdata-providers\u002F\"\u003EData Providers\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch4 id=\"static-files-for-your-visualization\"\u003E\u003Ca href=\"#static-files-for-your-visualization\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EStatic files for your visualization\u003C\u002Fh4\u003E\n\u003Cp\u003EYou can include static files usable by your visualization's web page by creating a \u003Ccode\u003Estatic\u003C\u002Fcode\u003E directory in your plugin's\nbase directory and placing files there. When the server is restarted, Galaxy will serve ...\u003C\u002Fp\u003E\n\u003Cp\u003EFor example, if we added a CSS file to our 'SAM Visualization' at \u003Ccode\u003Esam\u002Fstatic\u002Fstyle.css\u003C\u002Fcode\u003E we could load it and apply\nit like any CSS stylesheet in our final template file by adding the path:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-mako\"\u003E&#x3C;!DOCTYPE HTML\u003E\n&#x3C;html\u003E\n&#x3C;head\u003E\n&#x3C;meta http-equiv=\"Content-Type\" content=\"text\u002Fhtml; charset=utf-8\" \u002F\u003E\n&#x3C;title\u003E${hda.name | h} | ${visualization_name}&#x3C;\u002Ftitle\u003E\n&#x3C;link type=\"text\u002Fcss\" rel=\"Stylesheet\" media=\"screen\" href=\"\u002Fplugins\u002Fvisualizations\u002Fsam\u002Fstatic\u002Fstyle.css\"\"\u003E\n...\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EMake sure variables that may correspond to user input (e.g. the name of the history item \u003Ccode\u003Ehda.name\u003C\u002Fcode\u003E) and other input that may contain undesired HTML tags, need to be HTML-escaped (\u003Ccode\u003E${hda.name | h}\u003C\u002Fcode\u003E) to avoid possible code injections.\u003C\u002Fp\u003E\n\u003Cp\u003ENote: we can use sub-directories here if desired. We could create sub-directories 'js', 'css', 'images', 'data' and\nserve different static content from each.\u003C\u002Fp\u003E\n\u003Cp\u003EWe can also load any static file normally served by Galaxy as well without having to include them in your\nstatic directory:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-mako\"\u003E...\n&#x3C;script type=\"text\u002Fjavascript\" src=\"\u002Fstatic\u002Fscripts\u002Flibs\u002Fjquery\u002Fjquery.js\"\u003E&#x3C;\u002Fscript\u003E\n...\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EFor more information on template or static code files see \u003Ca href=\"\u002Fvisualizations-registry\u002Fcode\u002F\"\u003EVisualizations Registry Code\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch2 id=\"further-examples\"\u003E\u003Ca href=\"#further-examples\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EFurther examples\u003C\u002Fh2\u003E\n\u003Cp\u003EFor more examples on how the visualizations registry can be used see \u003Ca href=\"\u002Fvisualizations-registry\u002Fcookbook\u002F\"\u003EVisualizations Registry Cookbook\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.35b28fcf.js" defer></script><script src="/assets/js/page--src--templates--article-vue.7f90f7d3.js" defer></script><script src="/assets/js/page--src--templates--article-vue~page--src--templates--vue-article-vue.c289395b.js" defer></script>
  </body>
</html>
