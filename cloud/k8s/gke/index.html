<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Deploy an Instance of Galaxy on Google Kubernetes Engine - Galaxy Community Hub</title><meta name="gridsome:hash" content="91d4a83f9855c194893a1f5e294057505b0cd33d"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="All about Galaxy and its community."><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.7d4a227415c9d9b704d56a079d49a3e1.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.7d4a227415c9d9b704d56a079d49a3e1.png"><link rel="preload" href="/assets/css/0.styles.e1e25242.css" as="style"><link rel="preload" href="/assets/js/app.0690a31c.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--article-vue.6d736ff4.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.9b913011.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.c32e3571.js"><link rel="prefetch" href="/assets/js/page--src--pages--careers-vue.85d2fb31.js"><link rel="prefetch" href="/assets/js/page--src--pages--data-explorer-vue.8aa3e295.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--archive-vue.1426fe7f.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--cofests--papercuts-vue.ab928745.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--cofests-vue.1e8420fc.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--webinars-vue.5d6fb146.js"><link rel="prefetch" href="/assets/js/page--src--pages--events-vue.cd4ed3c8.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.a143f0a2.js"><link rel="prefetch" href="/assets/js/page--src--pages--news-vue.2f002266.js"><link rel="prefetch" href="/assets/js/page--src--pages--search-vue.23e742ea.js"><link rel="prefetch" href="/assets/js/page--src--pages--tests-vue.3b995c11.js"><link rel="prefetch" href="/assets/js/page--src--pages--use-vue.7c5b8683.js"><link rel="prefetch" href="/assets/js/page--src--templates--platform-vue.91145b17.js"><link rel="prefetch" href="/assets/js/page--src--templates--vue-article-vue.d9a0c32e.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--careers-vue~page--src--pages--use-vue~page--src--templates--article-vue~pa~efade918.92a3a9c1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--index-md.b8e1f92a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--md--imgtests--imgdir--index-md.5311083e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--partials--index-md.b6884022.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--imgtests--imgdir--index-md.1ee4281c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--imgtests--index-md.fe03c46f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--index-md.05d8aec6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--syntaxtests--index-md.e7b48256.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--syntaxtests--reldir--index-md.4093d68b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--capacity-planning--index-md.8813525b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--config--index-md.aafe943e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--config--performance--cluster--legacy--index-md.3da8719f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--datatypes--index-md.9b672175.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--disk-quotas--index-md.44f752e9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--faq--index-md.3851dd50.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--internals--data-model--index-md.6d581759.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--internals--galaxy-ops--index-md.a3b0d0af.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--ten-simple-steps-galaxy-as-a-service--index-md.699b2e0d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--tools--tool-config-syntax--index-md.208f876a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--tools--writing-tests--index-md.b2caa913.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--allocation--index-md.de3e7728.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--faq--index-md.ac3b79f2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--index-md.328857f9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--ssh--index-md.d92fc074.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--troubleshooting--index-md.7c074dc2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--capacity-planning--index-md.01a397fa.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--getting-started--index-md.acdcb61b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--index-md.824830b5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--building--index-md.10fb8489.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--capacity-planning--index-md.e2d98e61.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--cluster-types--index-md.df053139.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--customizing--index-md.fb1f931d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--faq--index-md.b2fab4e5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--getting-started--index-md.d71b41b2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--getting-started--pre-201703--index-md.f5a4c4d0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--hadoop--index-md.d7a6d969.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--ht-condor--index-md.31bcf5d4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--index-md.b7b22e1d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--openstack--index-md.d78cb425.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--services--index-md.f2027d09.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--sharing--index-md.cd3d2d6f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--troubleshooting--index-md.fc1a0be3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--userdata--index-md.e4d95203.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--future--index-md.e75566ea.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--index-md.a767ff80.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-07-09--index-md.66c1654b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-07-27--index-md.c6d537c1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-09-19--index-md.544a522a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-11-14--index-md.4746a5d0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-01-16--index-md.d1551883.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-03-20--index-md.5094871c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-05-15--index-md.1897abfc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-11-20--index-md.c4d4ced5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-02-19--index-md.311ef2ba.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-04-16--index-md.0b281218.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-06-18--index-md.7c255863.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-08-20--index-md.43ba73c2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-10-15--index-md.bc11b58b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-02-18--index-md.1a182ba1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-04-21--index-md.5e9eea61.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-06-16--index-md.b1295236.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-08-18--index-md.d8fbe7ba.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--index-md.43055631.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--webinar-tech--index-md.a44b91e1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--2012--index-md.c7a0a096.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--2014--index-md.46c5bc59.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--index-md.34247339.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--data--index-md.46e24851.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--datafiles--index-md.77545970.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--architecture--index-md.55f07291.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--bitbucket--index-md.718bcb6c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--css--index-md.281229bf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--getting-started--index-md.497082a2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--index-md.392b2e76.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--jsa--index-md.ba998e94.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--mercurial--index-md.14a2dad8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--security-tool-tips--index-md.17796bc0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--galaxy-project--index-md.0de41023.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--index-md.d89e2857.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--papers--index-md.4bdf7b3e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--posters--index-md.7e825096.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--presentations--index-md.084c96b9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--videos--index-md.c984f7ce.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--advanced-session--index-md.191fe1da.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--basics-session--index-md.35c32703.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--index-md.8acf4593.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--logistics--index-md.37d0ac9b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--publicity--index-md.7f2eec38.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--registration--index-md.d22dcedd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--abstracts--index-md.bbbf6ae8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--index-md.cb62d683.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--key-dates--index-md.07f8d6b1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--lightning-talks--index-md.72ab128d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--logistics--index-md.c3eeb3dd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--organizing-committee--index-md.f7a53fcd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--photos--index-md.d5102197.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--automation-strategies--index-md.6972b31d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--bioinformatics-training--index-md.648f14ff.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--end-users--index-md.ff776d4f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--workflows-and-api--index-md.540ad6ba.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--index-md.d233185c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--promotion--index-md.212eb34b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--register--index-md.b4c4f57b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--sponsorships--index-md.d0539386.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--training-day--index-md.2ee4bcd3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--index-md.1aa46f9f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--posters--index-md.a8b0ee54.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--talks--index-md.b3ee75dc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--clinical-use-hpc-file-systems--index-md.3fc5e2ed.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-admins--index-md.2f878aaa.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-blast--index-md.5305db66.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-professionals--index-md.dcbf6370.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--index-md.3abd720e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--proteomics--index-md.f4d7daaf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--public-galaxy-servers--index-md.b346729f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--tool-developers--index-md.4365e2e3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--index-md.d58334f2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--key-dates--index-md.a3f7c6b8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--lightning--index-md.180bd3c7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--logistics--index-md.c889273c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--organizers--index-md.2f551bcb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--photos--index-md.38ee0e51.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--program--index-md.f2c70270.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--promotion--index-md.1e5aadf9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--register--index-md.99382e6b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--sponsorships--index-md.1e82df1d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--advance-tool-data--index-md.02e350f8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--api--index-md.23e9c64f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--index-md.7b6606de.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--intro-tool-data--index-md.1893d923.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--vms--index-md.eb7d2783.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--index-md.19ebb120.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--posters--index-md.19e77da9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--talks--index-md.69b1844f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--branch-release-merge--index-md.e83f529b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-admins--index-md.4c5b1df3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-end-users--index-md.6b3ff393.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-training-network--index-md.85db1b6f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--heterogeneous--index-md.26797010.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--index-md.ab231746.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--using-galaxy-ui-overview--index-md.3f0318f2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--hackathon--index-md.f1b7f383.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--index-md.894a1ae1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--key-dates--index-md.d3d9965a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--lightning--index-md.268064be.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--logistics--index-md.033eda0f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--organizers--index-md.73259cdb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--photos--index-md.3ee7fbac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--program--index-md.79995b28.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--promotion--index-md.59d9587a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--register--index-md.6cf374d9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--sponsor-exhibit--index-md.2aa46fae.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--admin-walkthrough--index-md.244e6bc0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--api--index-md.3aefd41a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--data-managers--index-md.ea9c133f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--index-md.1c4f2cb1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--vms--index-md.3a12839f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--cwl--index-md.29f1b923.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--data-management-challenges--index-md.5d4d1ee7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--data-splitting-and-parallelism--index-md.31c7354c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--elixir--index-md.e49743fc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--extended-workflow--index-md.ca7910bb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--fots--index-md.eea6d2b7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-admins--index-md.8df0d322.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-community-uk--index-md.69eb15c2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-scientists--index-md.3dd577a5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-training-network--index-md.d54633c6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--index-md.d03261e3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--data-hack-roundup--index-md.581fdf4b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--header--index-md.72afdfea.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--index-md.adc3dfb6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2016--bofs--index-md.e539350a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--abstracts--index-md.7322e906.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--childcare--index-md.416182d5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--cofest--index-md.ab0c9286.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--conduct--index-md.e979f793.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--faq--index-md.e8fa4530.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--index-md.876ea583.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--organizers--index-md.23f78b02.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--promotion--index-md.85444af0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--registration--index-md.5ed4fbf8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--sponsors--index-md.482f848f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--training--index-md.0709a7f7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--venue--index-md.238012f6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--abstracts--index-md.dc64d26a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--childcare--index-md.234bf37e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--code-of-conduct--index-md.3a181b70.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--collaboration--index-md.003698d8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--faq--index-md.6b9a5e1b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--icebreaker--index-md.bd0460e3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--index-md.139334ac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--keynotes--index-md.add6f018.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--organizers--index-md.8f9602b8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--promotion--index-md.55ce8ac1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--register--index-md.0b3372c2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--sponsors--index-md.4546b9bb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--training--index-md.9dbe3953.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--venue--index-md.1408cfc7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--germany-2014--index-md.4533e9c6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--germany-2016--index-md.da0aae7f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--sg-2014--index-md.38dcd568.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--sg-2016--index-md.80c32555.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2014--index-md.176fc9a2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2014--trainingday--index-md.774b7249.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2016--index-md.c5ea9a89.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--example--vue-remark--index-md.9e4f4358.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--faqs--index-md.a910449f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--galaxy-updates--2013-06--index-md.3a1cff95.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--galaxy-updates--2013-07--index-md.bb5876b9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--icons--index-md.9a000132.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--index-md.3b38f73f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--logos--index-md.aa44aae7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--news-graphics--index-md.05ad5cba.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--photos--index-md.1d8f64ab.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--screenshots--index-md.a201402f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--basic-editing--index-md.d08ab1a3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--basic-editing--workflow-editor-unannotated--index-md.e72b5147.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--extract--index-md.c7671571.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--tool-panel--index-md.ac20782a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--variables--index-md.3e2afdd3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--faq--index-md.09b46d8e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--galaxy-pages--index-md.ff01861b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--interval-operations--index-md.e1c040b2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--main--faq--index-md.0e15bbd0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--tools--requirements--index-md.d2018317.js"><link rel="stylesheet" href="/assets/css/0.styles.e1e25242.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="layout" data-v-340f7abc><header id="masthead"><nav class="navbar container justify-content-center navbar-dark bg-transparent navbar-expand-lg"><a href="/" target="_self" class="navbar-brand router-link-active"><img id="masthead-logo" src="/images/galaxy_logo_hub_white.svg" alt="Galaxy Community Hub" height="30"></a><button type="button" aria-label="Toggle navigation" class="navbar-toggler"><span class="navbar-toggler-icon"></span></button><div id="nav-collapse" class="navbar-collapse collapse" style="display:none;"><ul class="navbar-nav"><li class="nav-item"><a href="/use/" target="_self" class="nav-link">Use</a></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Learn</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/learn/" role="menuitem" target="_self" class="dropdown-item">How to use Galaxy</a></li><li role="presentation"><a role="menuitem" href="https://training.galaxyproject.org/" target="_self" class="dropdown-item">Teach with Galaxy</a></li></ul></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Community</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/community/" role="menuitem" target="_self" class="dropdown-item">About</a></li><li role="presentation"><a href="/events/" role="menuitem" target="_self" class="dropdown-item">Events</a></li><li role="presentation"><a href="/news/" role="menuitem" target="_self" class="dropdown-item">News</a></li><li role="presentation"><a href="/blog/" role="menuitem" target="_self" class="dropdown-item">Blog</a></li><li role="presentation"><a href="/publication-library/" role="menuitem" target="_self" class="dropdown-item">Publications</a></li><li role="presentation"><a href="/galaxy-project/statistics/" role="menuitem" target="_self" class="dropdown-item">Stats</a></li><li role="presentation"><a href="/careers/" role="menuitem" target="_self" class="dropdown-item">Careers</a></li></ul></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Deploy &amp; Develop</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/admin/get-galaxy/" role="menuitem" target="_self" class="dropdown-item">Install Galaxy</a></li><li role="presentation"><a href="/admin/" role="menuitem" target="_self" class="dropdown-item">Server administration</a></li><li role="presentation"><a href="/tools/" role="menuitem" target="_self" class="dropdown-item">Tools</a></li><li role="presentation"><a href="/develop/api/" role="menuitem" target="_self" class="dropdown-item">Working with the API</a></li><li role="presentation"><a href="/develop/" role="menuitem" target="_self" class="dropdown-item">Contributing</a></li><li role="presentation"><a href="/docs/" role="menuitem" target="_self" class="dropdown-item">Code documentation</a></li></ul></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Support</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/support/" role="menuitem" target="_self" class="dropdown-item">FAQ</a></li><li role="presentation"><a role="menuitem" href="https://help.galaxyproject.org/" target="_self" class="dropdown-item">Galaxy Help Forum</a></li></ul></li><li class="nav-item"><a href="/jxtx/" target="_self" class="nav-link">@jxtx</a></li></ul><ul class="navbar-nav ml-auto"><li class="form-inline"><form action="/search/" method="get" class="form-inline"><input id="search-input" name="q" type="text" placeholder="Search Galaxy" value="" class="mr-sm-2 form-control form-control-sm"><button type="submit" class="btn my-2 my-sm-0 btn-secondary btn-sm"><span class="fa fa-search"></span></button></form></li></ul></div></nav></header><section id="maincontainer" class="container"><header data-v-1944b8d1 data-v-340f7abc><a href="/" class="link active" data-v-1944b8d1>← Back to Home</a><!----><h1 class="title" data-v-1944b8d1>Deploy an Instance of Galaxy on Google Kubernetes Engine</h1><!----><section class="metadata freetext" data-v-1944b8d1><!----><!----><!----></section><!----><!----></header><div class="content markdown" data-v-340f7abc><div class="toc-wrapper col-md-3">
<ul>
<li><a href="#create-a-cluster">Create a Cluster</a></li>
<li><a href="#install-helm">Install Helm</a></li>
<li><a href="#deploy-galaxy-on-the-cluster">Deploy Galaxy on the Cluster</a></li>
<li><a href="#access-galaxy">Access Galaxy</a></li>
<li><a href="#delete-resources-and-gke-cluster">Delete Resources and GKE cluster</a></li>
</ul>
</div>
<div class="body-wrapper col-md-9">
<p>We break the steps of deploying a Galaxy instance on
<a href="https://cloud.google.com/kubernetes-engine/" target="_blank" rel="noopener noreferrer">Google Kubernetes Engine (GKE)</a>
to the following sections:</p>
<ul>
<li><a href="#create-a-cluster">Create a K8s cluster</a>;</li>
<li><a href="#install-helm">Install and configure Helm</a>;</li>
<li><a href="#deploy-galaxy-on-the-cluster">Deploy an instance of Galaxy using Helm charts</a>;</li>
<li><a href="#access-galaxy">Access Galaxy</a>;</li>
<li><a href="#delete-resources-and-gke-cluster">Delete cluster</a>.</li>
</ul>
<blockquote>
<p>Note that all the commands given in this tutorial have been tested in
<a href="https://cloud.google.com/shell/" target="_blank" rel="noopener noreferrer"><em>Cloud shell</em></a>; however, they may be
applicable to any console where the
<a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" target="_blank" rel="noopener noreferrer">K8s command-line tool (<code>kubectl</code>)</a>
is installed and configured.</p>
</blockquote>
<h1 id="create-a-cluster"><a href="#create-a-cluster" aria-hidden="true"><span class="icon icon-link"></span></a>Create a Cluster</h1>
<p>To create a GKE cluster, you may follow tutorials such as
<a href="https://cloud.google.com/kubernetes-engine/docs/how-to/creating-a-cluster" target="_blank" rel="noopener noreferrer">this</a> or
<a href="https://cloud.google.com/kubernetes-engine/docs/quickstart" target="_blank" rel="noopener noreferrer">this</a>.
Alternatively, you may run the following steps:</p>
<ol>
<li>Goto <a href="https://console.cloud.google.com/projectselector/kubernetes?_ga=2.101714888.-830640031.1571682936" target="_blank" rel="noopener noreferrer">K8s Engine page</a>.</li>
<li>Select a project, or create one if you already do not have one.</li>
<li>On the top-right, click on the <code>Activate Cloud Shell [>_]</code> button, and
<strong>keep this shell open as all the following commands are executed in this window</strong>.</li>
<li>
<p>Run the following commands in the opened shell:</p>
<ol>
<li>Configure project name:
<code>$ gcloud config set project &#x3C;PROJECT NAME></code>
Replace <code>&#x3C;PROJECT_NAME></code> with your selected project name.</li>
<li>
<p>Configure zone (e.g., us-central1-a):</p>
<pre><code>$ gcloud config set compute/zone &#x3C;ZONE>
</code></pre>
<p>Replace <code>&#x3C;ZONE></code> with your zone preference; you may get a list of
available zones using the following command:</p>
<pre><code>$ gcloud compute zones list
</code></pre>
</li>
<li>
<p>Create cluster:</p>
<pre><code>$ gcloud container clusters create &#x3C;CLUSTER_NAME> --cluster-version=1.13.7-gke.24 --num-nodes=1 --machine-type=n1-standard-32
</code></pre>
<p>The specific arguments are:</p>
<ul>
<li>Replace <code>&#x3C;CLUSTER_NAME></code> with your name preference.</li>
<li><code>cluster-version</code>: the instructions on this page are tested using
<code>--cluster-version=1.13.7-gke.24</code> for their compatibility
(with <code>helm</code>, discussed later on this page).</li>
<li><code>num-nodes</code>: the instructions on this page are compatible with a
single-node cluster (i.e., <code>--num-nodes=1</code>). A multi-node
cluster setup requires additional steps discussed in the following,
<strong>if you increment the number of nodes, make sure these configuration
are implemented</strong>.</li>
</ul>
<p><strong>Multi-node cluster</strong>: The cluster's default <code>storageClass</code> (which is
usually supports <code>ReadWriteOnce</code> access mode) will be used. If you
set-up a cluster with multiple nodes, a <code>storageClass</code> that supports
<code>ReadWriteMany</code> access mode should be available on the cluster, and
should be set using <code>--set presistence.storageClass=[storageClassName]</code>
(leaving <code>accessMode=ReadWriteMany</code>). We recommend using the
<a href="https://github.com/helm/charts/tree/master/stable/nfs-server-provisioner" target="_blank" rel="noopener noreferrer">NFS-Provisioner</a>
for a multi-node setup.</p>
<ul>
<li>
<p><code>machine-type</code>: the default machine type (i.e., <code>n1-standard-1</code>) can be considered
suboptimal for Galaxy requirements, hence we set the machine type to <code>n1-standard-32</code>
in this example. You may choose a machine type that serves best your requirements and
zone selection. You may obtain a list of available machine type using the following
command:</p>
<pre><code>$ gcloud compute machine-types list
</code></pre>
</li>
</ul>
<p>You may refer to <a href="https://cloud.google.com/sdk/gcloud/reference/container/clusters/create" target="_blank" rel="noopener noreferrer">this page</a>
for a complete list of the <code>gcloud</code> command arguments.</p>
</li>
</ol>
</li>
</ol>
<h1 id="install-helm"><a href="#install-helm" aria-hidden="true"><span class="icon icon-link"></span></a>Install Helm</h1>
<p><a href="https://helm.sh" target="_blank" rel="noopener noreferrer">Helm</a> is a K8s package manager, which is composed of two
components: client (<a href="https://helm.sh/docs/install/" target="_blank" rel="noopener noreferrer"><em>helm</em></a>) and
server (<a href="https://helm.sh/docs/glossary/#tiller" target="_blank" rel="noopener noreferrer"><em>tiller</em></a>).</p>
<p>In order to deploy a Galaxy instance on a K8s cluster, a <code>helm</code> and <code>tiller</code>
installations on the cluster are required. You may already have <code>helm</code> and <code>tiller</code>
installed on the cluster; you may run the following command to ensure they are
properly installed:</p>
<pre><code>$ helm version
</code></pre>
<p>If the output is as the following, you would need to configure <code>tiller</code>:</p>
<pre><code>Client: &#x26;version.Version{SemVer:"v2.14.1", GitCommit:"5270352a09c7e8b6e8c9593002a73535276507c0", GitTreeState:"clean"}
Error: could not find tiller
</code></pre>
<p>In order to install <code>helm</code> and <code>tiller</code>, run the following commands
in the <a href="https://cloud.google.com/shell/" target="_blank" rel="noopener noreferrer"><em>Cloud shell</em></a>:</p>
<pre><code>$ wget https://storage.googleapis.com/kubernetes-helm/helm-v2.14.1-linux-amd64.tar.gz
$ tar zxfv helm-v2.14.1-linux-amd64.tar.gz
$ sudo cp linux-amd64/helm /usr/local/bin/helm
$ kubectl create clusterrolebinding user-admin-binding --clusterrole=cluster-admin --user=$(gcloud config get-value account)
$ kubectl create serviceaccount tiller --namespace kube-system
$ kubectl create clusterrolebinding tiller-admin-binding --clusterrole=cluster-admin --serviceaccount=kube-system:tiller
$ helm init --service-account=tiller
$ helm repo update
$ rm helm-v2.14.1-linux-amd64.tar.gz
$ rm -r linux-amd64/
</code></pre>
<p>You may re-run the following command to ensure Helm client and server successful installation:</p>
<pre><code>$ helm version
Client: &#x26;version.Version{SemVer:"v2.14.1", GitCommit:"5270352a09c7e8b6e8c9593002a73535276507c0", GitTreeState:"clean"}
Server: &#x26;version.Version{SemVer:"v2.14.1", GitCommit:"5270352a09c7e8b6e8c9593002a73535276507c0", GitTreeState:"clean"}
</code></pre>
<p>Additionally, you may run the following command to ensure a <code>tiller</code>
<a href="https://kubernetes.io/docs/concepts/workloads/pods/pod/" target="_blank" rel="noopener noreferrer">pod</a> is running:</p>
<pre><code>$ kubectl -n kube-system get pods
NAME                                READY   STATUS    RESTARTS   AGE
tiller-deploy-6d65d78679-xr9f4      1/1     Running   0          3m17s
</code></pre>
<p>If the helm <code>tiller</code> pod is not running, you may re-install it using the
following commands:</p>
<pre><code>$ helm reset
$ kubectl create clusterrolebinding user-admin-binding --clusterrole=cluster-admin --user=$(gcloud config get-value account)
$ kubectl create serviceaccount tiller --namespace kube-system
$ kubectl create clusterrolebinding tiller-admin-binding --clusterrole=cluster-admin --serviceaccount=kube-system:tiller
$ helm init --service-account=tiller
$ helm update
</code></pre>
<h1 id="deploy-galaxy-on-the-cluster"><a href="#deploy-galaxy-on-the-cluster" aria-hidden="true"><span class="icon icon-link"></span></a>Deploy Galaxy on the Cluster</h1>
<p>The deployment of Galaxy on a K8s cluster consists of two steps discussed as it follows.</p>
<ol>
<li>
<p>[Optional] Deploy the <a href="https://cernvm.cern.ch/portal/filesystem" target="_blank" rel="noopener noreferrer">CernVM File System (CVMFS)</a>
service using <a href="https://github.com/CloudVE/galaxy-cvmfs-csi-chart" target="_blank" rel="noopener noreferrer">CVMFS-CSI chart</a>.
You may run the following commands for this deployment:</p>
<pre><code>$ git clone https://github.com/CloudVE/galaxy-cvmfs-csi-chart.git
$ helm install galaxy-cvmfs-csi-chart/galaxy-cvmfs-csi/ --namespace=cvmfs --name=gxy-cvmfs
</code></pre>
<p>If you get an error saying <code>Error: no available release name found</code>,
you may take the following steps:</p>
<ul>
<li>first <a href="https://helm.sh/docs/helm/#helm-reset" target="_blank" rel="noopener noreferrer">reset <code>helm</code></a>, then
re-run the aforementioned <code>helm install</code> command.</li>
<li>if resetting <code>helm</code> does not resolve the error, you may run the following commands:</li>
</ul>
<pre><code>$ kubectl create serviceaccount --namespace kube-system tiller
$ kubectl create clusterrolebinding tiller-cluster-rule --clusterrole=cluster-admin --serviceaccount=kube-system:tiller
$ kubectl patch deploy --namespace kube-system tiller-deploy -p '{"spec":{"template":{"spec":{"serviceAccount":"tiller"}}}}'
</code></pre>
</li>
<li>
<p>Deploy Galaxy helm chart using the following commands:</p>
<pre><code>$ git clone https://github.com/galaxyproject/galaxy-helm.git
$ cd galaxy-helm/galaxy
$ helm dependency update
$ helm install . --set persistence.accessMode=ReadWriteOnce --set service.type=LoadBalancer --set service.port=80 --set ingress.enabled=false -f values-cvmfs.yaml --name gxy --namespace gxy-namespace
$ kubectl config set-context --current --namespace=gxy-namespace
</code></pre>
<p>At this point, wait for about 8 minutes, and then check the status of the pods
if all are scheduled and running using the following command:</p>
<pre><code>$ kubectl get pods
NAME                              READY   STATUS    RESTARTS   AGE
gxy-galaxy-job-685ddbbf4b-7n8cx   1/1     Running   0          9m
gxy-galaxy-postgres-0             1/1     Running   0          9m
gxy-galaxy-web-555db6bcfb-2gwkh   1/1     Running   2          9m
</code></pre>
</li>
</ol>
<h1 id="access-galaxy"><a href="#access-galaxy" aria-hidden="true"><span class="icon icon-link"></span></a>Access Galaxy</h1>
<p>The deployed Galaxy can be accessed after the load balancer is ready,
which may take few minutes to be ready. The load balancer status can be
checked using the following command:</p>
<pre><code>$ kubectl get svc gxy-galaxy
NAME         TYPE           CLUSTER-IP     EXTERNAL-IP     PORT(S)        AGE
gxy-galaxy   LoadBalancer   10.43.245.53   104.198.225.7   80:30597/TCP   15m
</code></pre>
<p>The deployed Galaxy instance can be accessed from the following address:</p>
<pre><code>http://&#x3C;EXTERNAL-IP>:80
</code></pre>
<p>The <code>EXTERNAL-IP</code> address can be obtained from the output of the previous command.
For instance, the deployed Galaxy instance of this tutorial is accessible from the
following IP address:</p>
<pre><code>http://104.198.225.7:80
</code></pre>
<h1 id="delete-resources-and-gke-cluster"><a href="#delete-resources-and-gke-cluster" aria-hidden="true"><span class="icon icon-link"></span></a>Delete Resources and GKE cluster</h1>
<ol>
<li>
<p>You may <code>uninstall</code> the Galaxy helm chart release using the following command:</p>
<pre><code>$ helm del --purge my-gxy
</code></pre>
<p>If you also deployed the CVMFS-CSI Chart, you may also delete that release:</p>
<pre><code>$ helm del --purge gxy-cvmfs
</code></pre>
</li>
<li>
<p>If the <code>reclaimPolicy</code> of PVCs is <code>delete</code>, all resources deployed will be
deleted with the exception of the <code>Postgres</code> data PVC and Volume.
If you wish to delete this volume as well, use:</p>
<pre><code>kubectl --namespace mynamespace get pvc
kubectl delete pvc data-my-gxy-galaxy-postgres-0 --namespace mynamespace
</code></pre>
</li>
<li>
<p>Delete cluster:</p>
<p>You can delete the cluster either through the GKE dahsboard, or by using the
following command:</p>
<pre><code>gcloud container clusters delete [CLUSTER_NAME]
</code></pre>
<p>More info on deleting a GKE cluster can be found at the <a href="https://cloud.google.com/kubernetes-engine/docs/how-to/deleting-a-cluster" target="_blank" rel="noopener noreferrer">GKE docs</a>.</p>
</li>
</ol>
</div>
</div><footer data-v-4b3455de data-v-340f7abc><!----></footer><footer class="static-footer markdown"><p>The Galaxy Project is supported in part by NSF, NHGRI, The Huck Institutes of the Life Sciences, The Institute for CyberScience at Penn State, and Johns Hopkins University.</p>
</footer></section></div>
    <script>window.__INITIAL_STATE__={"data":{"article":{"id":"38b62cf037a2a7ea85e31a08096c4b1c","title":"Deploy an Instance of Galaxy on Google Kubernetes Engine","tease":"","category":null,"date":null,"days":null,"contact":"","contact_url":"","authors":"","location":"","location_url":"","source_blog":"","source_blog_url":"","skip_title_render":null,"links":[],"image":"","images":{},"external_url":"","content":"\u003Cdiv class=\"toc-wrapper col-md-3\"\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#create-a-cluster\"\u003ECreate a Cluster\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#install-helm\"\u003EInstall Helm\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#deploy-galaxy-on-the-cluster\"\u003EDeploy Galaxy on the Cluster\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#access-galaxy\"\u003EAccess Galaxy\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#delete-resources-and-gke-cluster\"\u003EDelete Resources and GKE cluster\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"body-wrapper col-md-9\"\u003E\n\u003Cp\u003EWe break the steps of deploying a Galaxy instance on\n\u003Ca href=\"https:\u002F\u002Fcloud.google.com\u002Fkubernetes-engine\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003EGoogle Kubernetes Engine (GKE)\u003C\u002Fa\u003E\nto the following sections:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#create-a-cluster\"\u003ECreate a K8s cluster\u003C\u002Fa\u003E;\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#install-helm\"\u003EInstall and configure Helm\u003C\u002Fa\u003E;\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#deploy-galaxy-on-the-cluster\"\u003EDeploy an instance of Galaxy using Helm charts\u003C\u002Fa\u003E;\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#access-galaxy\"\u003EAccess Galaxy\u003C\u002Fa\u003E;\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#delete-resources-and-gke-cluster\"\u003EDelete cluster\u003C\u002Fa\u003E.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ENote that all the commands given in this tutorial have been tested in\n\u003Ca href=\"https:\u002F\u002Fcloud.google.com\u002Fshell\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003E\u003Cem\u003ECloud shell\u003C\u002Fem\u003E\u003C\u002Fa\u003E; however, they may be\napplicable to any console where the\n\u003Ca href=\"https:\u002F\u002Fkubernetes.io\u002Fdocs\u002Ftasks\u002Ftools\u002Finstall-kubectl\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003EK8s command-line tool (\u003Ccode\u003Ekubectl\u003C\u002Fcode\u003E)\u003C\u002Fa\u003E\nis installed and configured.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch1 id=\"create-a-cluster\"\u003E\u003Ca href=\"#create-a-cluster\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ECreate a Cluster\u003C\u002Fh1\u003E\n\u003Cp\u003ETo create a GKE cluster, you may follow tutorials such as\n\u003Ca href=\"https:\u002F\u002Fcloud.google.com\u002Fkubernetes-engine\u002Fdocs\u002Fhow-to\u002Fcreating-a-cluster\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ethis\u003C\u002Fa\u003E or\n\u003Ca href=\"https:\u002F\u002Fcloud.google.com\u002Fkubernetes-engine\u002Fdocs\u002Fquickstart\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ethis\u003C\u002Fa\u003E.\nAlternatively, you may run the following steps:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EGoto \u003Ca href=\"https:\u002F\u002Fconsole.cloud.google.com\u002Fprojectselector\u002Fkubernetes?_ga=2.101714888.-830640031.1571682936\" target=\"_blank\" rel=\"noopener noreferrer\"\u003EK8s Engine page\u003C\u002Fa\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003ESelect a project, or create one if you already do not have one.\u003C\u002Fli\u003E\n\u003Cli\u003EOn the top-right, click on the \u003Ccode\u003EActivate Cloud Shell [\u003E_]\u003C\u002Fcode\u003E button, and\n\u003Cstrong\u003Ekeep this shell open as all the following commands are executed in this window\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003ERun the following commands in the opened shell:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EConfigure project name:\n\u003Ccode\u003E$ gcloud config set project &#x3C;PROJECT NAME\u003E\u003C\u002Fcode\u003E\nReplace \u003Ccode\u003E&#x3C;PROJECT_NAME\u003E\u003C\u002Fcode\u003E with your selected project name.\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EConfigure zone (e.g., us-central1-a):\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ gcloud config set compute\u002Fzone &#x3C;ZONE\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EReplace \u003Ccode\u003E&#x3C;ZONE\u003E\u003C\u002Fcode\u003E with your zone preference; you may get a list of\navailable zones using the following command:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ gcloud compute zones list\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003ECreate cluster:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ gcloud container clusters create &#x3C;CLUSTER_NAME\u003E --cluster-version=1.13.7-gke.24 --num-nodes=1 --machine-type=n1-standard-32\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe specific arguments are:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EReplace \u003Ccode\u003E&#x3C;CLUSTER_NAME\u003E\u003C\u002Fcode\u003E with your name preference.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Ecluster-version\u003C\u002Fcode\u003E: the instructions on this page are tested using\n\u003Ccode\u003E--cluster-version=1.13.7-gke.24\u003C\u002Fcode\u003E for their compatibility\n(with \u003Ccode\u003Ehelm\u003C\u002Fcode\u003E, discussed later on this page).\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Enum-nodes\u003C\u002Fcode\u003E: the instructions on this page are compatible with a\nsingle-node cluster (i.e., \u003Ccode\u003E--num-nodes=1\u003C\u002Fcode\u003E). A multi-node\ncluster setup requires additional steps discussed in the following,\n\u003Cstrong\u003Eif you increment the number of nodes, make sure these configuration\nare implemented\u003C\u002Fstrong\u003E.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cstrong\u003EMulti-node cluster\u003C\u002Fstrong\u003E: The cluster's default \u003Ccode\u003EstorageClass\u003C\u002Fcode\u003E (which is\nusually supports \u003Ccode\u003EReadWriteOnce\u003C\u002Fcode\u003E access mode) will be used. If you\nset-up a cluster with multiple nodes, a \u003Ccode\u003EstorageClass\u003C\u002Fcode\u003E that supports\n\u003Ccode\u003EReadWriteMany\u003C\u002Fcode\u003E access mode should be available on the cluster, and\nshould be set using \u003Ccode\u003E--set presistence.storageClass=[storageClassName]\u003C\u002Fcode\u003E\n(leaving \u003Ccode\u003EaccessMode=ReadWriteMany\u003C\u002Fcode\u003E). We recommend using the\n\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fhelm\u002Fcharts\u002Ftree\u002Fmaster\u002Fstable\u002Fnfs-server-provisioner\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ENFS-Provisioner\u003C\u002Fa\u003E\nfor a multi-node setup.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ccode\u003Emachine-type\u003C\u002Fcode\u003E: the default machine type (i.e., \u003Ccode\u003En1-standard-1\u003C\u002Fcode\u003E) can be considered\nsuboptimal for Galaxy requirements, hence we set the machine type to \u003Ccode\u003En1-standard-32\u003C\u002Fcode\u003E\nin this example. You may choose a machine type that serves best your requirements and\nzone selection. You may obtain a list of available machine type using the following\ncommand:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ gcloud compute machine-types list\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EYou may refer to \u003Ca href=\"https:\u002F\u002Fcloud.google.com\u002Fsdk\u002Fgcloud\u002Freference\u002Fcontainer\u002Fclusters\u002Fcreate\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ethis page\u003C\u002Fa\u003E\nfor a complete list of the \u003Ccode\u003Egcloud\u003C\u002Fcode\u003E command arguments.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch1 id=\"install-helm\"\u003E\u003Ca href=\"#install-helm\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EInstall Helm\u003C\u002Fh1\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fhelm.sh\" target=\"_blank\" rel=\"noopener noreferrer\"\u003EHelm\u003C\u002Fa\u003E is a K8s package manager, which is composed of two\ncomponents: client (\u003Ca href=\"https:\u002F\u002Fhelm.sh\u002Fdocs\u002Finstall\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003E\u003Cem\u003Ehelm\u003C\u002Fem\u003E\u003C\u002Fa\u003E) and\nserver (\u003Ca href=\"https:\u002F\u002Fhelm.sh\u002Fdocs\u002Fglossary\u002F#tiller\" target=\"_blank\" rel=\"noopener noreferrer\"\u003E\u003Cem\u003Etiller\u003C\u002Fem\u003E\u003C\u002Fa\u003E).\u003C\u002Fp\u003E\n\u003Cp\u003EIn order to deploy a Galaxy instance on a K8s cluster, a \u003Ccode\u003Ehelm\u003C\u002Fcode\u003E and \u003Ccode\u003Etiller\u003C\u002Fcode\u003E\ninstallations on the cluster are required. You may already have \u003Ccode\u003Ehelm\u003C\u002Fcode\u003E and \u003Ccode\u003Etiller\u003C\u002Fcode\u003E\ninstalled on the cluster; you may run the following command to ensure they are\nproperly installed:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ helm version\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EIf the output is as the following, you would need to configure \u003Ccode\u003Etiller\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003EClient: &#x26;version.Version{SemVer:\"v2.14.1\", GitCommit:\"5270352a09c7e8b6e8c9593002a73535276507c0\", GitTreeState:\"clean\"}\nError: could not find tiller\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EIn order to install \u003Ccode\u003Ehelm\u003C\u002Fcode\u003E and \u003Ccode\u003Etiller\u003C\u002Fcode\u003E, run the following commands\nin the \u003Ca href=\"https:\u002F\u002Fcloud.google.com\u002Fshell\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003E\u003Cem\u003ECloud shell\u003C\u002Fem\u003E\u003C\u002Fa\u003E:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ wget https:\u002F\u002Fstorage.googleapis.com\u002Fkubernetes-helm\u002Fhelm-v2.14.1-linux-amd64.tar.gz\n$ tar zxfv helm-v2.14.1-linux-amd64.tar.gz\n$ sudo cp linux-amd64\u002Fhelm \u002Fusr\u002Flocal\u002Fbin\u002Fhelm\n$ kubectl create clusterrolebinding user-admin-binding --clusterrole=cluster-admin --user=$(gcloud config get-value account)\n$ kubectl create serviceaccount tiller --namespace kube-system\n$ kubectl create clusterrolebinding tiller-admin-binding --clusterrole=cluster-admin --serviceaccount=kube-system:tiller\n$ helm init --service-account=tiller\n$ helm repo update\n$ rm helm-v2.14.1-linux-amd64.tar.gz\n$ rm -r linux-amd64\u002F\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EYou may re-run the following command to ensure Helm client and server successful installation:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ helm version\nClient: &#x26;version.Version{SemVer:\"v2.14.1\", GitCommit:\"5270352a09c7e8b6e8c9593002a73535276507c0\", GitTreeState:\"clean\"}\nServer: &#x26;version.Version{SemVer:\"v2.14.1\", GitCommit:\"5270352a09c7e8b6e8c9593002a73535276507c0\", GitTreeState:\"clean\"}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EAdditionally, you may run the following command to ensure a \u003Ccode\u003Etiller\u003C\u002Fcode\u003E\n\u003Ca href=\"https:\u002F\u002Fkubernetes.io\u002Fdocs\u002Fconcepts\u002Fworkloads\u002Fpods\u002Fpod\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Epod\u003C\u002Fa\u003E is running:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ kubectl -n kube-system get pods\nNAME                                READY   STATUS    RESTARTS   AGE\ntiller-deploy-6d65d78679-xr9f4      1\u002F1     Running   0          3m17s\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EIf the helm \u003Ccode\u003Etiller\u003C\u002Fcode\u003E pod is not running, you may re-install it using the\nfollowing commands:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ helm reset\n$ kubectl create clusterrolebinding user-admin-binding --clusterrole=cluster-admin --user=$(gcloud config get-value account)\n$ kubectl create serviceaccount tiller --namespace kube-system\n$ kubectl create clusterrolebinding tiller-admin-binding --clusterrole=cluster-admin --serviceaccount=kube-system:tiller\n$ helm init --service-account=tiller\n$ helm update\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch1 id=\"deploy-galaxy-on-the-cluster\"\u003E\u003Ca href=\"#deploy-galaxy-on-the-cluster\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EDeploy Galaxy on the Cluster\u003C\u002Fh1\u003E\n\u003Cp\u003EThe deployment of Galaxy on a K8s cluster consists of two steps discussed as it follows.\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E\n\u003Cp\u003E[Optional] Deploy the \u003Ca href=\"https:\u002F\u002Fcernvm.cern.ch\u002Fportal\u002Ffilesystem\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ECernVM File System (CVMFS)\u003C\u002Fa\u003E\nservice using \u003Ca href=\"https:\u002F\u002Fgithub.com\u002FCloudVE\u002Fgalaxy-cvmfs-csi-chart\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ECVMFS-CSI chart\u003C\u002Fa\u003E.\nYou may run the following commands for this deployment:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ git clone https:\u002F\u002Fgithub.com\u002FCloudVE\u002Fgalaxy-cvmfs-csi-chart.git\n$ helm install galaxy-cvmfs-csi-chart\u002Fgalaxy-cvmfs-csi\u002F --namespace=cvmfs --name=gxy-cvmfs\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EIf you get an error saying \u003Ccode\u003EError: no available release name found\u003C\u002Fcode\u003E,\nyou may take the following steps:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Efirst \u003Ca href=\"https:\u002F\u002Fhelm.sh\u002Fdocs\u002Fhelm\u002F#helm-reset\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ereset \u003Ccode\u003Ehelm\u003C\u002Fcode\u003E\u003C\u002Fa\u003E, then\nre-run the aforementioned \u003Ccode\u003Ehelm install\u003C\u002Fcode\u003E command.\u003C\u002Fli\u003E\n\u003Cli\u003Eif resetting \u003Ccode\u003Ehelm\u003C\u002Fcode\u003E does not resolve the error, you may run the following commands:\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ kubectl create serviceaccount --namespace kube-system tiller\n$ kubectl create clusterrolebinding tiller-cluster-rule --clusterrole=cluster-admin --serviceaccount=kube-system:tiller\n$ kubectl patch deploy --namespace kube-system tiller-deploy -p '{\"spec\":{\"template\":{\"spec\":{\"serviceAccount\":\"tiller\"}}}}'\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EDeploy Galaxy helm chart using the following commands:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ git clone https:\u002F\u002Fgithub.com\u002Fgalaxyproject\u002Fgalaxy-helm.git\n$ cd galaxy-helm\u002Fgalaxy\n$ helm dependency update\n$ helm install . --set persistence.accessMode=ReadWriteOnce --set service.type=LoadBalancer --set service.port=80 --set ingress.enabled=false -f values-cvmfs.yaml --name gxy --namespace gxy-namespace\n$ kubectl config set-context --current --namespace=gxy-namespace\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EAt this point, wait for about 8 minutes, and then check the status of the pods\nif all are scheduled and running using the following command:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ kubectl get pods\nNAME                              READY   STATUS    RESTARTS   AGE\ngxy-galaxy-job-685ddbbf4b-7n8cx   1\u002F1     Running   0          9m\ngxy-galaxy-postgres-0             1\u002F1     Running   0          9m\ngxy-galaxy-web-555db6bcfb-2gwkh   1\u002F1     Running   2          9m\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch1 id=\"access-galaxy\"\u003E\u003Ca href=\"#access-galaxy\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EAccess Galaxy\u003C\u002Fh1\u003E\n\u003Cp\u003EThe deployed Galaxy can be accessed after the load balancer is ready,\nwhich may take few minutes to be ready. The load balancer status can be\nchecked using the following command:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ kubectl get svc gxy-galaxy\nNAME         TYPE           CLUSTER-IP     EXTERNAL-IP     PORT(S)        AGE\ngxy-galaxy   LoadBalancer   10.43.245.53   104.198.225.7   80:30597\u002FTCP   15m\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe deployed Galaxy instance can be accessed from the following address:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003Ehttp:\u002F\u002F&#x3C;EXTERNAL-IP\u003E:80\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe \u003Ccode\u003EEXTERNAL-IP\u003C\u002Fcode\u003E address can be obtained from the output of the previous command.\nFor instance, the deployed Galaxy instance of this tutorial is accessible from the\nfollowing IP address:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003Ehttp:\u002F\u002F104.198.225.7:80\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch1 id=\"delete-resources-and-gke-cluster\"\u003E\u003Ca href=\"#delete-resources-and-gke-cluster\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EDelete Resources and GKE cluster\u003C\u002Fh1\u003E\n\u003Col\u003E\n\u003Cli\u003E\n\u003Cp\u003EYou may \u003Ccode\u003Euninstall\u003C\u002Fcode\u003E the Galaxy helm chart release using the following command:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ helm del --purge my-gxy\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EIf you also deployed the CVMFS-CSI Chart, you may also delete that release:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E$ helm del --purge gxy-cvmfs\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EIf the \u003Ccode\u003EreclaimPolicy\u003C\u002Fcode\u003E of PVCs is \u003Ccode\u003Edelete\u003C\u002Fcode\u003E, all resources deployed will be\ndeleted with the exception of the \u003Ccode\u003EPostgres\u003C\u002Fcode\u003E data PVC and Volume.\nIf you wish to delete this volume as well, use:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003Ekubectl --namespace mynamespace get pvc\nkubectl delete pvc data-my-gxy-galaxy-postgres-0 --namespace mynamespace\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EDelete cluster:\u003C\u002Fp\u003E\n\u003Cp\u003EYou can delete the cluster either through the GKE dahsboard, or by using the\nfollowing command:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003Egcloud container clusters delete [CLUSTER_NAME]\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EMore info on deleting a GKE cluster can be found at the \u003Ca href=\"https:\u002F\u002Fcloud.google.com\u002Fkubernetes-engine\u002Fdocs\u002Fhow-to\u002Fdeleting-a-cluster\" target=\"_blank\" rel=\"noopener noreferrer\"\u003EGKE docs\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fdiv\u003E\n"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.0690a31c.js" defer></script><script src="/assets/js/page--src--templates--article-vue.6d736ff4.js" defer></script>
  </body>
</html>
