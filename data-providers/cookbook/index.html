<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>DataProviders Cookbook - Galaxy Community Hub</title><meta name="gridsome:hash" content="64a9e8afa68c1466f7ef441294c96aecf9a68066"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="All about Galaxy and its community."><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.7d4a227415c9d9b704d56a079d49a3e1.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.7d4a227415c9d9b704d56a079d49a3e1.png"><link rel="preload" href="/assets/css/0.styles.5b1099da.css" as="style"><link rel="preload" href="/assets/js/app.6a2146ae.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--article-vue.59a31f82.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.9b913011.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.b9d631d5.js"><link rel="prefetch" href="/assets/js/page--src--pages--careers-vue.7bdfa9aa.js"><link rel="prefetch" href="/assets/js/page--src--pages--data-explorer-vue.50f81452.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--archive-vue.bdcb994f.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--cofests--papercuts-vue.9624a935.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--cofests-vue.3da6c251.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--webinars-vue.4cf7aa8a.js"><link rel="prefetch" href="/assets/js/page--src--pages--events-vue.3f22c4a9.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.8b7e39d4.js"><link rel="prefetch" href="/assets/js/page--src--pages--news-vue.357930b0.js"><link rel="prefetch" href="/assets/js/page--src--pages--search-vue.1a4d1477.js"><link rel="prefetch" href="/assets/js/page--src--pages--tests-vue.093ab612.js"><link rel="prefetch" href="/assets/js/page--src--pages--use-vue.c890644b.js"><link rel="prefetch" href="/assets/js/page--src--templates--platform-vue.0db261b0.js"><link rel="prefetch" href="/assets/js/page--src--templates--vue-article-vue.454443f9.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--careers-vue~page--src--pages--use-vue~page--src--templates--article-vue~pa~efade918.c3041708.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--search-vue.5670e8f9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--index-md.7ef1364e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--md--imgtests--imgdir--index-md.2e934c33.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--partials--index-md.eeba3cb6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--imgtests--imgdir--index-md.92886b7f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--imgtests--index-md.eab5717f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--index-md.e1baaf22.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--syntaxtests--index-md.861c549e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--syntaxtests--reldir--index-md.aa6f3c64.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--capacity-planning--index-md.bfc3219e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--config--index-md.bec55add.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--config--performance--cluster--legacy--index-md.e37560d2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--datatypes--index-md.534701f8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--disk-quotas--index-md.33c98ae0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--faq--index-md.8a142c3e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--internals--data-model--index-md.dbe6d521.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--internals--galaxy-ops--index-md.ae261eb0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--ten-simple-steps-galaxy-as-a-service--index-md.7f58c8af.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--tools--tool-config-syntax--index-md.cd8060f8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--tools--writing-tests--index-md.67221f9c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--allocation--index-md.de0ec1f4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--faq--index-md.4669ecb3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--index-md.cf67f110.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--ssh--index-md.0e243102.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--troubleshooting--index-md.35efbe50.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--capacity-planning--index-md.dc90802a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--getting-started--index-md.2ca2f401.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--index-md.8415a706.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--building--index-md.d98aeff8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--capacity-planning--index-md.4510948e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--cluster-types--index-md.cac4089c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--customizing--index-md.e2b286b6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--faq--index-md.2b285c3a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--getting-started--index-md.ea2ebc17.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--getting-started--pre-201703--index-md.11c5fe6a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--hadoop--index-md.bb206ee6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--ht-condor--index-md.9da34f44.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--index-md.233a66d8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--openstack--index-md.ab85a30a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--services--index-md.10c9f181.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--sharing--index-md.d6d1b6d6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--troubleshooting--index-md.9c79821f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--userdata--index-md.53f02454.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--future--index-md.57f97361.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--index-md.9651e1c9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-07-09--index-md.ad9dcbc5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-07-27--index-md.7471bbe4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-09-19--index-md.e1e5e8d8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-11-14--index-md.9f83078a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-01-16--index-md.4539d357.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-03-20--index-md.70ed6c95.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-05-15--index-md.4688a0b3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-11-20--index-md.f2ba774b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-02-19--index-md.79bdf65d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-04-16--index-md.4a242376.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-06-18--index-md.440620d8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-08-20--index-md.376ae2ed.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-10-15--index-md.27dc34e9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-02-18--index-md.fdb95229.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-04-21--index-md.f92b0f6d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-06-16--index-md.fe11d204.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-08-18--index-md.f52ed1f8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--index-md.9f7dc20a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--webinar-tech--index-md.d949fe23.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--2012--index-md.c7266273.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--2014--index-md.e4286fb0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--index-md.d66e06d1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--data--index-md.20e48791.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--datafiles--index-md.2d10c564.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--architecture--index-md.4629c460.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--bitbucket--index-md.74b0114b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--css--index-md.657cefe3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--getting-started--index-md.328bffc8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--index-md.09543e4e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--jsa--index-md.6375449f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--mercurial--index-md.86dc9b7b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--security-tool-tips--index-md.f4faf0d9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--galaxy-project--index-md.3e02395c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--index-md.4d9d00ba.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--papers--index-md.c7f4278a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--posters--index-md.75155b75.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--presentations--index-md.28312b2f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--videos--index-md.53f176ff.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--advanced-session--index-md.6bd7cd89.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--basics-session--index-md.a7aa2234.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--index-md.881dccf2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--logistics--index-md.1a0b965f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--publicity--index-md.5fc8d7c6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--registration--index-md.a85019e7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--abstracts--index-md.f45d8543.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--index-md.41cde30b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--key-dates--index-md.eb4461fb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--lightning-talks--index-md.416549ba.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--logistics--index-md.a40269b5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--organizing-committee--index-md.b5fc35e6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--photos--index-md.a9d9d78d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--automation-strategies--index-md.53a84cb2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--bioinformatics-training--index-md.5576edcf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--end-users--index-md.0b5fa62e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--workflows-and-api--index-md.03c0504a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--index-md.b8fa162b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--promotion--index-md.f38b09af.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--register--index-md.f4320c18.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--sponsorships--index-md.3e9b6ca4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--training-day--index-md.30df8ca8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--index-md.53afc104.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--posters--index-md.5a1c5bbd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--talks--index-md.24bf003b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--clinical-use-hpc-file-systems--index-md.54a9c0d6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-admins--index-md.4e804331.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-blast--index-md.5d5d7573.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-professionals--index-md.ee96dc73.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--index-md.e819dfd1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--proteomics--index-md.adb5209b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--public-galaxy-servers--index-md.5b535d3b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--tool-developers--index-md.934ab089.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--index-md.fc9e5d60.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--key-dates--index-md.9feb96c8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--lightning--index-md.986b956c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--logistics--index-md.aafc45da.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--organizers--index-md.8129c4fe.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--photos--index-md.9f48888b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--program--index-md.afd0b377.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--promotion--index-md.84a5ce7a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--register--index-md.e8a8cb9e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--sponsorships--index-md.f3562bcc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--advance-tool-data--index-md.f69ec61d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--api--index-md.e7ae288d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--index-md.4419ab24.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--intro-tool-data--index-md.2505a2c4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--vms--index-md.31fa2f12.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--index-md.44077d78.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--posters--index-md.968309e7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--talks--index-md.3bd80461.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--branch-release-merge--index-md.cc4e0d0a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-admins--index-md.c1aa37dd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-end-users--index-md.3ddb7f3b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-training-network--index-md.43cdc565.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--heterogeneous--index-md.810f499a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--index-md.27205369.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--using-galaxy-ui-overview--index-md.770275d4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--hackathon--index-md.23dc0e2f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--index-md.b84a33d4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--key-dates--index-md.afa58daf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--lightning--index-md.6722fb11.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--logistics--index-md.74e0dab1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--organizers--index-md.80304844.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--photos--index-md.976fd862.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--program--index-md.d8e5ebc7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--promotion--index-md.577f91cb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--register--index-md.09b57f47.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--sponsor-exhibit--index-md.d28c30a0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--admin-walkthrough--index-md.e70f4130.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--api--index-md.3e466840.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--data-managers--index-md.c4c90feb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--index-md.09eceaad.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--vms--index-md.a9f99c81.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--cwl--index-md.572d144e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--data-management-challenges--index-md.6519a99a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--data-splitting-and-parallelism--index-md.f9225e89.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--elixir--index-md.83e340c0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--extended-workflow--index-md.84d907aa.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--fots--index-md.9eb9fbae.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-admins--index-md.013a0661.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-community-uk--index-md.73da832e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-scientists--index-md.8271737e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-training-network--index-md.2c5cf472.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--index-md.50db5ff8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--data-hack-roundup--index-md.54209e2d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--header--index-md.99f7b8a4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--index-md.b607d569.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2016--bofs--index-md.1a1d782b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--abstracts--index-md.8a86f254.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--childcare--index-md.46870d68.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--cofest--index-md.558efeda.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--conduct--index-md.4cdcc7b1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--faq--index-md.54d3f72a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--index-md.03d62056.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--organizers--index-md.0ca6c313.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--promotion--index-md.a0d7a442.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--registration--index-md.be067239.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--sponsors--index-md.b823edb9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--training--index-md.8e06e99f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--venue--index-md.bd503783.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--abstracts--index-md.7206d890.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--childcare--index-md.7f23990a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--code-of-conduct--index-md.9c7749ad.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--collaboration--index-md.d2df60a9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--faq--index-md.3263be33.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--icebreaker--index-md.ab42ed08.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--index-md.2726d22d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--keynotes--index-md.dfee893e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--organizers--index-md.7cdb9d53.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--promotion--index-md.3881bf6d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--register--index-md.5ca35f56.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--sponsors--index-md.8fef601a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--training--index-md.37b79dad.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--venue--index-md.7c4dd44e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--germany-2014--index-md.286c0184.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--germany-2016--index-md.6c02f7a2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--sg-2014--index-md.e1f8864b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--sg-2016--index-md.eed2cd9b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2014--index-md.5356abdf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2014--trainingday--index-md.45d2d738.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2016--index-md.837d1830.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--example--vue-remark--index-md.972b7a38.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--faqs--index-md.ecb23aeb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--galaxy-updates--2013-06--index-md.dfe44fb6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--galaxy-updates--2013-07--index-md.c147ef3d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--icons--index-md.b3e66524.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--index-md.27f20470.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--logos--index-md.5cf6a844.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--news-graphics--index-md.68e69490.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--photos--index-md.96cfd5fc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--screenshots--index-md.6188b2ad.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--basic-editing--index-md.c0be3976.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--basic-editing--workflow-editor-unannotated--index-md.c7e004d5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--extract--index-md.1f732370.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--tool-panel--index-md.861a5048.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--variables--index-md.c521b297.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--faq--index-md.1591ea49.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--galaxy-pages--index-md.321b9ce8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--interval-operations--index-md.cab27468.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--main--faq--index-md.7ee220fd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--tools--requirements--index-md.bcb851a8.js"><link rel="stylesheet" href="/assets/css/0.styles.5b1099da.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="layout" data-v-14d6d1e0><header id="masthead"><nav class="container navbar navbar-expand-lg navbar-dark justify-content-center"><a href="/" class="navbar-brand active"><img id="masthead-logo" src="/images/galaxy_logo_hub_white.svg" alt="Galaxy Community Hub" height="30"></a><div id="navbarToggleWrapper" class="collapse navbar-collapse mx-auto"><ul class="navbar-nav"><li class="nav-item"><a href="/use/" role="button" aria-expanded="false" class="nav-link dropdown">
          Use
        </a></li><li class="nav-item dropdown"><a href="#" data-toggle="dropdown" role="button" aria-expanded="false" class="nav-link dropdown-toggle">
          Learn
          <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/learn/" class="dropdown-item">How to use Galaxy</a></li><li><a href="https://training.galaxyproject.org/" class="dropdown-item">Teach with Galaxy</a></li></ul></li><li class="nav-item dropdown"><a href="#" data-toggle="dropdown" role="button" class="nav-link dropdown-toggle">
          Community
          <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/community/" class="dropdown-item">About</a></li><li><a href="/events/" class="dropdown-item">Events</a></li><li><a href="/news/" class="dropdown-item">News</a></li><li><a href="/blog/" class="dropdown-item">Blog</a></li><li><a href="/publication-library/" class="dropdown-item">Publications</a></li><li><a href="/galaxy-project/statistics/" class="dropdown-item">Stats</a></li><li><a href="/careers/" class="dropdown-item">Careers</a></li></ul></li><li class="nav-item dropdown"><a href="#" data-toggle="dropdown" role="button" class="nav-link dropdown-toggle">
          Deploy &amp; Develop
          <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/admin/get-galaxy/" class="dropdown-item">Install Galaxy</a></li><li><a href="/admin/" class="dropdown-item">Server administration</a></li><li><a href="/tools/" class="dropdown-item">Tools</a></li><li><a href="/develop/api/" class="dropdown-item">Working with the API</a></li><li><a href="/develop/" class="dropdown-item">Contributing</a></li><li><a href="/docs/" class="dropdown-item">Code documentation</a></li></ul></li><li class="nav-item dropdown"><a href="#" data-toggle="dropdown" role="button" class="nav-link dropdown-toggle">
          Support
          <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/support/" class="dropdown-item">FAQ</a></li><li><a href="https://help.galaxyproject.org/" class="dropdown-item">Galaxy Help Forum</a></li></ul></li><li class="nav-item"><a href="/jxtx/" role="button" aria-expanded="false" class="nav-link dropdown">
          @jxtx
        </a></li></ul><ul class="navbar-nav ml-auto"><li><form method="get" action="/search/" class="my-2 navbar-form"><div class="input-group"><input id="search-input" name="q" placeholder="Search Galaxy" class="form-control"><span class="input-group-btn"><button type="submit" class="btn btn-secondary"><span class="fa fa-search"></span></button></span></div></form></li></ul></div></nav></header><section id="maincontainer" class="container"><header data-v-08ecca1f data-v-14d6d1e0><a href="/" class="link active" data-v-08ecca1f>← Back to Home</a><!----><h1 class="title" data-v-08ecca1f>DataProviders Cookbook</h1><!----><section class="metadata freetext" data-v-08ecca1f><!----><!----><!----></section><!----><!----></header><div class="content markdown" data-v-14d6d1e0><div class="toc-wrapper col-md-3">
<ul>
<li>
<p><a href="#using-existing-providers">Using existing providers</a></p>
<ul>
<li>
<ul>
<li><a href="#i-want-to-paginate-my-incoming-data">I want to paginate my incoming data</a></li>
<li><a href="#i-want-to-filter-my-data">I want to filter my data</a></li>
<li><a href="#no-i-want-to-filter-my-data-using-a-calculation---not-regex">No, I want to filter my data using a calculation - not regex</a></li>
<li><a href="#i-want-to-sort-my-data-using-a-dataprovider">I want to sort my data using a DataProvider</a></li>
<li><a href="#my-data-has-comment-lines-that-dont-start-with-">My data has comment lines that don't start with '#'</a></li>
<li><a href="#i-want-to-use-some-data-in-a-visualization-template-using-python">I want to use some data in a visualization template using python</a></li>
<li><a href="#i-want-to-use-some-data-in-a-visualization-template-using-javascript">I want to use some data in a visualization template using !JavaScript</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#defining-new-providers">Defining new providers</a></p>
<ul>
<li>
<ul>
<li><a href="#i-want-an-easy-way-to-define-a-provider-for-a-new-format">I want an easy way to define a provider for a new format</a></li>
<li><a href="#i-want-to-add-my-provider-to-a-datatype">I want to add my provider to a datatype</a></li>
<li><a href="#none-of-the-existing-providers-do-what-i-want---but-id-still-like-to-keep-it-simple">None of the existing providers do what I want - but I'd still like to keep it simple</a></li>
<li><a href="#i-want-to-define-a-new-dataprovider-class">I want to define a new DataProvider class</a></li>
<li><a href="#i-want-the-options-my-provider-uses-available-over-the-api">I want the options my provider uses available over the API</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="body-wrapper col-md-9">
<div class='left'></div>
<p>This is a collection of examples outlining both using and creating <a href="/data-providers/">DataProviders</a>.</p>
<h2 id="using-existing-providers"><a href="#using-existing-providers" aria-hidden="true"><span class="icon icon-link"></span></a>Using existing providers</h2>
<hr>
<h4 id="i-want-to-paginate-my-incoming-data"><a href="#i-want-to-paginate-my-incoming-data" aria-hidden="true"><span class="icon icon-link"></span></a>I want to paginate my incoming data</h4>
<p>You want to look at sets (or pages) of data points from your dataset 1000 at a time and have an easy way
to move between those sets.</p>
<p>This can be accomplished with most text based datatypes using the <code>limit</code> and <code>offset</code> options:</p>
<pre><code class="language-python">def paginate_column_data( dataset, page_size, curr_page, **more_options )
    limit = page_size
    offset = curr_page * page_size
    return list( dataset1.datatype.dataprovider( dataset1, 'column',
        limit=limit, offset=offset, **more_options ) )

page1 = paginate_column_data( dataset1, 1000, 0 )
page2 = paginate_column_data( dataset1, 1000, 1 )
# ...
</code></pre>
<p>Note: since data providers return generators, make sure to use <code>list</code> in order to 'compile' the lines into a list
if that's what you need.</p>
<p>Notes on limit and offset:</p>
<ul>
<li>Filtered data (such as blank lines, comment lines, or non regex matching lines) do not apply to the limit or offset -
only the final, valid data.</li>
<li>Negative or zero limits (or if the dataset has no data) will return an empty list/generator</li>
<li>Limits above the number of lines/data in your dataset will return only the amount available (it will not error
or be padded with None values, etc.). In the above example, the last 'page' may not have 1000 lines but you don't
have to worry about that - it will send only the remainder without any calculations needed.</li>
<li>Negative offsets will be treated as offset = 0 (the beginning)</li>
<li>Offsets past the total number of lines/data in your dataset will return an empty list/generator (no errors)</li>
</ul>
<hr>
<h4 id="i-want-to-filter-my-data"><a href="#i-want-to-filter-my-data" aria-hidden="true"><span class="icon icon-link"></span></a>I want to filter my data</h4>
<p>You want to only use data that contains the string 'exon' in the third column of your dataset data.</p>
<p>This can be accomplished using the <code>regex_list</code> option:</p>
<pre><code class="language-python">exons = list( hda.datatype.dataprovider( hda, 'column', regex_list=[ '\S+\s+\S+\s+exon' ] ) )
</code></pre>
<p>If 'exon' could appear in either the third or fourth column you could add another regex expression:</p>
<pre><code class="language-python">exons = list( hda.datatype.dataprovider( hda, 'column', regex_list=[ '\S+\s+\S+\s+exon', '\S+\s+\S+\s+\S+\s+exon' ] ) )
</code></pre>
<p>To filter these <em>out</em>, set the <code>invert</code> option to True:</p>
<pre><code class="language-python">regex_list = [ '\S+\s+\S+\s+exon', '\S+\s+\S+\s+\S+\s+exon' ]
non_exons = list( hda.datatype.dataprovider( hda, 'column', regex_list=regex_list, invert=True ) )
</code></pre>
<p>Notes on <code>regex_list</code>:</p>
<ul>
<li>Expressions are compared against full lines of data. Whitespace at the beginning and end of the line is stripped
beforehand and no comparisons are made against blank lines or comment lines (unless included explicitly).</li>
<li>When sending regex expressions over the API your client may URL encode the expression - be careful to use proper
escaping (e.g. '\b' must be '\b').</li>
<li>A line of data is considered matching if <em>any</em> of the expressions match (as opposed to all).</li>
<li>Under the hood, re.match is used for the filtering. It may be useful to try your expressions in a REPL if you have
problems.</li>
</ul>
<hr>
<h4 id="no-i-want-to-filter-my-data-using-a-calculation---not-regex"><a href="#no-i-want-to-filter-my-data-using-a-calculation---not-regex" aria-hidden="true"><span class="icon icon-link"></span></a>No, I want to filter my data using a calculation - not regex</h4>
<p>You can pass column-based filters into any dataprovider that is derived from <code>ColumnDataProvider</code> including
'dataset-column', 'dict', 'genomic-region', and 'interval'. <code>filters</code> is passed into python as a list of strings. Each
string is a 3-tuple of <code>( column_index, operator, value )</code> separated by hyphens. For example, to filter returned lines
to only those that are greater than or equal to 20000 in the 2nd column:</p>
<pre><code class="language-python">data = list( hda.datatype.dataprovider( hda, 'column', filters=[ '1-ge-20000' ] ) )
</code></pre>
<p>Filters are AND'ed together.</p>
<p>These types of filters can be passed to the API as well by sending as a comma-separated-list:</p>
<pre><code class="language-javascript">    jQuery.ajax( '/api/datasets/' + id, {
        data : {
            data_type   : 'raw_data',
            provider    : 'dataset-column',
            limit       : 200,
            offset      : 200 * currPage,
            // get anything in chr1 between 20000 and 50000
            filters     : [ '0-eq-chr1', '1-ge-20000', '2-lt-50000' ].join( ',' )
        }
    })
</code></pre>
<p>The operators available depend on the column type:</p>
<ul>
<li>
<p>numeric:</p>
<ul>
<li>'lt': is less than 'value'</li>
<li>'le': is less than or equal to 'value'</li>
<li>'eq': is equal to 'value'</li>
<li>'ne': is not equal to 'value'</li>
<li>'ge': is greater than or equal to 'value'</li>
<li>'gt': is greater than 'value'</li>
</ul>
</li>
<li>
<p>string:</p>
<ul>
<li>'eq': column exactly equals 'value'</li>
<li>'has': contains the substring 'value'</li>
<li>'re': matches the regular expression 'value'</li>
</ul>
</li>
</ul>
<p>You may also want to create your own filter function. Pass a function into any <code>LineDataProvider</code>-derived provider
under the <code>filter_fn</code> keyword argument:</p>
<pre><code class="language-python">def filter_start_lt_10k( line ):
    try:
        start_pos = int( line.split( '\t' )[1] )
        if start_pos >= 10000:
            return line
    except:
        pass
    return None
data = list( hda.datatype.dataprovider( hda, 'column', filter_fn=filter_start_lt_10k ) )
</code></pre>
<p>Notes:</p>
<ul>
<li>This only works in python and is not available over the API</li>
<li>The <code>filter_fn</code> is passed the unparsed line (rather than columns or parsed columns). You won't receive blank lines
or comment lines, however (unless another option changes that), and whitespace is removed from the front and end
of the line.</li>
<li>Return <code>None</code> from the <code>filter_fn</code> to effectively filter out a line.</li>
<li>You can also return a modified version of the line (partial data, re-formatting, etc.).</li>
<li>Data filtered in the above way works with limit and offset.</li>
</ul>
<p>Alternately, you can of course filter directly <em>after</em> the provider yields the data:</p>
<pre><code class="language-python">def generate_lt( dataset, pos, **options ):
    for col_list in hda.datatype.dataprovider( hda, 'column', **options ):
        if col_list[1] >= pos:
            yield col_list
</code></pre>
<p>Note that this pattern does not play well with limit and offset.</p>
<hr>
<h4 id="i-want-to-sort-my-data-using-a-dataprovider"><a href="#i-want-to-sort-my-data-using-a-dataprovider" aria-hidden="true"><span class="icon icon-link"></span></a>I want to sort my data using a DataProvider</h4>
<p>Unfortunately, this is currently un-implemented. You can still however use the installed sort tool to sort the data
into a new dataset before-hand or sort after the data have been provided in your client, script, or template.</p>
<hr>
<h4 id="my-data-has-comment-lines-that-dont-start-with-"><a href="#my-data-has-comment-lines-that-dont-start-with-" aria-hidden="true"><span class="icon icon-link"></span></a>My data has comment lines that don't start with '#'</h4>
<p>Many of the default behaviors of (text-based) DataProviders are configurable:</p>
<ul>
<li>to change which lines are considered comments and filtered out, set <code>comment_char</code>; to not filter out <em>any</em> lines
as comments set this to <code>None</code>.</li>
<li>to include blank lines in your data, set <code>provide_blank</code> to <code>True</code>.</li>
<li>to include the original whitespace (including newline characters) that may occur at the beginning and end of your
lines of data, set <code>strip_lines</code> to <code>False</code>.</li>
<li>to include the original whitespace but remove the newline characters, set <code>strip_lines</code> to <code>False</code> <em>and</em>
<code>strip_newlines</code> to <code>True</code>.</li>
</ul>
<hr>
<h4 id="i-want-to-use-some-data-in-a-visualization-template-using-python"><a href="#i-want-to-use-some-data-in-a-visualization-template-using-python" aria-hidden="true"><span class="icon icon-link"></span></a>I want to use some data in a visualization template using python</h4>
<p>Most of the examples that use python both here and in <a href="/data-providers/">DataProviders</a> should be good starting points for
visualizations in python.</p>
<hr>
<h4 id="i-want-to-use-some-data-in-a-visualization-template-using-javascript"><a href="#i-want-to-use-some-data-in-a-visualization-template-using-javascript" aria-hidden="true"><span class="icon icon-link"></span></a>I want to use some data in a visualization template using !JavaScript</h4>
<p>You want to get the data into javascript for use with a graphing library or some other javascript technology. There
are two points in the visualizations execution where you might want to do this:</p>
<ol>
<li>'Bootstrapping': rendering the data as JSON using the Mako + the server <em>before</em> it's sent to the browser</li>
<li>Via AJAX and the API: getting data (or more data) when the user interacts with your page after it's been sent</li>
</ol>
<p>You can bootstrap JSON data by using a combination of python and javascript:</p>
<pre><code class="language-mako">&#x3C;script type="text/javascript">
&#x3C;%
    # first 3000 only - we'll load the rest later
    data = list( hda.datatype.dataprovider( hda, 'interval-dict', limit=3000 ) )
%>
var bootstrappedFirstPage = ${h.to_json_string( data, indent=2 )};
// draw this page...
&#x3C;/script>
</code></pre>
<p>This works because the stringified JSON will be printed as a JavaScript object literal. If you use this, you can open
your visualization's page in the browser using 'show page source' - the data will be printed there in JSON form.</p>
<p>You can also access data providers through the datasets API using an AJAX call within your page (here, we'll use
jQuery's ajax framework - you can use whatever your comfortable with):</p>
<pre><code class="language-javascript">&#x3C;script type="text/javascript">
    // ...
    $button.click( function( ev ){
        var button_page = $button.data( 'page' );
        var xhr = jQuery.getJSON( "/api/datasets/" + encodedHdaId, {
            // we need to send both the raw_data data_type and the provider name
            data_type : 'raw_data',
            provider  : 'interval-dict',
            limit     : 3000,
            offset    : ( button_page * 3000 )
        });
        xhr.done( function( response ){
            // draw the next page...
        });
    })
&#x3C;/script>
</code></pre>
<hr>
<h2 id="defining-new-providers"><a href="#defining-new-providers" aria-hidden="true"><span class="icon icon-link"></span></a>Defining new providers</h2>
<p>If you have a new datatype to add to Galaxy or you need functionality that none of the existing providers can give,
you may want to define a new <a href="/data-providers/">DataProvider</a>.</p>
<p>There are several ways to define new providers:</p>
<ul>
<li>Create a method that uses existing provider classes, modifying their options or output in the method.</li>
<li>Compose a new provider from several other existing providers.</li>
<li>Create a new provider class.</li>
</ul>
<hr>
<h4 id="i-want-an-easy-way-to-define-a-provider-for-a-new-format"><a href="#i-want-an-easy-way-to-define-a-provider-for-a-new-format" aria-hidden="true"><span class="icon icon-link"></span></a>I want an easy way to define a provider for a new format</h4>
<p>You have a new format with key/value pairs that:</p>
<ul>
<li>uses equal signs surrounded by spaces for separation</li>
<li>considers lines starting with a semicolon to be comments</li>
<li>each value in the key/value pair is a number or blank</li>
<li>and whitepace is important and should be kept in</li>
</ul>
<pre><code>; Some crazy format developed in the 80's for use with dot-matrix printers
samples taken = 24
samples processed = 23
interns left =
    missed the grant by = 1
money recvd = 0.00
</code></pre>
<p>You can override the settings/options for existing providers, wrap it in a function, and return the provider:</p>
<pre><code class="language-python">from galaxy.datatypes.dataproviders import column
def provide_key_value( dataset, **settings ):
    settings[ 'deliminator' ] = ' = '
    settings[ 'comment_char' ] = ';'
    settings[ 'column_types' ] = [ 'str', 'float' ]
    settings[ 'strip_lines' ] = False
    settings[ 'strip_newlines' ] = True
    return column.ColumnarDataProvider( dataset, **settings )

for pair in provide_columns_for_my_format( hda ):
    print pair

# ['samples taken', 24.0]
# ['samples processed', 23.0]
# ['interns left', None]
# [' missed the grant by', 1.0]
# ['money recvd', 0.0]
</code></pre>
<hr>
<h4 id="i-want-to-add-my-provider-to-a-datatype"><a href="#i-want-to-add-my-provider-to-a-datatype" aria-hidden="true"><span class="icon icon-link"></span></a>I want to add my provider to a datatype</h4>
<p>You now want to add <code>provide_columns_for_my_format</code> to your new datatype <code>MyFormat</code>. In it's datatype class definition
you'd need two things:</p>
<ol>
<li>Decorate your <code>MyFormat</code> datatype class with <code>@dataproviders.decorators.has_dataproviders</code>. This sets up a class
to use dataproviders.</li>
<li>Add your method to the datatype class and decorate that method with <code>@dataproviders.decorators.dataprovider_factory</code>
sending a name for the format provided and a <code>settings</code> map of options for the method/provider you want available
through the API (for more information on this variable see 'I want the options my provider uses available over the
API').</li>
</ol>
<pre><code class="language-python">from galaxy.datatypes.dataproviders import decorators
from galaxy.datatypes.dataproviders import column

@decorators.has_dataproviders
class MyFormat( data.Text ):
    # ...

    @decorators.dataprovider_factory( 'key-value', column.ColumnarDataProvider.settings )
    def provide_columns_for_my_format( hda, **settings ):
        # ...

# then - elsewhere...
for pair in myformatted_dataset.datatype.dataprovider( myformatted_dataset, 'key-value', limit=1 ):
    print pair

# ['samples taken', 24.0]
</code></pre>
<p>This pattern is used often for more semantic providers (<code>IntervalDataProvider</code>, <code>GenomicRegionDataProvider</code>) to pluck
start, end, and chrom values from various datatypes even though they may appear in different columns.</p>
<hr>
<h4 id="none-of-the-existing-providers-do-what-i-want---but-id-still-like-to-keep-it-simple"><a href="#none-of-the-existing-providers-do-what-i-want---but-id-still-like-to-keep-it-simple" aria-hidden="true"><span class="icon icon-link"></span></a>None of the existing providers do what I want - but I'd still like to keep it simple</h4>
<p>Another way of creating a new provider from existing providers is to compose one from the others.</p>
<p>In the following pattern which is seen throughout this cookbook, we use a dataset as a <em><code>data_source</code></em>:</p>
<pre><code class="language-python">for datum in dataset.datatype.dataprovider( dataset, 'my-provider' ):
    print datum
</code></pre>
<p>The <code>data_source</code> for data providers can be any python iterator, including any other <a href="/data-providers/">DataProvider</a>:</p>
<pre><code class="language-python">dataprovider1 = MyFirstDataProvider( dataset, setting1=... )
dataprovider2 = MySecondDataProvider( dataprovider1, setting2=... )
for datum in dataprovider2:
    print datum
</code></pre>
<p>When a fully formatted, filtered, and parsed datum is yielded from <code>dataprovider1</code> it then will be passed to
<code>dataprovider2</code> where it can be further formatted, filtered, or parsed.</p>
<hr>
<h4 id="i-want-to-define-a-new-dataprovider-class"><a href="#i-want-to-define-a-new-dataprovider-class" aria-hidden="true"><span class="icon icon-link"></span></a>I want to define a new DataProvider class</h4>
<p>This is the most powerful but complex ways to create a new data provider.</p>
<p>All <a href="/data-providers/">DataProvider</a> classes should inherit at least from <code>datatypes.dataproviders.base.DataProvider</code>. If
you'll be working with a data format where each datum is contained on a line, you may want to start with either the
FilteredLineDataProvider or the RegexLineDataProvider. If it takes more than one line to create a single datum (e.g.
MAF format), you may want to start with the BlockDataProvider.</p>
<hr>
<h4 id="i-want-the-options-my-provider-uses-available-over-the-api"><a href="#i-want-the-options-my-provider-uses-available-over-the-api" aria-hidden="true"><span class="icon icon-link"></span></a>I want the options my provider uses available over the API</h4>
<p>Settings:</p>
<p>In order for your providers options to be available and parsed properly from a query string (from an API call),
you'll need a class level dictionary named <code>settings</code> containing the keyword arguments that should be parsed and sent to
your provider's <code>__init__</code> method. For example, the <code>FilteredLineDataProvider</code> has the following <code>settings</code> variable:</p>
<pre><code class="language-python">    settings = {
        'strip_lines'   : 'bool',
        'strip_newlines': 'bool',
        'provide_blank' : 'bool',
        'comment_char'  : 'str',
    }
    def __init__( self, source, strip_lines=True, strip_newlines=False, provide_blank=False,
                  comment_char=DEFAULT_COMMENT_CHAR, **kwargs ):
        # ...
</code></pre>
</div>
</div><footer data-v-fcf53fc4 data-v-14d6d1e0><!----></footer><footer class="static-footer markdown"><p>The Galaxy Project is supported in part by NSF, NHGRI, The Huck Institutes of the Life Sciences, The Institute for CyberScience at Penn State, and Johns Hopkins University.</p>
</footer></section></div>
    <script>window.__INITIAL_STATE__={"data":{"article":{"id":"56cf40ee9c2266b9c181ba7e852efb93","title":"DataProviders Cookbook","tease":"","category":null,"date":null,"days":null,"contact":"","contact_url":"","authors":"","location":"","location_url":"","source_blog":"","source_blog_url":"","skip_title_render":null,"links":[],"image":"","images":{},"external_url":"","content":"\u003Cdiv class=\"toc-wrapper col-md-3\"\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"#using-existing-providers\"\u003EUsing existing providers\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#i-want-to-paginate-my-incoming-data\"\u003EI want to paginate my incoming data\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#i-want-to-filter-my-data\"\u003EI want to filter my data\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#no-i-want-to-filter-my-data-using-a-calculation---not-regex\"\u003ENo, I want to filter my data using a calculation - not regex\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#i-want-to-sort-my-data-using-a-dataprovider\"\u003EI want to sort my data using a DataProvider\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#my-data-has-comment-lines-that-dont-start-with-\"\u003EMy data has comment lines that don't start with '#'\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#i-want-to-use-some-data-in-a-visualization-template-using-python\"\u003EI want to use some data in a visualization template using python\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#i-want-to-use-some-data-in-a-visualization-template-using-javascript\"\u003EI want to use some data in a visualization template using !JavaScript\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"#defining-new-providers\"\u003EDefining new providers\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"#i-want-an-easy-way-to-define-a-provider-for-a-new-format\"\u003EI want an easy way to define a provider for a new format\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#i-want-to-add-my-provider-to-a-datatype\"\u003EI want to add my provider to a datatype\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#none-of-the-existing-providers-do-what-i-want---but-id-still-like-to-keep-it-simple\"\u003ENone of the existing providers do what I want - but I'd still like to keep it simple\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#i-want-to-define-a-new-dataprovider-class\"\u003EI want to define a new DataProvider class\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#i-want-the-options-my-provider-uses-available-over-the-api\"\u003EI want the options my provider uses available over the API\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"body-wrapper col-md-9\"\u003E\n\u003Cdiv class='left'\u003E\u003C\u002Fdiv\u003E\n\u003Cp\u003EThis is a collection of examples outlining both using and creating \u003Ca href=\"\u002Fdata-providers\u002F\"\u003EDataProviders\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2 id=\"using-existing-providers\"\u003E\u003Ca href=\"#using-existing-providers\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EUsing existing providers\u003C\u002Fh2\u003E\n\u003Chr\u003E\n\u003Ch4 id=\"i-want-to-paginate-my-incoming-data\"\u003E\u003Ca href=\"#i-want-to-paginate-my-incoming-data\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EI want to paginate my incoming data\u003C\u002Fh4\u003E\n\u003Cp\u003EYou want to look at sets (or pages) of data points from your dataset 1000 at a time and have an easy way\nto move between those sets.\u003C\u002Fp\u003E\n\u003Cp\u003EThis can be accomplished with most text based datatypes using the \u003Ccode\u003Elimit\u003C\u002Fcode\u003E and \u003Ccode\u003Eoffset\u003C\u002Fcode\u003E options:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Edef paginate_column_data( dataset, page_size, curr_page, **more_options )\n    limit = page_size\n    offset = curr_page * page_size\n    return list( dataset1.datatype.dataprovider( dataset1, 'column',\n        limit=limit, offset=offset, **more_options ) )\n\npage1 = paginate_column_data( dataset1, 1000, 0 )\npage2 = paginate_column_data( dataset1, 1000, 1 )\n# ...\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENote: since data providers return generators, make sure to use \u003Ccode\u003Elist\u003C\u002Fcode\u003E in order to 'compile' the lines into a list\nif that's what you need.\u003C\u002Fp\u003E\n\u003Cp\u003ENotes on limit and offset:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EFiltered data (such as blank lines, comment lines, or non regex matching lines) do not apply to the limit or offset -\nonly the final, valid data.\u003C\u002Fli\u003E\n\u003Cli\u003ENegative or zero limits (or if the dataset has no data) will return an empty list\u002Fgenerator\u003C\u002Fli\u003E\n\u003Cli\u003ELimits above the number of lines\u002Fdata in your dataset will return only the amount available (it will not error\nor be padded with None values, etc.). In the above example, the last 'page' may not have 1000 lines but you don't\nhave to worry about that - it will send only the remainder without any calculations needed.\u003C\u002Fli\u003E\n\u003Cli\u003ENegative offsets will be treated as offset = 0 (the beginning)\u003C\u002Fli\u003E\n\u003Cli\u003EOffsets past the total number of lines\u002Fdata in your dataset will return an empty list\u002Fgenerator (no errors)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Chr\u003E\n\u003Ch4 id=\"i-want-to-filter-my-data\"\u003E\u003Ca href=\"#i-want-to-filter-my-data\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EI want to filter my data\u003C\u002Fh4\u003E\n\u003Cp\u003EYou want to only use data that contains the string 'exon' in the third column of your dataset data.\u003C\u002Fp\u003E\n\u003Cp\u003EThis can be accomplished using the \u003Ccode\u003Eregex_list\u003C\u002Fcode\u003E option:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Eexons = list( hda.datatype.dataprovider( hda, 'column', regex_list=[ '\\S+\\s+\\S+\\s+exon' ] ) )\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EIf 'exon' could appear in either the third or fourth column you could add another regex expression:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Eexons = list( hda.datatype.dataprovider( hda, 'column', regex_list=[ '\\S+\\s+\\S+\\s+exon', '\\S+\\s+\\S+\\s+\\S+\\s+exon' ] ) )\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ETo filter these \u003Cem\u003Eout\u003C\u002Fem\u003E, set the \u003Ccode\u003Einvert\u003C\u002Fcode\u003E option to True:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Eregex_list = [ '\\S+\\s+\\S+\\s+exon', '\\S+\\s+\\S+\\s+\\S+\\s+exon' ]\nnon_exons = list( hda.datatype.dataprovider( hda, 'column', regex_list=regex_list, invert=True ) )\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENotes on \u003Ccode\u003Eregex_list\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EExpressions are compared against full lines of data. Whitespace at the beginning and end of the line is stripped\nbeforehand and no comparisons are made against blank lines or comment lines (unless included explicitly).\u003C\u002Fli\u003E\n\u003Cli\u003EWhen sending regex expressions over the API your client may URL encode the expression - be careful to use proper\nescaping (e.g. '\\b' must be '\\b').\u003C\u002Fli\u003E\n\u003Cli\u003EA line of data is considered matching if \u003Cem\u003Eany\u003C\u002Fem\u003E of the expressions match (as opposed to all).\u003C\u002Fli\u003E\n\u003Cli\u003EUnder the hood, re.match is used for the filtering. It may be useful to try your expressions in a REPL if you have\nproblems.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Chr\u003E\n\u003Ch4 id=\"no-i-want-to-filter-my-data-using-a-calculation---not-regex\"\u003E\u003Ca href=\"#no-i-want-to-filter-my-data-using-a-calculation---not-regex\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ENo, I want to filter my data using a calculation - not regex\u003C\u002Fh4\u003E\n\u003Cp\u003EYou can pass column-based filters into any dataprovider that is derived from \u003Ccode\u003EColumnDataProvider\u003C\u002Fcode\u003E including\n'dataset-column', 'dict', 'genomic-region', and 'interval'. \u003Ccode\u003Efilters\u003C\u002Fcode\u003E is passed into python as a list of strings. Each\nstring is a 3-tuple of \u003Ccode\u003E( column_index, operator, value )\u003C\u002Fcode\u003E separated by hyphens. For example, to filter returned lines\nto only those that are greater than or equal to 20000 in the 2nd column:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Edata = list( hda.datatype.dataprovider( hda, 'column', filters=[ '1-ge-20000' ] ) )\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EFilters are AND'ed together.\u003C\u002Fp\u003E\n\u003Cp\u003EThese types of filters can be passed to the API as well by sending as a comma-separated-list:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-javascript\"\u003E    jQuery.ajax( '\u002Fapi\u002Fdatasets\u002F' + id, {\n        data : {\n            data_type   : 'raw_data',\n            provider    : 'dataset-column',\n            limit       : 200,\n            offset      : 200 * currPage,\n            \u002F\u002F get anything in chr1 between 20000 and 50000\n            filters     : [ '0-eq-chr1', '1-ge-20000', '2-lt-50000' ].join( ',' )\n        }\n    })\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe operators available depend on the column type:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003Enumeric:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E'lt': is less than 'value'\u003C\u002Fli\u003E\n\u003Cli\u003E'le': is less than or equal to 'value'\u003C\u002Fli\u003E\n\u003Cli\u003E'eq': is equal to 'value'\u003C\u002Fli\u003E\n\u003Cli\u003E'ne': is not equal to 'value'\u003C\u002Fli\u003E\n\u003Cli\u003E'ge': is greater than or equal to 'value'\u003C\u002Fli\u003E\n\u003Cli\u003E'gt': is greater than 'value'\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003Estring:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E'eq': column exactly equals 'value'\u003C\u002Fli\u003E\n\u003Cli\u003E'has': contains the substring 'value'\u003C\u002Fli\u003E\n\u003Cli\u003E're': matches the regular expression 'value'\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EYou may also want to create your own filter function. Pass a function into any \u003Ccode\u003ELineDataProvider\u003C\u002Fcode\u003E-derived provider\nunder the \u003Ccode\u003Efilter_fn\u003C\u002Fcode\u003E keyword argument:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Edef filter_start_lt_10k( line ):\n    try:\n        start_pos = int( line.split( '\\t' )[1] )\n        if start_pos \u003E= 10000:\n            return line\n    except:\n        pass\n    return None\ndata = list( hda.datatype.dataprovider( hda, 'column', filter_fn=filter_start_lt_10k ) )\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENotes:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EThis only works in python and is not available over the API\u003C\u002Fli\u003E\n\u003Cli\u003EThe \u003Ccode\u003Efilter_fn\u003C\u002Fcode\u003E is passed the unparsed line (rather than columns or parsed columns). You won't receive blank lines\nor comment lines, however (unless another option changes that), and whitespace is removed from the front and end\nof the line.\u003C\u002Fli\u003E\n\u003Cli\u003EReturn \u003Ccode\u003ENone\u003C\u002Fcode\u003E from the \u003Ccode\u003Efilter_fn\u003C\u002Fcode\u003E to effectively filter out a line.\u003C\u002Fli\u003E\n\u003Cli\u003EYou can also return a modified version of the line (partial data, re-formatting, etc.).\u003C\u002Fli\u003E\n\u003Cli\u003EData filtered in the above way works with limit and offset.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EAlternately, you can of course filter directly \u003Cem\u003Eafter\u003C\u002Fem\u003E the provider yields the data:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Edef generate_lt( dataset, pos, **options ):\n    for col_list in hda.datatype.dataprovider( hda, 'column', **options ):\n        if col_list[1] \u003E= pos:\n            yield col_list\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENote that this pattern does not play well with limit and offset.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch4 id=\"i-want-to-sort-my-data-using-a-dataprovider\"\u003E\u003Ca href=\"#i-want-to-sort-my-data-using-a-dataprovider\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EI want to sort my data using a DataProvider\u003C\u002Fh4\u003E\n\u003Cp\u003EUnfortunately, this is currently un-implemented. You can still however use the installed sort tool to sort the data\ninto a new dataset before-hand or sort after the data have been provided in your client, script, or template.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch4 id=\"my-data-has-comment-lines-that-dont-start-with-\"\u003E\u003Ca href=\"#my-data-has-comment-lines-that-dont-start-with-\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EMy data has comment lines that don't start with '#'\u003C\u002Fh4\u003E\n\u003Cp\u003EMany of the default behaviors of (text-based) DataProviders are configurable:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Eto change which lines are considered comments and filtered out, set \u003Ccode\u003Ecomment_char\u003C\u002Fcode\u003E; to not filter out \u003Cem\u003Eany\u003C\u002Fem\u003E lines\nas comments set this to \u003Ccode\u003ENone\u003C\u002Fcode\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003Eto include blank lines in your data, set \u003Ccode\u003Eprovide_blank\u003C\u002Fcode\u003E to \u003Ccode\u003ETrue\u003C\u002Fcode\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003Eto include the original whitespace (including newline characters) that may occur at the beginning and end of your\nlines of data, set \u003Ccode\u003Estrip_lines\u003C\u002Fcode\u003E to \u003Ccode\u003EFalse\u003C\u002Fcode\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003Eto include the original whitespace but remove the newline characters, set \u003Ccode\u003Estrip_lines\u003C\u002Fcode\u003E to \u003Ccode\u003EFalse\u003C\u002Fcode\u003E \u003Cem\u003Eand\u003C\u002Fem\u003E\n\u003Ccode\u003Estrip_newlines\u003C\u002Fcode\u003E to \u003Ccode\u003ETrue\u003C\u002Fcode\u003E.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Chr\u003E\n\u003Ch4 id=\"i-want-to-use-some-data-in-a-visualization-template-using-python\"\u003E\u003Ca href=\"#i-want-to-use-some-data-in-a-visualization-template-using-python\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EI want to use some data in a visualization template using python\u003C\u002Fh4\u003E\n\u003Cp\u003EMost of the examples that use python both here and in \u003Ca href=\"\u002Fdata-providers\u002F\"\u003EDataProviders\u003C\u002Fa\u003E should be good starting points for\nvisualizations in python.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch4 id=\"i-want-to-use-some-data-in-a-visualization-template-using-javascript\"\u003E\u003Ca href=\"#i-want-to-use-some-data-in-a-visualization-template-using-javascript\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EI want to use some data in a visualization template using !JavaScript\u003C\u002Fh4\u003E\n\u003Cp\u003EYou want to get the data into javascript for use with a graphing library or some other javascript technology. There\nare two points in the visualizations execution where you might want to do this:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E'Bootstrapping': rendering the data as JSON using the Mako + the server \u003Cem\u003Ebefore\u003C\u002Fem\u003E it's sent to the browser\u003C\u002Fli\u003E\n\u003Cli\u003EVia AJAX and the API: getting data (or more data) when the user interacts with your page after it's been sent\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003EYou can bootstrap JSON data by using a combination of python and javascript:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-mako\"\u003E&#x3C;script type=\"text\u002Fjavascript\"\u003E\n&#x3C;%\n    # first 3000 only - we'll load the rest later\n    data = list( hda.datatype.dataprovider( hda, 'interval-dict', limit=3000 ) )\n%\u003E\nvar bootstrappedFirstPage = ${h.to_json_string( data, indent=2 )};\n\u002F\u002F draw this page...\n&#x3C;\u002Fscript\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThis works because the stringified JSON will be printed as a JavaScript object literal. If you use this, you can open\nyour visualization's page in the browser using 'show page source' - the data will be printed there in JSON form.\u003C\u002Fp\u003E\n\u003Cp\u003EYou can also access data providers through the datasets API using an AJAX call within your page (here, we'll use\njQuery's ajax framework - you can use whatever your comfortable with):\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-javascript\"\u003E&#x3C;script type=\"text\u002Fjavascript\"\u003E\n    \u002F\u002F ...\n    $button.click( function( ev ){\n        var button_page = $button.data( 'page' );\n        var xhr = jQuery.getJSON( \"\u002Fapi\u002Fdatasets\u002F\" + encodedHdaId, {\n            \u002F\u002F we need to send both the raw_data data_type and the provider name\n            data_type : 'raw_data',\n            provider  : 'interval-dict',\n            limit     : 3000,\n            offset    : ( button_page * 3000 )\n        });\n        xhr.done( function( response ){\n            \u002F\u002F draw the next page...\n        });\n    })\n&#x3C;\u002Fscript\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Chr\u003E\n\u003Ch2 id=\"defining-new-providers\"\u003E\u003Ca href=\"#defining-new-providers\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EDefining new providers\u003C\u002Fh2\u003E\n\u003Cp\u003EIf you have a new datatype to add to Galaxy or you need functionality that none of the existing providers can give,\nyou may want to define a new \u003Ca href=\"\u002Fdata-providers\u002F\"\u003EDataProvider\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThere are several ways to define new providers:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECreate a method that uses existing provider classes, modifying their options or output in the method.\u003C\u002Fli\u003E\n\u003Cli\u003ECompose a new provider from several other existing providers.\u003C\u002Fli\u003E\n\u003Cli\u003ECreate a new provider class.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Chr\u003E\n\u003Ch4 id=\"i-want-an-easy-way-to-define-a-provider-for-a-new-format\"\u003E\u003Ca href=\"#i-want-an-easy-way-to-define-a-provider-for-a-new-format\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EI want an easy way to define a provider for a new format\u003C\u002Fh4\u003E\n\u003Cp\u003EYou have a new format with key\u002Fvalue pairs that:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Euses equal signs surrounded by spaces for separation\u003C\u002Fli\u003E\n\u003Cli\u003Econsiders lines starting with a semicolon to be comments\u003C\u002Fli\u003E\n\u003Cli\u003Eeach value in the key\u002Fvalue pair is a number or blank\u003C\u002Fli\u003E\n\u003Cli\u003Eand whitepace is important and should be kept in\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre\u003E\u003Ccode\u003E; Some crazy format developed in the 80's for use with dot-matrix printers\nsamples taken = 24\nsamples processed = 23\ninterns left =\n    missed the grant by = 1\nmoney recvd = 0.00\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EYou can override the settings\u002Foptions for existing providers, wrap it in a function, and return the provider:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Efrom galaxy.datatypes.dataproviders import column\ndef provide_key_value( dataset, **settings ):\n    settings[ 'deliminator' ] = ' = '\n    settings[ 'comment_char' ] = ';'\n    settings[ 'column_types' ] = [ 'str', 'float' ]\n    settings[ 'strip_lines' ] = False\n    settings[ 'strip_newlines' ] = True\n    return column.ColumnarDataProvider( dataset, **settings )\n\nfor pair in provide_columns_for_my_format( hda ):\n    print pair\n\n# ['samples taken', 24.0]\n# ['samples processed', 23.0]\n# ['interns left', None]\n# [' missed the grant by', 1.0]\n# ['money recvd', 0.0]\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Chr\u003E\n\u003Ch4 id=\"i-want-to-add-my-provider-to-a-datatype\"\u003E\u003Ca href=\"#i-want-to-add-my-provider-to-a-datatype\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EI want to add my provider to a datatype\u003C\u002Fh4\u003E\n\u003Cp\u003EYou now want to add \u003Ccode\u003Eprovide_columns_for_my_format\u003C\u002Fcode\u003E to your new datatype \u003Ccode\u003EMyFormat\u003C\u002Fcode\u003E. In it's datatype class definition\nyou'd need two things:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EDecorate your \u003Ccode\u003EMyFormat\u003C\u002Fcode\u003E datatype class with \u003Ccode\u003E@dataproviders.decorators.has_dataproviders\u003C\u002Fcode\u003E. This sets up a class\nto use dataproviders.\u003C\u002Fli\u003E\n\u003Cli\u003EAdd your method to the datatype class and decorate that method with \u003Ccode\u003E@dataproviders.decorators.dataprovider_factory\u003C\u002Fcode\u003E\nsending a name for the format provided and a \u003Ccode\u003Esettings\u003C\u002Fcode\u003E map of options for the method\u002Fprovider you want available\nthrough the API (for more information on this variable see 'I want the options my provider uses available over the\nAPI').\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Efrom galaxy.datatypes.dataproviders import decorators\nfrom galaxy.datatypes.dataproviders import column\n\n@decorators.has_dataproviders\nclass MyFormat( data.Text ):\n    # ...\n\n    @decorators.dataprovider_factory( 'key-value', column.ColumnarDataProvider.settings )\n    def provide_columns_for_my_format( hda, **settings ):\n        # ...\n\n# then - elsewhere...\nfor pair in myformatted_dataset.datatype.dataprovider( myformatted_dataset, 'key-value', limit=1 ):\n    print pair\n\n# ['samples taken', 24.0]\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThis pattern is used often for more semantic providers (\u003Ccode\u003EIntervalDataProvider\u003C\u002Fcode\u003E, \u003Ccode\u003EGenomicRegionDataProvider\u003C\u002Fcode\u003E) to pluck\nstart, end, and chrom values from various datatypes even though they may appear in different columns.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch4 id=\"none-of-the-existing-providers-do-what-i-want---but-id-still-like-to-keep-it-simple\"\u003E\u003Ca href=\"#none-of-the-existing-providers-do-what-i-want---but-id-still-like-to-keep-it-simple\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ENone of the existing providers do what I want - but I'd still like to keep it simple\u003C\u002Fh4\u003E\n\u003Cp\u003EAnother way of creating a new provider from existing providers is to compose one from the others.\u003C\u002Fp\u003E\n\u003Cp\u003EIn the following pattern which is seen throughout this cookbook, we use a dataset as a \u003Cem\u003E\u003Ccode\u003Edata_source\u003C\u002Fcode\u003E\u003C\u002Fem\u003E:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Efor datum in dataset.datatype.dataprovider( dataset, 'my-provider' ):\n    print datum\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe \u003Ccode\u003Edata_source\u003C\u002Fcode\u003E for data providers can be any python iterator, including any other \u003Ca href=\"\u002Fdata-providers\u002F\"\u003EDataProvider\u003C\u002Fa\u003E:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003Edataprovider1 = MyFirstDataProvider( dataset, setting1=... )\ndataprovider2 = MySecondDataProvider( dataprovider1, setting2=... )\nfor datum in dataprovider2:\n    print datum\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EWhen a fully formatted, filtered, and parsed datum is yielded from \u003Ccode\u003Edataprovider1\u003C\u002Fcode\u003E it then will be passed to\n\u003Ccode\u003Edataprovider2\u003C\u002Fcode\u003E where it can be further formatted, filtered, or parsed.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch4 id=\"i-want-to-define-a-new-dataprovider-class\"\u003E\u003Ca href=\"#i-want-to-define-a-new-dataprovider-class\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EI want to define a new DataProvider class\u003C\u002Fh4\u003E\n\u003Cp\u003EThis is the most powerful but complex ways to create a new data provider.\u003C\u002Fp\u003E\n\u003Cp\u003EAll \u003Ca href=\"\u002Fdata-providers\u002F\"\u003EDataProvider\u003C\u002Fa\u003E classes should inherit at least from \u003Ccode\u003Edatatypes.dataproviders.base.DataProvider\u003C\u002Fcode\u003E. If\nyou'll be working with a data format where each datum is contained on a line, you may want to start with either the\nFilteredLineDataProvider or the RegexLineDataProvider. If it takes more than one line to create a single datum (e.g.\nMAF format), you may want to start with the BlockDataProvider.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch4 id=\"i-want-the-options-my-provider-uses-available-over-the-api\"\u003E\u003Ca href=\"#i-want-the-options-my-provider-uses-available-over-the-api\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EI want the options my provider uses available over the API\u003C\u002Fh4\u003E\n\u003Cp\u003ESettings:\u003C\u002Fp\u003E\n\u003Cp\u003EIn order for your providers options to be available and parsed properly from a query string (from an API call),\nyou'll need a class level dictionary named \u003Ccode\u003Esettings\u003C\u002Fcode\u003E containing the keyword arguments that should be parsed and sent to\nyour provider's \u003Ccode\u003E__init__\u003C\u002Fcode\u003E method. For example, the \u003Ccode\u003EFilteredLineDataProvider\u003C\u002Fcode\u003E has the following \u003Ccode\u003Esettings\u003C\u002Fcode\u003E variable:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-python\"\u003E    settings = {\n        'strip_lines'   : 'bool',\n        'strip_newlines': 'bool',\n        'provide_blank' : 'bool',\n        'comment_char'  : 'str',\n    }\n    def __init__( self, source, strip_lines=True, strip_newlines=False, provide_blank=False,\n                  comment_char=DEFAULT_COMMENT_CHAR, **kwargs ):\n        # ...\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.6a2146ae.js" defer></script><script src="/assets/js/page--src--templates--article-vue.59a31f82.js" defer></script>
  </body>
</html>
