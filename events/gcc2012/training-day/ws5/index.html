<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title> - Galaxy Community Hub</title><meta name="gridsome:hash" content="f696d459c27618375ae9beff9077a6039192ee4e"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="All about Galaxy and its community."><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.7d4a227415c9d9b704d56a079d49a3e1.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.7d4a227415c9d9b704d56a079d49a3e1.png"><link rel="preload" href="/assets/css/0.styles.ebb3d58f.css" as="style"><link rel="preload" href="/assets/js/app.431ed39e.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--article-vue.077afa7b.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--article-vue~page--src--templates--vue-article-vue.0d54471b.js" as="script"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.0778f6cc.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.ad74c4a2.js"><link rel="prefetch" href="/assets/js/page--src--pages--careers-vue.ffdb87dc.js"><link rel="prefetch" href="/assets/js/page--src--pages--data-explorer-vue.7d92c08b.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--archive-vue.475478fc.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--cofests--papercuts-vue.8793e971.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--cofests-vue.85ecd7d8.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--webinars-vue.42d4404c.js"><link rel="prefetch" href="/assets/js/page--src--pages--events-vue.945a6980.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.7226d2dc.js"><link rel="prefetch" href="/assets/js/page--src--pages--news-vue.9b990e6a.js"><link rel="prefetch" href="/assets/js/page--src--pages--search-vue.02cebeef.js"><link rel="prefetch" href="/assets/js/page--src--pages--tests-vue.9a92ab5f.js"><link rel="prefetch" href="/assets/js/page--src--pages--use-vue.44868762.js"><link rel="prefetch" href="/assets/js/page--src--templates--platform-vue.dd6cee54.js"><link rel="prefetch" href="/assets/js/page--src--templates--vue-article-vue.4a4eb2ce.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--404-vue.769c153b.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--404-vue~page--src--pages--careers-vue~page--src--pages--use-vue~page--src-~1d1e8317.b4529ad8.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--search-vue.8befcd1e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--index-md.4f5426ae.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--md--imgtests--imgdir--index-md.b08a5160.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--partials--index-md.4d0e66d8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--imgtests--imgdir--index-md.166aed18.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--imgtests--index-md.414821d6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--index-md.0a4114ac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--syntaxtests--index-md.3b918e0d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--syntaxtests--reldir--index-md.1f9bacba.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--capacity-planning--index-md.6224cac9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--config--index-md.147aeb95.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--config--performance--cluster--legacy--index-md.c4fbc69d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--datatypes--index-md.6ee2085e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--disk-quotas--index-md.fd0c1ad8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--faq--index-md.cd750303.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--internals--data-model--index-md.f1243b42.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--internals--galaxy-ops--index-md.03f6a777.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--ten-simple-steps-galaxy-as-a-service--index-md.b0cda7d7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--tools--tool-config-syntax--index-md.5f402dce.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--tools--writing-tests--index-md.a8f24903.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--allocation--index-md.55aa7c38.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--faq--index-md.266f1ed7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--index-md.f16c61ac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--ssh--index-md.829f2ef6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--troubleshooting--index-md.24740bba.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--capacity-planning--index-md.ec5f7f4a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--getting-started--index-md.99a27dbe.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--index-md.8b4e03ab.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--building--index-md.fad12c5a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--capacity-planning--index-md.4a8f31c9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--cluster-types--index-md.a2825b49.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--customizing--index-md.c2abaee3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--faq--index-md.21d63a7e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--getting-started--index-md.f13b54d4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--getting-started--pre-201703--index-md.5e720c62.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--hadoop--index-md.71d02357.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--ht-condor--index-md.1315117c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--index-md.f2ed983f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--openstack--index-md.696c6b9a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--services--index-md.b6210d57.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--sharing--index-md.c43bf8aa.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--troubleshooting--index-md.903f842f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--userdata--index-md.bef916ac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--future--index-md.f34d9417.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--index-md.ea8db596.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-07-09--index-md.09370c94.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-07-27--index-md.31c36f88.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-09-19--index-md.4d238f9a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-11-14--index-md.8e304a45.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-01-16--index-md.a6988118.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-03-20--index-md.e2ea4aa5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-05-15--index-md.7291d46b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-11-20--index-md.cafbc465.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-02-19--index-md.097aeffa.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-04-16--index-md.451dcf9c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-06-18--index-md.59747c7b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-08-20--index-md.5c2ec0cc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-10-15--index-md.37b0e017.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-02-18--index-md.684f2b92.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-04-21--index-md.146c966c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-06-16--index-md.cb1518a2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-08-18--index-md.dfb2b024.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--index-md.d85e5326.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--webinar-tech--index-md.395e3119.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--2012--index-md.ea9d8962.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--2014--index-md.9e9cbd44.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--index-md.bb20208e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--data--index-md.06c97ea0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--datafiles--index-md.f0e98198.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--architecture--index-md.33a164a2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--bitbucket--index-md.eb74cd09.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--css--index-md.4fb79752.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--getting-started--index-md.fc74c666.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--index-md.283c9236.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--jsa--index-md.c49accb7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--mercurial--index-md.bbe4630a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--security-tool-tips--index-md.29e4dd11.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--galaxy-project--index-md.4df13e59.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--index-md.c3b80e1f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--papers--index-md.bbad52a7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--posters--index-md.3f74bc19.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--presentations--index-md.d4d2dff2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--videos--index-md.9cb0c58c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--advanced-session--index-md.6bd15879.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--basics-session--index-md.05ca13af.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--index-md.e97992a0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--logistics--index-md.3e4e6316.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--publicity--index-md.c40f283b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--registration--index-md.77be1242.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--abstracts--index-md.35649b89.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--index-md.356ea33f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--key-dates--index-md.1428cbc3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--lightning-talks--index-md.75e86332.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--logistics--index-md.27bb94f5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--organizing-committee--index-md.110501ba.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--photos--index-md.bdc78b82.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--automation-strategies--index-md.2d9d8096.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--bioinformatics-training--index-md.ba644bcf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--end-users--index-md.58b1c8d8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--workflows-and-api--index-md.6ec375d4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--index-md.d9fcafdc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--promotion--index-md.38e1503c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--register--index-md.54c68640.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--sponsorships--index-md.c5447529.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--training-day--index-md.2954475b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--index-md.a9629b22.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--posters--index-md.6936e94f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--talks--index-md.55e07dd9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--clinical-use-hpc-file-systems--index-md.2d27cd06.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-admins--index-md.f3b22962.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-blast--index-md.2c64fa7c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-professionals--index-md.4f0d888d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--index-md.01075520.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--proteomics--index-md.41da0de1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--public-galaxy-servers--index-md.3bd15791.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--tool-developers--index-md.3d4b6e78.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--index-md.c3b24e68.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--key-dates--index-md.b51f20c8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--lightning--index-md.5fd58060.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--logistics--index-md.6aa4f6ad.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--organizers--index-md.5e03fd24.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--photos--index-md.f6d10991.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--program--index-md.5cf83aa3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--promotion--index-md.0d42298e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--register--index-md.08fefd86.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--sponsorships--index-md.bde799e6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--advance-tool-data--index-md.d8d4916c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--api--index-md.7daa64ac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--index-md.9464cfa7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--intro-tool-data--index-md.49c96a23.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--vms--index-md.f4c0d9cf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--index-md.b9f56a47.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--posters--index-md.ff4cad61.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--talks--index-md.4cadf122.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--branch-release-merge--index-md.44dc5837.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-admins--index-md.8f083421.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-end-users--index-md.c56d3c2a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-training-network--index-md.89dcab1c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--heterogeneous--index-md.1026fb27.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--index-md.698f220d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--using-galaxy-ui-overview--index-md.f0072e9c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--hackathon--index-md.0fa5189d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--index-md.1a92620f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--key-dates--index-md.5bad7912.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--lightning--index-md.d289026d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--logistics--index-md.5efc6a52.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--organizers--index-md.756da03c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--photos--index-md.7eceb6f4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--program--index-md.4288664d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--promotion--index-md.e1d6479f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--register--index-md.2357efb0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--sponsor-exhibit--index-md.c136619c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--admin-walkthrough--index-md.26cc5549.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--api--index-md.4c72bfaf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--data-managers--index-md.cdfd5a52.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--index-md.8e217549.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--vms--index-md.69d888fb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--cwl--index-md.c1cd35f3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--data-management-challenges--index-md.5920047d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--data-splitting-and-parallelism--index-md.61eede8e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--elixir--index-md.642a778a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--extended-workflow--index-md.dc858e5d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--fots--index-md.3efae184.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-admins--index-md.91dc64b7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-community-uk--index-md.c57b7a7a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-scientists--index-md.052840fd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-training-network--index-md.9a274b16.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--index-md.1f170ec8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--data-hack-roundup--index-md.da0a5aeb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--header--index-md.c293acf4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--index-md.009d5e8f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2016--bofs--index-md.20e08bdd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--abstracts--index-md.a67b99a1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--childcare--index-md.b783e73b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--cofest--index-md.badfa848.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--conduct--index-md.a617acd5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--faq--index-md.bfea97c5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--index-md.8037f1be.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--organizers--index-md.d6fd7a93.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--promotion--index-md.5d827c1b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--registration--index-md.112c0eeb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--sponsors--index-md.3aca7bc3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--training--index-md.9c114d96.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--venue--index-md.9f693a25.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--abstracts--index-md.2e85a391.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--childcare--index-md.ac80bc22.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--code-of-conduct--index-md.6c35dba5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--collaboration--index-md.c215932d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--faq--index-md.5bcf0d8f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--icebreaker--index-md.4b44ae0d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--index-md.7379eae9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--keynotes--index-md.d62e579d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--organizers--index-md.de82c948.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--promotion--index-md.6e866954.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--register--index-md.14609d86.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--sponsors--index-md.5557a981.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--training--index-md.51a05dc1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--venue--index-md.494db3be.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--germany-2014--index-md.c32db467.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--germany-2016--index-md.41eb2d7a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--sg-2014--index-md.d9f7e6c6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--sg-2016--index-md.a5ac2b2f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2014--index-md.5388ed69.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2014--trainingday--index-md.3cfcfe12.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2016--index-md.dfec1f6c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--example--vue-remark--index-md.7d676959.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--faqs--index-md.c05bbde0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--galaxy-updates--2013-06--index-md.0252d302.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--galaxy-updates--2013-07--index-md.7d5da777.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--icons--index-md.7175ad9b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--index-md.8ae2a27a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--logos--index-md.87a50b1c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--news-graphics--index-md.eb8f25fd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--photos--index-md.796673cd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--screenshots--index-md.bc278f0e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--basic-editing--index-md.139748d5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--basic-editing--workflow-editor-unannotated--index-md.0bba8409.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--extract--index-md.fc2a5f3c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--tool-panel--index-md.5e2fead1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--variables--index-md.d815a55a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--faq--index-md.505c85de.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--galaxy-pages--index-md.1246e5d4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--interval-operations--index-md.67df01a9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--main--faq--index-md.4a8db549.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--tools--requirements--index-md.2f088bde.js"><link rel="stylesheet" href="/assets/css/0.styles.ebb3d58f.css"><script data-vue-tag="ssr" src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
    <script src="//unpkg.com/jquery@3.3.1/dist/jquery.slim.min.js"></script>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="layout" data-v-77022bf2><header id="masthead"><nav class="navbar container justify-content-center navbar-dark bg-transparent navbar-expand-lg"><a href="/" target="_self" class="navbar-brand router-link-active"><img id="masthead-logo" src="/images/galaxy_logo_hub_white.svg" alt="Galaxy Community Hub" height="30"></a><button type="button" aria-label="Toggle navigation" class="navbar-toggler"><span class="navbar-toggler-icon"></span></button><div id="nav-collapse" class="navbar-collapse collapse" style="display:none;"><ul class="navbar-nav"><li class="nav-item"><a href="/use/" target="_self" class="nav-link">Use</a></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Learn</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/learn/" role="menuitem" target="_self" class="dropdown-item">How to use Galaxy</a></li><li role="presentation"><a role="menuitem" href="https://training.galaxyproject.org/" target="_self" class="dropdown-item">Teach with Galaxy</a></li></ul></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Community</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/community/" role="menuitem" target="_self" class="dropdown-item">About</a></li><li role="presentation"><a href="/events/" role="menuitem" target="_self" class="dropdown-item router-link-active">Events</a></li><li role="presentation"><a href="/news/" role="menuitem" target="_self" class="dropdown-item">News</a></li><li role="presentation"><a href="/blog/" role="menuitem" target="_self" class="dropdown-item">Blog</a></li><li role="presentation"><a href="/careers/" role="menuitem" target="_self" class="dropdown-item">Careers</a></li><li role="presentation"><a href="/publication-library/" role="menuitem" target="_self" class="dropdown-item">Publications</a></li><li role="presentation"><a href="/galaxy-project/statistics/" role="menuitem" target="_self" class="dropdown-item">Stats</a></li><li role="presentation"><a href="/community/governance/" role="menuitem" target="_self" class="dropdown-item">Governance</a></li><li role="presentation"><a href="/community/coc/" role="menuitem" target="_self" class="dropdown-item">Code of Conduct</a></li></ul></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Deploy &amp; Develop</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/admin/get-galaxy/" role="menuitem" target="_self" class="dropdown-item">Install Galaxy</a></li><li role="presentation"><a href="/admin/" role="menuitem" target="_self" class="dropdown-item">Server administration</a></li><li role="presentation"><a href="/tools/" role="menuitem" target="_self" class="dropdown-item">Tools</a></li><li role="presentation"><a href="/develop/api/" role="menuitem" target="_self" class="dropdown-item">Working with the API</a></li><li role="presentation"><a href="/develop/" role="menuitem" target="_self" class="dropdown-item">Contributing</a></li><li role="presentation"><a href="/docs/" role="menuitem" target="_self" class="dropdown-item">Code documentation</a></li></ul></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Support</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/support/" role="menuitem" target="_self" class="dropdown-item">FAQ</a></li><li role="presentation"><a role="menuitem" href="https://help.galaxyproject.org/" target="_self" class="dropdown-item">Galaxy Help Forum</a></li></ul></li><li class="nav-item"><a href="/jxtx/" target="_self" class="nav-link">@jxtx</a></li></ul><ul class="navbar-nav ml-auto"><li class="form-inline"><form action="/search/" method="get" class="form-inline"><input id="search-input" name="q" type="text" placeholder="Search Galaxy" value="" class="mr-sm-2 form-control form-control-sm"><button type="submit" class="btn my-2 my-sm-0 btn-secondary btn-sm"><span class="fa fa-search"></span></button></form></li><li class="nav-item"><a href="https://github.com/galaxyproject/galaxy-hub/tree/master/content/content-md/events/gcc2012/training-day/ws5/index.md" target="_self" class="nav-link"><i class="fab fa-lg fa-github"></i>
                Edit
            </a></li></ul></div></nav></header><section id="maincontainer" class="container"><header data-v-98965260 data-v-77022bf2><a href="/" class="link active" data-v-98965260>‚Üê Back to Home</a><!----><!----><h1 class="title" data-v-98965260></h1><!----><section class="metadata freetext" data-v-98965260><!----><!----><!----></section><!----><!----><div class="clearfix" data-v-98965260></div></header><div class="content markdown" data-v-77022bf2><div class="toc-wrapper col-md-3">
<ul>
<li>
<p><a href="#workshop-5-installing-your-own-galaxy">Workshop 5: Installing Your Own Galaxy</a></p>
<ul>
<li><a href="#create-a-new-user-for-galaxy">Create a new user for Galaxy</a></li>
<li><a href="#install-mercurial">Install Mercurial</a></li>
<li><a href="#clone-the-galaxy-distribution">Clone the Galaxy Distribution</a></li>
<li><a href="#configure-galaxy">Configure Galaxy</a></li>
<li><a href="#install-postgresql">Install PostgreSQL</a></li>
<li><a href="#create-postgresql-user-and-database">Create PostgreSQL user and database</a></li>
<li><a href="#start-galaxy-for-the-first-time">Start Galaxy for the first time</a></li>
<li><a href="#install-an-init-script-to-start-galaxy-automatically">Install an init script to start Galaxy automatically</a></li>
<li><a href="#start-galaxy-from-the-init-script">Start Galaxy from the init script</a></li>
<li><a href="#install-nginx">Install nginx</a></li>
<li><a href="#configure-and-start-nginx">Configure and start nginx</a></li>
<li><a href="#configure-galaxy-for-nginx-uploaddownload">Configure Galaxy for nginx upload/download</a></li>
<li><a href="#install-proftpd">Install ProFTPd</a></li>
<li><a href="#configure-proftpd">Configure ProFTPd</a></li>
<li><a href="#configure-galaxy-to-use-sun-grid-engine">Configure Galaxy to use Sun Grid Engine</a></li>
<li><a href="#run-multiple-galaxy-processes">Run multiple Galaxy processes</a></li>
<li><a href="#configure-the-distributed-object-store">Configure the Distributed Object Store</a></li>
</ul>
</li>
</ul>
</div>
<div class="body-wrapper col-md-9">
<h1 id="workshop-5-installing-your-own-galaxy"><a href="#workshop-5-installing-your-own-galaxy" aria-hidden="true"><span class="icon icon-link"></span></a>Workshop 5: Installing Your Own Galaxy</h1>
<ul>
<li><a href="https://depot.galaxyproject.org/hub/attachments/documents/presentations/gcc2012/WS5/universe_wsgi.ini" target="_blank" rel="noopener noreferrer">universe_wsgi.ini modified with all of the changes below</a></li>
<li><a href="https://depot.galaxyproject.org/hub/attachments/documents/presentations/gcc2012/WS5_InstallingYourOwn.pdf" target="_blank" rel="noopener noreferrer">Slides</a></li>
</ul>
<p>Documentation for all of these features is at <a href="/admin/config/performance/production-server/">Admin/Config/Performance/ProductionServer</a>.</p>
<h2 id="create-a-new-user-for-galaxy"><a href="#create-a-new-user-for-galaxy" aria-hidden="true"><span class="icon icon-link"></span></a>Create a new user for Galaxy</h2>
<pre><code class="language-console">trainingday@trainingday:~$ sudo -i
[sudo] password for trainingday: 12345
root@trainingday:~# useradd -m -s /bin/bash galaxy
root@trainingday:~# 
</code></pre>
<h2 id="install-mercurial"><a href="#install-mercurial" aria-hidden="true"><span class="icon icon-link"></span></a>Install Mercurial</h2>
<pre><code class="language-console">root@trainingday:~# apt-get install mercurial
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following extra packages will be installed:
  mercurial-common
Suggested packages:
  qct wish kdiff3 tkdiff meld xxdiff python-mysqldb python-pygments
The following NEW packages will be installed:
  mercurial mercurial-common
0 upgraded, 2 newly installed, 0 to remove and 24 not upgraded.
Need to get 0 B/1,982 kB of archives.
After this operation, 6,691 kB of additional disk space will be used.
Do you want to continue [Y/n]? 
Selecting previously unselected package mercurial-common.
(Reading database ... 60146 files and directories currently installed.)
Unpacking mercurial-common (from .../mercurial-common_2.0.2-1ubuntu1_all.deb) ...
Selecting previously unselected package mercurial.
Unpacking mercurial (from .../mercurial_2.0.2-1ubuntu1_i386.deb) ...
Processing triggers for man-db ...
Setting up mercurial-common (2.0.2-1ubuntu1) ...
Setting up mercurial (2.0.2-1ubuntu1) ...

Creating config file /etc/mercurial/hgrc.d/hgext.rc with new version
root@trainingday:~# 
</code></pre>
<h2 id="clone-the-galaxy-distribution"><a href="#clone-the-galaxy-distribution" aria-hidden="true"><span class="icon icon-link"></span></a>Clone the Galaxy Distribution</h2>
<pre><code class="language-console">root@trainingday:~# su - galaxy
galaxy@trainingday:~$ hg clone https://bitbucket.org/galaxy/galaxy-dist/
destination directory: galaxy-dist
requesting all changes
adding changesets
adding manifests
adding file changes
added 7405 changesets with 28970 changes to 5975 files
updating to branch default
3922 files updated, 0 files merged, 0 files removed, 0 files unresolved
galaxy@trainingday:~$ cd galaxy-dist
galaxy@trainingday:~/galaxy-dist$ 
</code></pre>
<p>If you were following along in the workshop, we cloned from <code>~trainingday/galaxy-dist</code> instead of <code>https://bitbucket.org/galaxy/galaxy-dist/</code> for performance reasons.  You can change the default location that will be used for pulling updates by changing the default URL in <code>~galaxy/galaxy-dist/.hg/hgrc</code></p>
<h2 id="configure-galaxy"><a href="#configure-galaxy" aria-hidden="true"><span class="icon icon-link"></span></a>Configure Galaxy</h2>
<pre><code class="language-console">galaxy@trainingday:~/galaxy-dist$ cp universe_wsgi.ini.sample universe_wsgi.ini
galaxy@trainingday:~/galaxy-dist$ vim universe_wsgi.ini
</code></pre>
<p>I changed the following settings:</p>
<ul>
<li><code>database_connection = postgres:///galaxy?host=/var/run/postgresql</code> - Use a PostgreSQL database via a local UNIX domain socket (the socket is in /var/run/postgresql).  Details on this URL syntax are at <a href="/admin/config/performance/production-server/">Admin/Config/Performance/ProductionServer</a> under the "Switching to a database server" section.</li>
<li><code>database_engine_option_server_side_cursors = True</code> - Keep large SQL query results on the PostgreSQL server, rather the transferring the entire result set to the Galaxy process.</li>
<li><code>database_engine_option_strategy = threadlocal</code> - Only use one database connection per thread.</li>
<li><code>tool_dependency_dir = /home/galaxy/tool-deps</code> - The directory that will house tool dependencies.  <a href="/admin/config/tool-dependencies/">Admin/Config/Tool Dependencies</a> explains how these dependencies can be configured.  Tools installed from the tool shed that manage their own dependencies (e.g. freebayes) will also use this directory.</li>
<li><code>debug = False</code> - Disables debugging middleware that loads server responses in to memory (can crash the server when handling large files).</li>
<li><code>use_interactive = False</code> - Disables live client browser debugging (insecure).</li>
<li><code>library_import_dir = /home/galaxy/import</code> - Administrators can directly import datasets from this directory on the server to Data Libraries.  This includes an option that allows an effective "symlink" to the data, rather than copying it in to Galaxy's <code>file_path</code> directory.  Documented at <a href="/admin/data-libraries/uploading-library-files/">Admin/DataLibraries/UploadingLibraryFiles</a>.</li>
<li><code>user_library_import_dir = /home/galaxy/user-import</code> - Non-administrators can directly import datasets from this directory on this server to Data Libraries from which they have been given write permission.  Documented at the same link as above.</li>
<li><code>allow_library_path_paste = True</code> - Administrators can import datasets from anywhere on the server's filesystem(s) by entering their paths in to a textarea.</li>
<li><code>id_secret = &#x3C;random text></code> - Ensures that the encoded IDs used by Galaxy (especially session IDs) are unique.  One simple way to generate a value for this is with a shell command like <code>% date | md5sum</code></li>
<li><code>use_remote_user</code> and <code>remote_user_maildomain</code> - I did not enable these, but this is how users can use your institution's existing authentication system to log in to Galaxy.  Documentation is specific to <a href="/admin/config/apache-proxy/">Admin/Config/Apache Proxy</a> or <a href="/admin/config/nginx-proxy/">Admin/Config/nginx Proxy</a>.</li>
<li><code>admin_users = nate@example.org</code> - Make nate@example.org an administrator.  Galaxy's Admin UI is only accessible if you define administrators here!</li>
<li><code>allow_user_impersonation = True</code> - Users configured as administrators (with <code>admin_users</code>) can "become" other users to view Galaxy exactly as the impersonated user does.  Useful for providing support.</li>
<li><code>allow_user_dataset_purge = True</code> - Allow users to forcibly remove their datasets from disk (note that the data is only actually removed if all versions of a shared dataset are purged by all users who are sharing the dataset).  By default, Galaxy does not remove data, as this is done at a later time by the dataset cleanup scripts (discussed below).</li>
<li><code>enable_quotas = True</code> - Enable Galaxy's quota system.  Quotas are configured by administrators in the Galaxy Admin UI.</li>
<li><code>set_metadata_externally = True</code> - Galaxy must detect certain attributes about the outputs of a tool after the tool has finished running, and store these attributes as metadata.  These include things like the number of reads (for fasta/fastq), column types (for tabular data) and so forth.  This process can be very CPU intensive for large files and will lock up the Galaxy server process.  set_metadata_externally causes this step to happen in a separate process (and if the tool ran on a cluster, it happens on the cluster).</li>
</ul>
<h2 id="install-postgresql"><a href="#install-postgresql" aria-hidden="true"><span class="icon icon-link"></span></a>Install PostgreSQL</h2>
<pre><code class="language-console">galaxy@trainingday:~/galaxy-dist$ exit
logout
root@trainingday:~# apt-get install postgresql
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following extra packages will be installed:
  libpq5 postgresql-9.1 postgresql-client-9.1 postgresql-client-common
  postgresql-common
Suggested packages:
  oidentd ident-server locales-all postgresql-doc-9.1
The following NEW packages will be installed:
  libpq5 postgresql postgresql-9.1 postgresql-client-9.1
  postgresql-client-common postgresql-common
0 upgraded, 6 newly installed, 0 to remove and 24 not upgraded.
Need to get 0 B/5,487 kB of archives.
After this operation, 15.5 MB of additional disk space will be used.
Do you want to continue [Y/n]? 
Preconfiguring packages ...
Selecting previously unselected package libpq5.
(Reading database ... 60757 files and directories currently installed.)
Unpacking libpq5 (from .../libpq5_9.1.4-0ubuntu12.04_i386.deb) ...
Selecting previously unselected package postgresql-client-common.
Unpacking postgresql-client-common (from .../postgresql-client-common_129_all.deb) ...
Selecting previously unselected package postgresql-client-9.1.
Unpacking postgresql-client-9.1 (from .../postgresql-client-9.1_9.1.4-0ubuntu12.04_i386.deb) ...
Selecting previously unselected package postgresql-common.
Unpacking postgresql-common (from .../postgresql-common_129_all.deb) ...
Adding 'diversion of /usr/bin/pg_config to /usr/bin/pg_config.libpq-dev by postgresql-common'
Selecting previously unselected package postgresql-9.1.
Unpacking postgresql-9.1 (from .../postgresql-9.1_9.1.4-0ubuntu12.04_i386.deb) ...
Selecting previously unselected package postgresql.
Unpacking postgresql (from .../postgresql_9.1+129_all.deb) ...
Processing triggers for man-db ...
Processing triggers for ureadahead ...
ureadahead will be reprofiled on next reboot
Setting up libpq5 (9.1.4-0ubuntu12.04) ...
Setting up postgresql-client-common (129) ...
Setting up postgresql-client-9.1 (9.1.4-0ubuntu12.04) ...
update-alternatives: using /usr/share/postgresql/9.1/man/man1/psql.1.gz to provide /usr/share/man/man1/psql.1.gz (psql.1.gz) in auto mode.
Setting up postgresql-common (129) ...
Adding user postgres to group ssl-cert
Building PostgreSQL dictionaries from installed myspell/hunspell packages...
  en_us
Setting up postgresql-9.1 (9.1.4-0ubuntu12.04) ...
Creating new cluster (configuration: /etc/postgresql/9.1/main, data: /var/lib/postgresql/9.1/main)...
Moving configuration file /var/lib/postgresql/9.1/main/postgresql.conf to /etc/postgresql/9.1/main...
Moving configuration file /var/lib/postgresql/9.1/main/pg_hba.conf to /etc/postgresql/9.1/main...
Moving configuration file /var/lib/postgresql/9.1/main/pg_ident.conf to /etc/postgresql/9.1/main...
Configuring postgresql.conf to use port 5432...
update-alternatives: using /usr/share/postgresql/9.1/man/man1/postmaster.1.gz to provide /usr/share/man/man1/postmaster.1.gz (postmaster.1.gz) in auto mode.
* Starting PostgreSQL 9.1 database server                               [ OK ] 

Setting up postgresql (9.1+129) ...
Processing triggers for libc-bin ...
ldconfig deferred processing now taking place
root@trainingday:~# 
</code></pre>
<h2 id="create-postgresql-user-and-database"><a href="#create-postgresql-user-and-database" aria-hidden="true"><span class="icon icon-link"></span></a>Create PostgreSQL user and database</h2>
<pre><code class="language-console">root@trainingday:~# su - postgres
postgres@trainingday:~$ createuser galaxy
Shall the new role be a superuser? (y/n) n
Shall the new role be allowed to create databases? (y/n) n
Shall the new role be allowed to create more new roles? (y/n) n
postgres@trainingday:~$ createdb -O galaxy galaxy
postgres@trainingday:~$ 
</code></pre>
<h2 id="start-galaxy-for-the-first-time"><a href="#start-galaxy-for-the-first-time" aria-hidden="true"><span class="icon icon-link"></span></a>Start Galaxy for the first time</h2>
<p>This is necessary because <code>run.sh</code> contains a number of setup steps that need to happen before Galaxy starts the first time.</p>
<pre><code class="language-console">postgres@trainingday:~$ exit
logout
root@trainingday:~# su - galaxy
galaxy@trainingday:~$ cd galaxy-dist
galaxy@trainingday:~/galaxy-dist$ sh run.sh --reload
  ... a lot of output ...
serving on http://127.0.0.1:8080
&#x3C;sup>C&#x3C;/sup>C caught in monitor process

galaxy@trainingday:~/galaxy-dist$ 
</code></pre>
<h2 id="install-an-init-script-to-start-galaxy-automatically"><a href="#install-an-init-script-to-start-galaxy-automatically" aria-hidden="true"><span class="icon icon-link"></span></a>Install an init script to start Galaxy automatically</h2>
<pre><code class="language-console">galaxy@trainingday:~/galaxy-dist$ exit
logout
root@trainingday:~# cd /etc/init.d
root@trainingday:/etc/init.d# vim galaxy
</code></pre>
<p>In <code>/etc/init.d/galaxy</code>, paste the following:</p>
<pre><code class="language-bash">#!/bin/bash

# Author: James Casbon, 2009

# Provides:             galaxy
# Required-Start:       $network $local_fs $mysql
# Required-Stop:
# Default-Start:        2 3 4 5
# Default-Stop:         0 1 6
# Short-Description:    Galaxy

. /lib/lsb/init-functions

USER="galaxy"
GROUP="galaxy"
DIR="/home/galaxy/galaxy-dist/"
PYTHON="/usr/bin/python"
OPTS="./scripts/paster.py serve universe_wsgi.ini"
LOGDIR="/home/galaxy/galaxy-dist/log"
RUNDIR="/var/run"

case "${1:-*}" in
  'start')
           [ ! -d "$LOGDIR" ] &#x26;&#x26; (mkdir -p $LOGDIR; chown $USER:$GROUP $LOGDIR)
           servers=`sed -n 's/^\[server:\(.*\)\]/\1/  p' $DIR/universe_wsgi.ini | xargs echo`
           for server in $servers; do
               PIDFILE="$RUNDIR/galaxy_$server.pid"
               SERVER_NAME="--server-name=$server"
               LOG_FILE="--log-file=$LOGDIR/$server.log"
               log_daemon_msg "Starting Galaxy $server"
               if start-stop-daemon --chuid $USER --group $GROUP --start --make-pidfile \
                     --pidfile $PIDFILE --background --chdir $DIR --exec $PYTHON -- $OPTS $SERVER_NAME $LOG_FILE; then
                 log_end_msg 0
               else
                 log_end_msg 1
           fi
           done
        ;;
  'stop')
           servers=`sed -n 's/^\[server:\(.*\)\]/\1/  p' $DIR/universe_wsgi.ini | xargs echo`
           for server in $servers; do
               PIDFILE="$RUNDIR/galaxy_$server.pid"
               log_daemon_msg "Stopping Galaxy $server" 
           if start-stop-daemon --stop --pidfile $PIDFILE; then
                 log_end_msg 0
               else
             log_end_msg 1
           fi
       done
        ;;
  'restart')
           # restart commands here
       $0 stop
       $0 start
               
        ;;
* )      # no parameter specified
    echo "Usage: $SELF start|stop|restart|reload|force-reload|status"
      exit 1
      ;;

esac
</code></pre>
<p>Once saved, continue with:</p>
<pre><code class="language-console">root@trainingday:/etc/init.d# chmod +x galaxy
root@trainingday:/etc/init.d# update-rc.d galaxy defaults
 Adding system startup for /etc/init.d/galaxy ...
   /etc/rc0.d/K20galaxy -> ../init.d/galaxy
   /etc/rc1.d/K20galaxy -> ../init.d/galaxy
   /etc/rc6.d/K20galaxy -> ../init.d/galaxy
   /etc/rc2.d/S20galaxy -> ../init.d/galaxy
   /etc/rc3.d/S20galaxy -> ../init.d/galaxy
   /etc/rc4.d/S20galaxy -> ../init.d/galaxy
   /etc/rc5.d/S20galaxy -> ../init.d/galaxy
root@trainingday:/etc/init.d# 
</code></pre>
<h2 id="start-galaxy-from-the-init-script"><a href="#start-galaxy-from-the-init-script" aria-hidden="true"><span class="icon icon-link"></span></a>Start Galaxy from the init script</h2>
<pre><code class="language-console">root@trainingday:/etc/init.d# /etc/init.d/galaxy start
  * Starting Galaxy main                                                  [ OK ] 

root@trainingday:/etc/init.d# 
</code></pre>
<p>Galaxy can now be accessed at <a href="http://localhost:8080/" target="_blank" rel="noopener noreferrer">http://localhost:8080/</a></p>
<h2 id="install-nginx"><a href="#install-nginx" aria-hidden="true"><span class="icon icon-link"></span></a>Install nginx</h2>
<p>Note that under Debian/Ubuntu, <code>nginx-extras</code> contains 3rd party modules, including the nginx_upload_module, which we need for the advanced nginx config.  This module may also be available in nginx packages for Fedora-based distributions, but if not, you may have to compile nginx by hand to get the upload module.</p>
<pre><code class="language-console">root@trainingday:/etc/init.d# apt-get install nginx-extras
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following extra packages will be installed:
  liblua5.1-0 libperl5.14 nginx-common
The following NEW packages will be installed:
  liblua5.1-0 libperl5.14 nginx-common nginx-extras
0 upgraded, 4 newly installed, 0 to remove and 24 not upgraded.
Need to get 0 B/1,448 kB of archives.
After this operation, 3,481 kB of additional disk space will be used.
Do you want to continue [Y/n]? 
Selecting previously unselected package liblua5.1-0.
(Reading database ... 61153 files and directories currently installed.)
Unpacking liblua5.1-0 (from .../liblua5.1-0_5.1.4-12ubuntu1_i386.deb) ...
Selecting previously unselected package libperl5.14.
Unpacking libperl5.14 (from .../libperl5.14_5.14.2-6ubuntu2_i386.deb) ...
Selecting previously unselected package nginx-common.
Unpacking nginx-common (from .../nginx-common_1.1.19-1_all.deb) ...
Selecting previously unselected package nginx-extras.
Unpacking nginx-extras (from .../nginx-extras_1.1.19-1_i386.deb) ...
Processing triggers for ufw ...
Processing triggers for ureadahead ...
Processing triggers for man-db ...
Setting up liblua5.1-0 (5.1.4-12ubuntu1) ...
Setting up libperl5.14 (5.14.2-6ubuntu2) ...
Setting up nginx-common (1.1.19-1) ...
Setting up nginx-extras (1.1.19-1) ...
Processing triggers for libc-bin ...
ldconfig deferred processing now taking place
root@trainingday:/etc/init.d# 
</code></pre>
<h2 id="configure-and-start-nginx"><a href="#configure-and-start-nginx" aria-hidden="true"><span class="icon icon-link"></span></a>Configure and start nginx</h2>
<p>The configuration of proxy servers is explained in the wiki at <a href="/admin/config/nginx-proxy/">Admin/Config/nginx Proxy</a> and <a href="/admin/config/apache-proxy/">Admin/Config/Apache Proxy</a>.</p>
<pre><code class="language-console">root@trainingday:/etc/init.d# cd /etc/nginx/sites-available/
root@trainingday:/etc/nginx/sites-available# vim galaxy
</code></pre>
<p>In <code>/etc/nginx/sites-available/galaxy</code>, paste the following:</p>
<pre><code class="language-nginx" is=""># this file is included inside http {}

# gzip is enabled in nginx.conf, but these override some of the other gzip defaults
gzip_vary on;
gzip_comp_level 4;
gzip_proxied any;
gzip_types text/plain text/css application/x-javascript text/xml application/xml text/javascript application/json;
gzip_buffers 16 8k;

# define the proxied application
upstream galaxy_app {
    server localhost:8080;
    server localhost:8081;
}

# http server directives
server {

    # maximum file upload size
    client_max_body_size 10G;

    # pass most requests to the proxied Galaxy application
    location / {
        proxy_pass      http://galaxy_app;
        proxy_set_header    X-Forwarded-Host $host;
        proxy_set_header    X-Forwarded-For $proxy_add_x_forwarded_for;
    }

    # directly handle file downloads in nginx
    location /_x_accel_redirect/ {
        internal;
        alias /;
    }

    # directly handle file uploads in nginx
    location /_upload {
        upload_store /home/galaxy/nginx_upload_store;
        upload_pass_form_field "";
        upload_set_form_field "__${upload_field_name}__is_composite" "true";
        upload_set_form_field "__${upload_field_name}__keys" "name path";
        upload_set_form_field "${upload_field_name}_name" "$upload_file_name";
        upload_set_form_field "${upload_field_name}_path" "$upload_tmp_path";
        upload_pass_args on;
        upload_pass /_upload_done;
    }
    location /_upload_done {
        set $dst /tool_runner/index;
        if ($args ~ nginx_redir=([^&#x26;]+)) {
            set $dst $1;
        }
        rewrite "" $dst;
    }

    # directly serve static content in nginx
    location /static {
        alias /home/galaxy/galaxy-dist/static;
        expires 24h;
    }
    location /static/style {
        alias /home/galaxy/galaxy-dist/static/june_2007_style/blue;
        expires 24h;
    }
    location /static/scripts {
        alias /home/galaxy/galaxy-dist/static/scripts/packed;
        expires 24h;
    }
    location /favicon.ico {
        alias /home/galaxy/galaxy-dist/static/favicon.ico;
        expires 24h;
    }
    location /robots.txt {
        alias /home/galaxy/galaxy-dist/static/robots.txt;
        expires 24h;
    }
}
</code></pre>
<p>Once saved, continue with:</p>
<pre><code class="language-console" class="./sites-enabled/">root@trainingday:/etc/nginx/sites-available# cd ../sites-enabled/
root@trainingday:/etc/nginx/sites-enabled# rm default 
root@trainingday:/etc/nginx/sites-enabled# ln -s /etc/nginx/sites-available/galaxy 
root@trainingday:/etc/nginx/sites-enabled# cd ..
root@trainingday:/etc/nginx# vim nginx.conf
</code></pre>
<p>In <code>/etc/nginx/nginx.conf</code>, change the first line:</p>
<pre><code class="language-nginx">user www-data;
</code></pre>
<p>To:</p>
<pre><code class="language-nginx">user galaxy;
</code></pre>
<p>Once saved, continue with:</p>
<pre><code class="language-console">root@trainingday:/etc/nginx# /etc/init.d/nginx start
Starting nginx: nginx.
root@trainingday:/etc/nginx# 
</code></pre>
<p>Galaxy can now be accessed at <a href="http://localhost/" target="_blank" rel="noopener noreferrer">http://localhost/</a></p>
<h2 id="configure-galaxy-for-nginx-uploaddownload"><a href="#configure-galaxy-for-nginx-uploaddownload" aria-hidden="true"><span class="icon icon-link"></span></a>Configure Galaxy for nginx upload/download</h2>
<pre><code class="language-console">root@trainingday:/etc/nginx# su - galaxy
galaxy@trainingday:~$ cd galaxy-dist/
galaxy@trainingday:~/galaxy-dist$ vim universe_wsgi.ini
</code></pre>
<p>In <code>universe_wsgi.ini</code>, set the following:</p>
<ul>
<li><code>nginx_x_accel_redirect_base = /_x_accel_redirect</code> - This is the internal URL used by nginx to serve files for download.  It must match the location set in the nginx config above.</li>
<li><code>nginx_upload_store = /home/galaxy/nginx_upload_store</code> - This is the directory that files uploaded to the nginx_upload_module will be saved to.  It must match the path set in the nginx config above.</li>
<li><code>nginx_upload_path = /_upload</code> - This is the internal URL used by nginx to redirect the client once the upload is complete.  It must match the location set in the nginx config above.</li>
</ul>
<p>Once saved, continue with:</p>
<pre><code class="language-console">galaxy@trainingday:~/galaxy-dist$ exit
logout
root@trainingday:/etc/nginx# /etc/init.d/galaxy restart
* Stopping Galaxy main                                                  [ OK ] 
* Starting Galaxy main                                                  [ OK ] 

root@trainingday:/etc/nginx# 
</code></pre>
<h2 id="install-proftpd"><a href="#install-proftpd" aria-hidden="true"><span class="icon icon-link"></span></a>Install ProFTPd</h2>
<pre><code class="language-console">root@trainingday:/etc/nginx# apt-get install proftpd proftpd-mod-pgsql
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Note, selecting 'proftpd-basic' instead of 'proftpd'
The following extra packages will be installed:
  libcap2
Suggested packages:
  proftpd-doc proftpd-mod-mysql proftpd-mod-ldap proftpd-mod-odbc
  proftpd-mod-sqlite openbsd-inetd inet-superserver
The following NEW packages will be installed:
  libcap2 proftpd-basic proftpd-mod-pgsql
0 upgraded, 3 newly installed, 0 to remove and 24 not upgraded.
Need to get 0 B/2,146 kB of archives.
After this operation, 4,688 kB of additional disk space will be used.
Do you want to continue [Y/n]? 
Preconfiguring packages ...
Selecting previously unselected package libcap2.
(Reading database ... 61206 files and directories currently installed.)
Unpacking libcap2 (from .../libcap2_1%3a2.22-1ubuntu3_i386.deb) ...
Selecting previously unselected package proftpd-basic.
Unpacking proftpd-basic (from .../proftpd-basic_1.3.4a-1_i386.deb) ...
Selecting previously unselected package proftpd-mod-pgsql.
Unpacking proftpd-mod-pgsql (from .../proftpd-mod-pgsql_1.3.4a-1_i386.deb) ...
Processing triggers for ureadahead ...
Processing triggers for man-db ...
Setting up libcap2 (1:2.22-1ubuntu3) ...
Setting up proftpd-basic (1.3.4a-1) ...
Warning: The home dir /var/run/proftpd you specified can't be accessed: No such file or directory
Adding system user `proftpd' (UID 109) ...
Adding new user `proftpd' (UID 109) with group `nogroup' ...
Not creating home directory `/var/run/proftpd'.
Adding system user `ftp' (UID 110) ...
Adding new user `ftp' (UID 110) with group `nogroup' ...
Creating home directory `/srv/ftp' ...
`/usr/share/proftpd/templates/welcome.msg' -> `/srv/ftp/welcome.msg.proftpd-new'
* Starting ftp server proftpd                                                  trainingday proftpd[7609]: mod_tls/2.4.3: compiled using OpenSSL version 'OpenSSL 1.0.0e 6 Sep 2011' headers, but linked to OpenSSL version 'OpenSSL 1.0.1 14 Mar 2012' library

trainingday proftpd[7609]: mod_sftp/0.9.8: compiled using OpenSSL version 'OpenSSL 1.0.0e 6 Sep 2011' headers, but linked to OpenSSL version 'OpenSSL 1.0.1 14 Mar 2012' library
trainingday proftpd[7609]: mod_tls_memcache/0.1: notice: unable to register 'memcache' SSL session cache: Memcache support not enabled
                                                                         [ OK ]
Setting up proftpd-mod-pgsql (1.3.4a-1) ...
Processing triggers for libc-bin ...
ldconfig deferred processing now taking place
root@trainingday:/etc/nginx# 
</code></pre>
<p>When prompted by <code>debconf</code> with the following question, select <code>standalone</code>:</p>
<pre><code> ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ProFTPD configuration ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  
 ‚îÇ ProFTPD can be run either as a service from inetd, or as a standalone     ‚îÇ  
 ‚îÇ server. Each choice has its own benefits. With only a few FTP             ‚îÇ  
 ‚îÇ connections per day, it is probably better to run ProFTPD from inetd in   ‚îÇ  
 ‚îÇ order to save resources.                                                  ‚îÇ  
 ‚îÇ                                                                           ‚îÇ  
 ‚îÇ On the other hand, with higher traffic, ProFTPD should run as a           ‚îÇ  
 ‚îÇ standalone server to avoid spawning a new process for each incoming       ‚îÇ  
 ‚îÇ connection.                                                               ‚îÇ  
 ‚îÇ                                                                           ‚îÇ  
 ‚îÇ Run proftpd:                                                              ‚îÇ  
 ‚îÇ                                                                           ‚îÇ  
 ‚îÇ                                from inetd                                 ‚îÇ  
 ‚îÇ                                standalone                                 ‚îÇ  
 ‚îÇ                                                                           ‚îÇ  
 ‚îÇ                                                                           ‚îÇ  
 ‚îÇ                                  &#x3C;Ok>                                     ‚îÇ  
 ‚îÇ                                                                           ‚îÇ  
 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  
                                                                                
</code></pre>
<h2 id="configure-proftpd"><a href="#configure-proftpd" aria-hidden="true"><span class="icon icon-link"></span></a>Configure ProFTPd</h2>
<p>The configuration of ProFTPd is explained in the wiki at [Admin/Config/Upload via FTP](/src/admin/config/Upload via FTP/index.md).</p>
<pre><code class="language-console">root@trainingday:/etc/nginx# cd /etc/proftpd/
root@trainingday:/etc/proftpd# vim modules.conf 
</code></pre>
<p>In <code>/etc/proftpd/modules.conf</code>, uncomment the following 3 directives:</p>
<pre><code class="language-apache">LoadModule mod_sql.c
LoadModule mod_sql_postgres.c
LoadModule mod_sql_passwd.c
</code></pre>
<p>Once saved, continue with:</p>
<pre><code class="language-console">root@trainingday:/etc/proftpd# vim proftpd.conf 
</code></pre>
<p>In <code>/etc/proftpd/proftpd.conf</code>, change:</p>
<pre><code class="language-apache">User                            proftpd
Group                           nogroup
</code></pre>
<p>To:</p>
<pre><code class="language-apache">User                            galaxy
Group                           galaxy
</code></pre>
<p>Once saved, continue with:</p>
<pre><code class="language-console">root@trainingday:/etc/proftpd# cd conf.d
root@trainingday:/etc/proftpd/conf.d# vim galaxy.conf
</code></pre>
<p>In <code>/etc/proftpd/conf.d/galaxy.conf</code>, paste the following:</p>
<pre><code class="language-apache"># Cause every FTP user to be "jailed" (chrooted) into their home directory
DefaultRoot                     ~

# Automatically create home directory if it doesn't exist
CreateHome                      on dirmode 700

# Allow users to overwrite their files
AllowOverwrite                  on

# Allow users to resume interrupted uploads
AllowStoreRestart               on

# Bar use of SITE CHMOD
&#x3C;Limit SITE_CHMOD>
  DenyAll
&#x3C;/Limit>

# Bar use of RETR (download) since this is not a public file drop
&#x3C;Limit RETR>
  DenyAll
&#x3C;/Limit>

# Do not authenticate against real (system) users
AuthPAM                         off

# Set up mod_sql_password - Galaxy passwords are stored as hex-encoded SHA1
SQLPasswordEngine               on
SQLPasswordEncoding             hex

# Set up mod_sql to authenticate against the Galaxy database
SQLEngine                       on
SQLBackend                      postgres
SQLConnectInfo                  galaxy@/var/run/postgresql galaxy
SQLAuthTypes                    SHA1
SQLAuthenticate                 users

# An empty directory in case chroot fails
SQLDefaultHomedir               /var/lib/proftpd/empty

# Define a custom query for lookup that returns a passwd-like entry.  UID and GID should match your Galaxy user.
SQLUserInfo                     custom:/LookupGalaxyUser
SQLNamedQuery                   LookupGalaxyUser SELECT "email,password,'1001','1001','/home/galaxy/ftp/%U','/bin/bash' FROM galaxy_user WHERE email='%U'"
</code></pre>
<p>Once saved, continue with:</p>
<pre><code class="language-console">root@trainingday:/etc/proftpd/conf.d# mkdir -p /var/lib/proftpd/empty
root@trainingday:/etc/proftpd/conf.d# su - galaxy
galaxy@trainingday:~$ cd galaxy-dist/
galaxy@trainingday:~/galaxy-dist$ vim universe_wsgi.ini
</code></pre>
<p>In <code>universe_wsgi.ini</code>, set the following:</p>
<ul>
<li><code>ftp_upload_dir = /home/galaxy/ftp</code> - The directory where files uploaded via FTP will be placed.</li>
<li><code>ftp_upload_site = localhost</code> - The FTP site hostname displayed on the upload form.</li>
</ul>
<p>Once saved, continue with:</p>
<pre><code class="language-console">galaxy@trainingday:~/galaxy-dist$ exit
logout
root@trainingday:/etc/proftpd/conf.d# /etc/init.d/proftpd restart
* Stopping ftp server proftpd                                           [ OK ] 
* Starting ftp server proftpd                                                  trainingday proftpd[7908]: mod_tls/2.4.3: compiled using OpenSSL version 'OpenSSL 1.0.0e 6 Sep 2011' headers, but linked to OpenSSL version 'OpenSSL 1.0.1 14 Mar 2012' library

trainingday proftpd[7908]: mod_sftp/0.9.8: compiled using OpenSSL version 'OpenSSL 1.0.0e 6 Sep 2011' headers, but linked to OpenSSL version 'OpenSSL 1.0.1 14 Mar 2012' library
trainingday proftpd[7908]: mod_tls_memcache/0.1: notice: unable to register 'memcache' SSL session cache: Memcache support not enabled
                                                                         [ OK ]
root@trainingday:/etc/proftpd/conf.d# /etc/init.d/galaxy restart
* Stopping Galaxy main                                                  [ OK ] 
* Starting Galaxy main                                                  [ OK ] 

root@trainingday:/etc/proftpd/conf.d# 
</code></pre>
<p>The warnings can safely be ignored.</p>
<h2 id="configure-galaxy-to-use-sun-grid-engine"><a href="#configure-galaxy-to-use-sun-grid-engine" aria-hidden="true"><span class="icon icon-link"></span></a>Configure Galaxy to use Sun Grid Engine</h2>
<p>The configuration of Galaxy's cluster interface is explained in the wiki at <a href="/admin/config/performance/cluster/">Admin/Config/Performance/Cluster</a>.</p>
<p>A bit of work occurred behind the scenes for this step.  I preinstalled and preconfigured SGE in the VM, since setting up your DRM is outside of the scope of Galaxy configuration.</p>
<pre><code class="language-console">root@trainingday:/etc/proftpd/conf.d# cd /etc/init.d
root@trainingday:/etc/init.d# vim galaxy
</code></pre>
<p>In <code>/etc/init.d/galaxy</code>, add the following to the section at the top where other environment variables are set:</p>
<pre><code class="language-bash">DRMAA_LIBRARY_PATH="/usr/lib/libdrmaa.so.1.0"
SGE_ROOT="/var/lib/gridengine"
export DRMAA_LIBRARY_PATH SGE_ROOT
</code></pre>
<p>Once saved, continue with:</p>
<pre><code class="language-console">root@trainingday:/etc/init.d# su - galaxy
galaxy@trainingday:~$ cd galaxy-dist
galaxy@trainingday:~/galaxy-dist$ vim universe_wsgi.ini
</code></pre>
<p>In <code>universe_wsgi.ini</code>, set the following:</p>
<ul>
<li><code>start_job_runners = drmaa</code> - Start the <a href="http://www.drmaa.org" target="_blank" rel="noopener noreferrer">DRMAA</a> job runner.</li>
<li><code>default_cluster_job_runner = drmaa:///</code> - By default, run jobs on the cluster.</li>
<li>Comment out the <code>local:///</code> tool overrides in the <code>[galaxy:tool_runners]</code> section.</li>
</ul>
<p>Once saved, continue with:</p>
<pre><code class="language-console">galaxy@trainingday:~/galaxy-dist$ exit
logout
root@trainingday:/etc/init.d# /etc/init.d/galaxy restart
* Stopping Galaxy main                                                  [ OK ] 
* Starting Galaxy main                                                  [ OK ] 

root@trainingday:/etc/init.d# 
</code></pre>
<h2 id="run-multiple-galaxy-processes"><a href="#run-multiple-galaxy-processes" aria-hidden="true"><span class="icon icon-link"></span></a>Run multiple Galaxy processes</h2>
<p>The configuration of scaling with multiple processes is explained in the wiki at <a href="/admin/config/performance/scaling/">Admin/Config/Performance/Scaling</a>.</p>
<pre><code class="language-console">root@trainingday:/etc/init.d# /etc/init.d/galaxy stop
* Stopping Galaxy main                                                  [ OK ] 

root@trainingday:/etc/init.d# su - galaxy
galaxy@trainingday:~$ cd galaxy-dist/
galaxy@trainingday:~/galaxy-dist$ vim universe_wsgi.ini
</code></pre>
<p>In <code>universe_wsgi.ini</code>, comment out <code>[server:main]</code> and all of that section's contents.  Then add the following sections to the top of the file:</p>
<pre><code class="language-ini">[server:web0]
use = egg:Paste#http
port = 8080
use_threadpool = True

[server:web1]
use = egg:Paste#http
port = 8081
use_threadpool = True

[server:manager]
use = egg:Paste#http
port = 8085
use_threadpool = True

[server:handler0]
use = egg:Paste#http
port = 8090
use_threadpool = True

[server:handler1]
use = egg:Paste#http
port = 8091
use_threadpool = True
</code></pre>
<p>Further down in the file, set the following:</p>
<ul>
<li><code>job_manager = manager</code> - Specifies that the server named 'manager' defined above should have the role of assigning jobs to handlers.</li>
<li><code>job_handlers = handler0,handler1</code> - Specifies that the servers named 'handler0' and 'handler1' should have the role of running, tracking, and finishing jobs.</li>
</ul>
<p>Once saved, continue with:</p>
<pre><code class="language-console">galaxy@trainingday:~/galaxy-dist$ exit
logout
root@trainingday:/etc/init.d# /etc/init.d/galaxy start
* Starting Galaxy web0                                                  [ OK ] 
* Starting Galaxy web1                                                  [ OK ] 
* Starting Galaxy manager                                               [ OK ] 
* Starting Galaxy handler0                                              [ OK ] 
* Starting Galaxy handler1                                              [ OK ] 

root@trainingday:/etc/init.d# 
</code></pre>
<h2 id="configure-the-distributed-object-store"><a href="#configure-the-distributed-object-store" aria-hidden="true"><span class="icon icon-link"></span></a>Configure the Distributed Object Store</h2>
<p>The distributed object store allows you to balance datasets across multiple filesystems and multiple file servers.</p>
<pre><code class="language-console">root@trainingday:/etc/init.d# su - galaxy
galaxy@trainingday:~$ cd galaxy-dist/
galaxy@trainingday:~/galaxy-dist$ cp distributed_object_store_conf.xml.sample distributed_object_store_conf.xml
galaxy@trainingday:~/galaxy-dist$ vim universe_wsgi.ini
</code></pre>
<p>In <code>universe_wsgi.ini</code>, set the following:</p>
<ul>
<li><code>object_store = distributed</code></li>
<li><code>distributed_object_store_config_file = distributed_object_store_conf.xml</code></li>
</ul>
<p>Once saved, continue with:</p>
<pre><code class="language-console">galaxy@trainingday:~/galaxy-dist$ exit
logout
root@trainingday:/etc/init.d# /etc/init.d/galaxy restart
* Stopping Galaxy web0                                                  [ OK ] 
* Stopping Galaxy web1                                                  [ OK ] 
* Stopping Galaxy manager                                               [ OK ] 
* Stopping Galaxy handler0                                              [ OK ] 
* Stopping Galaxy handler1                                              [ OK ] 
* Starting Galaxy web0                                                  [ OK ] 
* Starting Galaxy web1                                                  [ OK ] 
* Starting Galaxy manager                                               [ OK ] 
* Starting Galaxy handler0                                              [ OK ] 
* Starting Galaxy handler1                                              [ OK ] 

root@trainingday:/etc/init.d# 
</code></pre>
</div>
</div><footer data-v-54ece1d6 data-v-77022bf2><!----></footer><footer class="static-footer markdown"><p>The Galaxy Project is supported in part by NSF, NHGRI, The Huck Institutes of the Life Sciences, The Institute for CyberScience at Penn State, and Johns Hopkins University.</p>
</footer></section></div>
    <script src="/assets/js/app.431ed39e.js" defer></script><script src="/assets/js/page--src--templates--article-vue.077afa7b.js" defer></script><script src="/assets/js/page--src--templates--article-vue~page--src--templates--vue-article-vue.0d54471b.js" defer></script>
    <script src="//unpkg.com/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>
  </body>
</html>