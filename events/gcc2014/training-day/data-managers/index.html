<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Tool Development from bright idea to toolshed - Data Managers - Galaxy Community Hub</title><meta name="gridsome:hash" content="91d4a83f9855c194893a1f5e294057505b0cd33d"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="All about Galaxy and its community."><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.7d4a227415c9d9b704d56a079d49a3e1.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.7d4a227415c9d9b704d56a079d49a3e1.png"><link rel="preload" href="/assets/css/0.styles.e1e25242.css" as="style"><link rel="preload" href="/assets/js/app.0690a31c.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--vue-article-vue.d9a0c32e.js" as="script"><link rel="preload" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--data-managers--index-md.ea9c133f.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.9b913011.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.c32e3571.js"><link rel="prefetch" href="/assets/js/page--src--pages--careers-vue.85d2fb31.js"><link rel="prefetch" href="/assets/js/page--src--pages--data-explorer-vue.8aa3e295.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--archive-vue.1426fe7f.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--cofests--papercuts-vue.ab928745.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--cofests-vue.1e8420fc.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--webinars-vue.5d6fb146.js"><link rel="prefetch" href="/assets/js/page--src--pages--events-vue.cd4ed3c8.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.a143f0a2.js"><link rel="prefetch" href="/assets/js/page--src--pages--news-vue.2f002266.js"><link rel="prefetch" href="/assets/js/page--src--pages--search-vue.23e742ea.js"><link rel="prefetch" href="/assets/js/page--src--pages--tests-vue.3b995c11.js"><link rel="prefetch" href="/assets/js/page--src--pages--use-vue.7c5b8683.js"><link rel="prefetch" href="/assets/js/page--src--templates--article-vue.6d736ff4.js"><link rel="prefetch" href="/assets/js/page--src--templates--platform-vue.91145b17.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--careers-vue~page--src--pages--use-vue~page--src--templates--article-vue~pa~efade918.92a3a9c1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--index-md.b8e1f92a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--md--imgtests--imgdir--index-md.5311083e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--partials--index-md.b6884022.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--imgtests--imgdir--index-md.1ee4281c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--imgtests--index-md.fe03c46f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--index-md.05d8aec6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--syntaxtests--index-md.e7b48256.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--syntaxtests--reldir--index-md.4093d68b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--capacity-planning--index-md.8813525b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--config--index-md.aafe943e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--config--performance--cluster--legacy--index-md.3da8719f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--datatypes--index-md.9b672175.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--disk-quotas--index-md.44f752e9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--faq--index-md.3851dd50.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--internals--data-model--index-md.6d581759.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--internals--galaxy-ops--index-md.a3b0d0af.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--ten-simple-steps-galaxy-as-a-service--index-md.699b2e0d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--tools--tool-config-syntax--index-md.208f876a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--tools--writing-tests--index-md.b2caa913.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--allocation--index-md.de3e7728.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--faq--index-md.ac3b79f2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--index-md.328857f9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--ssh--index-md.d92fc074.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--troubleshooting--index-md.7c074dc2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--capacity-planning--index-md.01a397fa.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--getting-started--index-md.acdcb61b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--index-md.824830b5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--building--index-md.10fb8489.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--capacity-planning--index-md.e2d98e61.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--cluster-types--index-md.df053139.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--customizing--index-md.fb1f931d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--faq--index-md.b2fab4e5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--getting-started--index-md.d71b41b2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--getting-started--pre-201703--index-md.f5a4c4d0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--hadoop--index-md.d7a6d969.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--ht-condor--index-md.31bcf5d4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--index-md.b7b22e1d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--openstack--index-md.d78cb425.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--services--index-md.f2027d09.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--sharing--index-md.cd3d2d6f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--troubleshooting--index-md.fc1a0be3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--userdata--index-md.e4d95203.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--future--index-md.e75566ea.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--index-md.a767ff80.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-07-09--index-md.66c1654b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-07-27--index-md.c6d537c1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-09-19--index-md.544a522a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-11-14--index-md.4746a5d0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-01-16--index-md.d1551883.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-03-20--index-md.5094871c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-05-15--index-md.1897abfc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-11-20--index-md.c4d4ced5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-02-19--index-md.311ef2ba.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-04-16--index-md.0b281218.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-06-18--index-md.7c255863.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-08-20--index-md.43ba73c2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-10-15--index-md.bc11b58b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-02-18--index-md.1a182ba1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-04-21--index-md.5e9eea61.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-06-16--index-md.b1295236.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-08-18--index-md.d8fbe7ba.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--index-md.43055631.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--webinar-tech--index-md.a44b91e1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--2012--index-md.c7a0a096.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--2014--index-md.46c5bc59.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--index-md.34247339.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--data--index-md.46e24851.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--datafiles--index-md.77545970.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--architecture--index-md.55f07291.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--bitbucket--index-md.718bcb6c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--css--index-md.281229bf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--getting-started--index-md.497082a2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--index-md.392b2e76.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--jsa--index-md.ba998e94.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--mercurial--index-md.14a2dad8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--security-tool-tips--index-md.17796bc0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--galaxy-project--index-md.0de41023.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--index-md.d89e2857.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--papers--index-md.4bdf7b3e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--posters--index-md.7e825096.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--presentations--index-md.084c96b9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--videos--index-md.c984f7ce.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--advanced-session--index-md.191fe1da.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--basics-session--index-md.35c32703.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--index-md.8acf4593.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--logistics--index-md.37d0ac9b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--publicity--index-md.7f2eec38.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--registration--index-md.d22dcedd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--abstracts--index-md.bbbf6ae8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--index-md.cb62d683.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--key-dates--index-md.07f8d6b1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--lightning-talks--index-md.72ab128d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--logistics--index-md.c3eeb3dd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--organizing-committee--index-md.f7a53fcd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--photos--index-md.d5102197.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--automation-strategies--index-md.6972b31d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--bioinformatics-training--index-md.648f14ff.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--end-users--index-md.ff776d4f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--workflows-and-api--index-md.540ad6ba.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--index-md.d233185c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--promotion--index-md.212eb34b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--register--index-md.b4c4f57b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--sponsorships--index-md.d0539386.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--training-day--index-md.2ee4bcd3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--index-md.1aa46f9f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--posters--index-md.a8b0ee54.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--talks--index-md.b3ee75dc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--clinical-use-hpc-file-systems--index-md.3fc5e2ed.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-admins--index-md.2f878aaa.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-blast--index-md.5305db66.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-professionals--index-md.dcbf6370.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--index-md.3abd720e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--proteomics--index-md.f4d7daaf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--public-galaxy-servers--index-md.b346729f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--tool-developers--index-md.4365e2e3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--index-md.d58334f2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--key-dates--index-md.a3f7c6b8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--lightning--index-md.180bd3c7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--logistics--index-md.c889273c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--organizers--index-md.2f551bcb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--photos--index-md.38ee0e51.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--program--index-md.f2c70270.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--promotion--index-md.1e5aadf9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--register--index-md.99382e6b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--sponsorships--index-md.1e82df1d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--advance-tool-data--index-md.02e350f8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--api--index-md.23e9c64f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--index-md.7b6606de.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--intro-tool-data--index-md.1893d923.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--vms--index-md.eb7d2783.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--index-md.19ebb120.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--posters--index-md.19e77da9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--talks--index-md.69b1844f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--branch-release-merge--index-md.e83f529b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-admins--index-md.4c5b1df3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-end-users--index-md.6b3ff393.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-training-network--index-md.85db1b6f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--heterogeneous--index-md.26797010.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--index-md.ab231746.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--using-galaxy-ui-overview--index-md.3f0318f2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--hackathon--index-md.f1b7f383.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--index-md.894a1ae1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--key-dates--index-md.d3d9965a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--lightning--index-md.268064be.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--logistics--index-md.033eda0f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--organizers--index-md.73259cdb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--photos--index-md.3ee7fbac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--program--index-md.79995b28.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--promotion--index-md.59d9587a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--register--index-md.6cf374d9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--sponsor-exhibit--index-md.2aa46fae.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--admin-walkthrough--index-md.244e6bc0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--api--index-md.3aefd41a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--index-md.1c4f2cb1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--vms--index-md.3a12839f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--cwl--index-md.29f1b923.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--data-management-challenges--index-md.5d4d1ee7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--data-splitting-and-parallelism--index-md.31c7354c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--elixir--index-md.e49743fc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--extended-workflow--index-md.ca7910bb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--fots--index-md.eea6d2b7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-admins--index-md.8df0d322.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-community-uk--index-md.69eb15c2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-scientists--index-md.3dd577a5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-training-network--index-md.d54633c6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--index-md.d03261e3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--data-hack-roundup--index-md.581fdf4b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--header--index-md.72afdfea.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--index-md.adc3dfb6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2016--bofs--index-md.e539350a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--abstracts--index-md.7322e906.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--childcare--index-md.416182d5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--cofest--index-md.ab0c9286.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--conduct--index-md.e979f793.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--faq--index-md.e8fa4530.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--index-md.876ea583.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--organizers--index-md.23f78b02.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--promotion--index-md.85444af0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--registration--index-md.5ed4fbf8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--sponsors--index-md.482f848f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--training--index-md.0709a7f7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--venue--index-md.238012f6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--abstracts--index-md.dc64d26a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--childcare--index-md.234bf37e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--code-of-conduct--index-md.3a181b70.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--collaboration--index-md.003698d8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--faq--index-md.6b9a5e1b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--icebreaker--index-md.bd0460e3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--index-md.139334ac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--keynotes--index-md.add6f018.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--organizers--index-md.8f9602b8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--promotion--index-md.55ce8ac1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--register--index-md.0b3372c2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--sponsors--index-md.4546b9bb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--training--index-md.9dbe3953.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--venue--index-md.1408cfc7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--germany-2014--index-md.4533e9c6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--germany-2016--index-md.da0aae7f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--sg-2014--index-md.38dcd568.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--sg-2016--index-md.80c32555.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2014--index-md.176fc9a2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2014--trainingday--index-md.774b7249.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2016--index-md.c5ea9a89.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--example--vue-remark--index-md.9e4f4358.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--faqs--index-md.a910449f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--galaxy-updates--2013-06--index-md.3a1cff95.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--galaxy-updates--2013-07--index-md.bb5876b9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--icons--index-md.9a000132.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--index-md.3b38f73f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--logos--index-md.aa44aae7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--news-graphics--index-md.05ad5cba.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--photos--index-md.1d8f64ab.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--screenshots--index-md.a201402f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--basic-editing--index-md.d08ab1a3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--basic-editing--workflow-editor-unannotated--index-md.e72b5147.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--extract--index-md.c7671571.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--tool-panel--index-md.ac20782a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--variables--index-md.3e2afdd3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--faq--index-md.09b46d8e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--galaxy-pages--index-md.ff01861b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--interval-operations--index-md.e1c040b2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--main--faq--index-md.0e15bbd0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--tools--requirements--index-md.d2018317.js"><link rel="stylesheet" href="/assets/css/0.styles.e1e25242.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="layout" data-v-5377d35c><header id="masthead"><nav class="navbar container justify-content-center navbar-dark bg-transparent navbar-expand-lg"><a href="/" target="_self" class="navbar-brand router-link-active"><img id="masthead-logo" src="/images/galaxy_logo_hub_white.svg" alt="Galaxy Community Hub" height="30"></a><button type="button" aria-label="Toggle navigation" class="navbar-toggler"><span class="navbar-toggler-icon"></span></button><div id="nav-collapse" class="navbar-collapse collapse" style="display:none;"><ul class="navbar-nav"><li class="nav-item"><a href="/use/" target="_self" class="nav-link">Use</a></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Learn</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/learn/" role="menuitem" target="_self" class="dropdown-item">How to use Galaxy</a></li><li role="presentation"><a role="menuitem" href="https://training.galaxyproject.org/" target="_self" class="dropdown-item">Teach with Galaxy</a></li></ul></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Community</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/community/" role="menuitem" target="_self" class="dropdown-item">About</a></li><li role="presentation"><a href="/events/" role="menuitem" target="_self" class="dropdown-item router-link-active">Events</a></li><li role="presentation"><a href="/news/" role="menuitem" target="_self" class="dropdown-item">News</a></li><li role="presentation"><a href="/blog/" role="menuitem" target="_self" class="dropdown-item">Blog</a></li><li role="presentation"><a href="/publication-library/" role="menuitem" target="_self" class="dropdown-item">Publications</a></li><li role="presentation"><a href="/galaxy-project/statistics/" role="menuitem" target="_self" class="dropdown-item">Stats</a></li><li role="presentation"><a href="/careers/" role="menuitem" target="_self" class="dropdown-item">Careers</a></li></ul></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Deploy &amp; Develop</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/admin/get-galaxy/" role="menuitem" target="_self" class="dropdown-item">Install Galaxy</a></li><li role="presentation"><a href="/admin/" role="menuitem" target="_self" class="dropdown-item">Server administration</a></li><li role="presentation"><a href="/tools/" role="menuitem" target="_self" class="dropdown-item">Tools</a></li><li role="presentation"><a href="/develop/api/" role="menuitem" target="_self" class="dropdown-item">Working with the API</a></li><li role="presentation"><a href="/develop/" role="menuitem" target="_self" class="dropdown-item">Contributing</a></li><li role="presentation"><a href="/docs/" role="menuitem" target="_self" class="dropdown-item">Code documentation</a></li></ul></li><li class="nav-item b-nav-dropdown dropdown"><a role="button" aria-haspopup="true" aria-expanded="false" href="#" target="_self" class="nav-link dropdown-toggle"><span>Support</span></a><ul tabindex="-1" class="dropdown-menu"><li role="presentation"><a href="/support/" role="menuitem" target="_self" class="dropdown-item">FAQ</a></li><li role="presentation"><a role="menuitem" href="https://help.galaxyproject.org/" target="_self" class="dropdown-item">Galaxy Help Forum</a></li></ul></li><li class="nav-item"><a href="/jxtx/" target="_self" class="nav-link">@jxtx</a></li></ul><ul class="navbar-nav ml-auto"><li class="form-inline"><form action="/search/" method="get" class="form-inline"><input id="search-input" name="q" type="text" placeholder="Search Galaxy" value="" class="mr-sm-2 form-control form-control-sm"><button type="submit" class="btn my-2 my-sm-0 btn-secondary btn-sm"><span class="fa fa-search"></span></button></form></li></ul></div></nav></header><section id="maincontainer" class="container"><header data-v-1944b8d1 data-v-5377d35c><a href="/" class="link active" data-v-1944b8d1>‚Üê Back to Home</a><!----><h1 class="title" data-v-1944b8d1>Tool Development from bright idea to toolshed - Data Managers</h1><!----><section class="metadata freetext" data-v-1944b8d1><!----><!----><!----></section><!----><!----></header><article class="content markdown" data-v-5377d35c><div data-v-5377d35c><div class="toc-wrapper col-md-3"><ul><li><p><a href="#presenters-dan-blankenberg-and-jim-johnson">Presenters: Dan Blankenberg and Jim Johnson</a></p></li><li><p><a href="#summary">Summary</a></p></li><li><p><a href="#helpful-links">Helpful links</a></p></li><li><p><a href="#prerequisites">Prerequisites</a></p></li><li><p><a href="#1530-1540-introduction">15:30-15:40 Introduction</a></p></li><li><p><a href="#1540-1600-using-reference-data-in-galaxy-tools">15:40-16:00 Using Reference Data in Galaxy Tools</a></p></li><li><p><a href="#1600-1610-introduction-to-datamanagers">16:00-16:10 Introduction to DataManagers</a></p></li><li><p><a href="#1610-1630-install-a-datamanager-from-the-toolshed">16:10-16:30 Install a DataManager from the ToolShed</a></p></li><li><p><a href="#1630-1710-create-a-datamanager">16:30-17:10 Create a DataManager</a></p><ul><li><a href="#data-manager-tool">Data Manager Tool</a></li></ul></li><li><p><a href="#1710-1730-put-the-datamanager-in-the-toolshed">17:10-17:30 Put the DataManager in the Toolshed</a></p></li><li><p><a href="#1730-1800-other-example-data-managers">17:30-18:00 Other Example data managers</a></p><ul><li><a href="#snpeff---httpsnpeffsourceforgenetsnpeffhtml">SnpEff - http://snpeff.sourceforge.net/SnpEff.html</a></li></ul></li></ul></div><div class="body-wrapper col-md-9"><p class="markdown" data-v-5377d35c><div class="text-center trim-p">
<p><a href="/events/gcc2014/"><img src="/images/logos/GCC2014LogoWide600.png" alt="2014 Galaxy Community Conference (GCC2014), Baltimore Maryland, United States, June 30 - July 2 2014"></a></p>
<p><br /><br /></p>
<p><span style="font-size: larger;"> <a href="/events/gcc2014/abstracts/">Slides, posters, and videos are now available</a>;  <em>and</em> <a href="https://gccbosc2018.sched.com/" target="_blank" rel="noopener noreferrer">GCC2018</a> is coming! </span></p>
</div></p><p><br><br></p><p class="markdown" data-v-5377d35c><div class="alert alert-info float-right text-center">
<p><a href="/events/gcc2014/"><strong>GCC2014</strong></a><br>
<a href="/events/gcc2014/training-day">Training</a><br>
<a href="/events/gcc2014/program">Program</a><br>
<a href="/events/gcc2014/abstracts">Abstracts</a><br>
<a href="/events/gcc2014/bofs">BoFs</a><br>
<a href="/events/gcc2014/lightning">Lightning</a><br>
<a href="/events/gcc2014/logistics">Logistics</a><br>
<a href="/events/gcc2014/sponsor-exhibit">Sponsors</a><br>
<a href="/events/gcc2014/hackathon">Hackathon</a><br>
<a href="/events/gcc2014/promotion">Promotion</a><br>
<a href="/events/gcc2014/register">Registration</a><br>
<a href="/events/gcc2014/key-dates">Key Dates</a><br>
<a href="/events/gcc2014/organizers">Organizers</a></p>
</div></p><div class="right"><a href="/events/gcc2014/training-day/"><img src="/images/logos/GCC2014TrainingDayLogoSquare.png" alt="GCC2014 Training Day" width="100"></a></div><p>This is the workshop page for the <strong><a href="/events/gcc2014/training-day/#tool-development-from-bright-idea-to-toolshed---data-managers">Tool Development from bright idea to toolshed - Data Managers</a></strong> Training Day session at GCC2014.</p><p>This workshop is offered on June 30, from 3:30 through 6pm, in Room 304 of Charles Commons.</p><h2 id="presenters-dan-blankenberg-and-jim-johnson"><a href="#presenters-dan-blankenberg-and-jim-johnson" aria-hidden="true"><span class="icon icon-link"></span></a>Presenters: Dan Blankenberg and Jim Johnson</h2><h2 id="summary"><a href="#summary" aria-hidden="true"><span class="icon icon-link"></span></a>Summary</h2><p>Galaxy tools can require installed reference data in order to be used effectively. For example, Bowtie requires prebuilt indexes in order to efficiently map sequences to a genome.
Data Managers enable a Galaxy administrator to add reference data to a Galaxy server via the admin webpage or through the Galaxy API.
This session covers the tool and ToolShed requirements for using reference data within galaxy tools, and the design and development of tool data managers to install reference data on a Galaxy server.</p><h2 id="helpful-links"><a href="#helpful-links" aria-hidden="true"><span class="icon icon-link"></span></a>Helpful links</h2><ul><li><a href="https://galaxyproject.org/Admin/Tools/data-managers" target="_blank" rel="noopener noreferrer">https://galaxyproject.org/Admin/Tools/data-managers</a></li><li><a href="https://galaxyproject.org/admin/tools/tool-config-syntax" target="_blank" rel="noopener noreferrer">https://galaxyproject.org/admin/tools/tool-config-syntax</a></li><li>For a video overview on Data Managers, see this <a href="http://vimeo.com/74265510" target="_blank" rel="noopener noreferrer">presentation from GCC2013</a>.</li></ul><h2 id="prerequisites"><a href="#prerequisites" aria-hidden="true"><span class="icon icon-link"></span></a>Prerequisites</h2><ul><li>The virtual machine image for this workshop should be installed before you arrive.<ul><li><a href="/events/gcc2014/training-day/vms/">How to VM</a></li><li><a href="http://depot.galaxyproject.org/GCC2014.ova" target="_blank" rel="noopener noreferrer">Direct Download</a></li></ul></li><li>A wi-fi enabled laptop with a modern web browser.  Google Chrome, Firefox and Safari will work best.</li><li>Knowledge and comfort with the Unix/Linux command line interface and a text editor. If you don't know what cd, mv, rm, mkdir, chmod, grep and so on can do then you will struggle in this workshop.</li><li>Secure Shell (SSH) client software such as PuTTY for Windows, or the Terminal Application that comes with Mac OS.</li></ul><h2 id="1530-1540-introduction"><a href="#1530-1540-introduction" aria-hidden="true"><span class="icon icon-link"></span></a>15:30-15:40 Introduction</h2><ul><li>Introduce presenters and circulating tutors</li><li>Scope of class</li></ul><h2 id="1540-1600-using-reference-data-in-galaxy-tools"><a href="#1540-1600-using-reference-data-in-galaxy-tools" aria-hidden="true"><span class="icon icon-link"></span></a>15:40-16:00 Using Reference Data in Galaxy Tools</h2><ul><li><p>Graphical Overview of Interplay between Built-in Data and Galaxy Tools
<a href="/images/learn/data_managers_figure_S1_schematic_overview.png"><div class="img-sizer" style="width:600px;"><img src="/images/learn/data_managers_figure_S1_schematic_overview.png"></div></a></p></li><li><p>Discussion of *.loc files</p><ul><li>Used as a way to provide additional configuration details to a tool, without having to manually edit the actual tool XML file.</li><li>Colloquially referred to as &quot;loc&quot; or &quot;location&quot; files.</li><li>Often used to store the path (location on disk) of reference data and indexes, along with appropriate metadata (display names, dbkeys/genome builds)</li><li>Need not end in the suffix of &quot;.loc&quot;, although they commonly do by convention.</li><li><strong>Tab</strong> delimited flat files, where each row is an entry in the table.</li><li>Should <strong>not be accessed directly</strong> in a tool. The <a href="/admin/tools/data-tables/">Tool Data Tables</a> abstraction layer should be used.</li></ul></li><li><p>Example of typical use of reference data in a Galaxy tool</p><ul><li>search toolshed for bwa tool that uses reference data<ul><li><a href="http://toolshed.g2.bx.psu.edu/view/devteam/bwa_wrappers" target="_blank" rel="noopener noreferrer">http://toolshed.g2.bx.psu.edu/view/devteam/bwa_wrappers</a><ol><li>Click &quot;Repository Actions&quot; and select &quot;Browse repository tip files&quot;</li><li>Find and click on &quot;bwa_wrapper.xml&quot; and note the section that uses indexed data:</li></ol></li></ul></li></ul></li></ul><pre><code class="language-xml">        &lt;conditional name=&quot;genomeSource&quot;&gt;
          &lt;param name=&quot;refGenomeSource&quot; type=&quot;select&quot; label=&quot;Will you select a reference genome from your history or use a built-in index?&quot;&gt;
            &lt;option value=&quot;indexed&quot;&gt;Use a built-in index&lt;/option&gt;
            &lt;option value=&quot;history&quot;&gt;Use one from the history&lt;/option&gt;
          &lt;/param&gt;
          &lt;when value=&quot;indexed&quot;&gt;
            &lt;param name=&quot;indices&quot; type=&quot;select&quot; label=&quot;Select a reference genome&quot;&gt;
              &lt;options from_data_table=&quot;bwa_indexes&quot;&gt;
                &lt;filter type=&quot;sort_by&quot; column=&quot;2&quot; /&gt;
                &lt;validator type=&quot;no_options&quot; message=&quot;No indexes are available&quot; /&gt;
              &lt;/options&gt;
            &lt;/param&gt;
          &lt;/when&gt;
          &lt;when value=&quot;history&quot;&gt;
            &lt;param name=&quot;ownFile&quot; type=&quot;data&quot; format=&quot;fasta&quot; metadata_name=&quot;dbkey&quot; label=&quot;Select a reference from history&quot; /&gt;
          &lt;/when&gt;
        &lt;/conditional&gt;
</code></pre><pre><code>  3. Find and click on &quot;tool_data_table_conf.xml.sample&quot; which defines the mapping to the &quot;tool-data/bwa_index.loc&quot; file
</code></pre><pre><code class="language-xml">      &lt;tables&gt;
        &lt;!-- Locations of indexes in the BWA mapper format --&gt;
        &lt;table name=&quot;bwa_indexes&quot; comment_char=&quot;#&quot;&gt;
          &lt;columns&gt;value, dbkey, name, path&lt;/columns&gt;
          &lt;file path=&quot;tool-data/bwa_index.loc&quot; /&gt;
        &lt;/table&gt;
      &lt;/tables&gt;
</code></pre><pre><code>  4. Find and click on &quot;bwa_index.loc.sample&quot; 
</code></pre><pre><code>#This is a sample file distributed with Galaxy that enables tools
#to use a directory of BWA indexed sequences data files. You will need
#to create these data files and then create a bwa_index.loc file
#similar to this one (store it in this directory) that points to
#the directories in which those files are stored. The bwa_index.loc
#file has this format (longer white space characters are TAB characters):
#
#&lt;unique_build_id&gt;   &lt;dbkey&gt;   &lt;display_name&gt;   &lt;file_path&gt;
#
#So, for example, if you had phiX indexed stored in 
#/depot/data2/galaxy/phiX/base/, 
#then the bwa_index.loc entry would look like this:
#
#phiX174   phiX   phiX Pretty   /depot/data2/galaxy/phiX/base/phiX.fa
</code></pre><ul><li><p>start galaxy</p><p><strong>open a terminal/shell and go to galaxy dir</strong></p></li></ul><pre><code>cd /home/galaxy/Desktop/Data_Managers/galaxy/galaxy-central 
</code></pre><p><strong>start a virtual env</strong></p><pre><code>. galaxy_env/bin/activate
</code></pre><p><strong>Stop Galaxy if it's running</strong></p><pre><code> sh run.sh --stop-daemon
</code></pre><p><strong>Restart Galaxy</strong></p><pre><code> sh run.sh --daemon
</code></pre><p><strong>Watch the Galaxy log</strong></p><pre><code> tail -f paster.log
</code></pre><ul><li>Check that your galaxy instance is running.  In your VM web browser, visit <a href="http://localhost:8080" target="_blank" rel="noopener noreferrer">http://localhost:8080</a>. Register your admin email address if you haven't already done so and log in.<ul><li>You can also use the preconfigured username: <code>admin@galaxyproject.org</code> password: <code>galaxy</code></li></ul></li><li>If you don't have an admin menu item on your tool bar, refresh your browser. If the issue persists: adjust universe_wsgi.ini by adding an admin_user email you will register with when you first log in - use commas ONLY - no spaces - to separate admin email addresses. Then restart galaxy.</li></ul><pre><code>$ grep admin_users universe_wsgi.ini
admin_users = jj@msi.umn.edu
</code></pre><ul><li>Install the BWA Galaxy tool<ol><li>From the Galaxy admin page: Click &quot;Search and browse tool sheds&quot;</li><li>Click &quot;Galaxy main tool shed&quot;</li><li>Searh for &quot;bwa&quot;</li><li>Select &quot;bwa_wrappers&quot; owned by <strong>devteam</strong></li><li>Click &quot;Install to Galaxy&quot;</li><li>Click &quot;Install&quot;</li></ol></li><li>In your terminal window:<ol><li>View shed_tool_conf.xml it should now contain a bwa_wrapper entry</li><li>View shed_tool_data_table_conf.xml should have the bwa tool_data_table_conf.xml.sample table entries added.</li><li>There should be a tool-data/bwa_index.loc file (copied from &quot;bwa_index.loc.sample&quot; if not already created)</li></ol></li><li>Upload some sample FASTQ datasets:<ol><li><a href="http://www.bx.psu.edu/~dan/examples/gcc2014/data_manager_workshop/fastq/SRR507778-10k%5C_1.fastqsanger" target="_blank" rel="noopener noreferrer">http://www.bx.psu.edu/~dan/examples/gcc2014/data_manager_workshop/fastq/SRR507778-10k\_1.fastqsanger</a></li><li><a href="http://www.bx.psu.edu/~dan/examples/gcc2014/data_manager_workshop/fastq/SRR507778-10k%5C_2.fastqsanger" target="_blank" rel="noopener noreferrer">http://www.bx.psu.edu/~dan/examples/gcc2014/data_manager_workshop/fastq/SRR507778-10k\_2.fastqsanger</a></li></ol><ul><li>These are paired end datasets created using Illumina technology, obtained from EBI SRA, and decreased to ~10,000 reads.</li><li>When uploading these datasets set the datatype to &quot;fastqsanger&quot;.</li></ul></li><li>When the BWA tool is installed, Click &quot;Analyze Data&quot; menu item and select the BWA tool<ul><li>Note the choices available under &quot;Select a reference genome:&quot; <em>hint: this list is empty</em></li></ul></li><li>Add a new built-in reference dataset, we will be using the sacCer1 genome build.<ul><li>Get the reference genome in the FASTA format. From your Galaxy root (galaxy@gcc2014:~/Desktop/Data_Managers/galaxy/galaxy-central$):<ol><li><code>cd tool-data/</code></li><li><code>mkdir sacCer1</code></li><li><code>mkdir sacCer1/seq</code></li><li><code>cd sacCer1/seq</code></li><li><code>wget http://www.bx.psu.edu/~dan/examples/gcc2014/data_manager_workshop/sacCer1/sacCer1.fa</code></li></ol></li><li>Create BWA indexes for the reference genome.<ul><li>Download and compile BWA (<a href="http://bio-bwa.sourceforge.net/" target="_blank" rel="noopener noreferrer">http://bio-bwa.sourceforge.net/</a>)</li><li><em>or</em> you can download and use a precompiled version:<ol><li><code>cd ~/Desktop/Data_Managers/galaxy/galaxy-central/tool-data/sacCer1</code></li><li><code>mkdir bwa_index</code></li><li><code>mkdir bwa_index/sacCer1</code></li><li><code>cd bwa_index/sacCer1</code></li><li><code>wget http://www.bx.psu.edu/~dan/examples/gcc2014/data_manager_workshop/bwa/bwa</code></li><li><code>chmod +x bwa</code></li><li><code>ln -s ../../seq/sacCer1.fa sacCer1.fa</code></li><li><code>./bwa index sacCer1.fa</code></li><li><code>ls -lah</code></li></ol></li></ul></li></ul></li><li>edit the tool-data/bwa_index.loc file adding a new entry<ol><li><code>cd ~/Desktop/Data_Managers/galaxy/galaxy-central/tool-data/</code></li><li><code>nano bwa_index.loc</code></li><li>add this entry to the end of the file:</li></ol><ul><li><code>sacCer1 sacCer1 S. cerevisiae Oct. 2003 (SGD/sacCer1) (sacCer1) /home/galaxy/Desktop/Data_Managers/galaxy/galaxy-central/tool-data/sacCer1/bwa_index/sacCer1/sacCer1.fa</code></li><li>Check the BWA tool for the new entry in your web browser</li><li>Restart your galaxy server</li><li>Again check the BWA tool for the new entry in your web browser<ul><li>If the your new entry does not appear, did you remember to separate the fields with <strong>TAB</strong> characters</li></ul></li><li>Align your FASTQ reads using the BWA tool to the newly added built-in reference genome data.</li></ul></li></ul><h2 id="1600-1610-introduction-to-datamanagers"><a href="#1600-1610-introduction-to-datamanagers" aria-hidden="true"><span class="icon icon-link"></span></a>16:00-16:10 Introduction to DataManagers</h2><ul><li><p>The problem</p><ul><li>Administrator needed to know how to update each type of reference data</li></ul></li><li><p>Data Managers to the rescue</p><ul><li>Allows for  the creation of built-in (reference) data<ul><li>underlying data</li><li>*.loc files</li><li>data tables</li></ul></li><li>Specialized Galaxy tools that can only be accessed by an admin</li><li>Defined locally or installed from the Tool Shed</li><li>Flexible Framework<ul><li>not just Genomic data</li><li>Interactively Run Data Managers through UI</li><li>Workflow compatible</li><li>Can Run via Galaxy API</li></ul></li></ul></li><li><p>How this operates within galaxy</p><ul><li><a href="https://wiki.galaxyproject.org/Admin/Tools/DataManagers/HowTo/Define" target="_blank" rel="noopener noreferrer">https://wiki.galaxyproject.org/Admin/Tools/DataManagers/HowTo/Define</a></li><li>configuration<ul><li>universe_wsgi.ini</li><li>data_manager_conf.xml</li><li>shed_data_manager_conf.xml</li></ul></li></ul></li></ul><h2 id="1610-1630-install-a-datamanager-from-the-toolshed"><a href="#1610-1630-install-a-datamanager-from-the-toolshed" aria-hidden="true"><span class="icon icon-link"></span></a>16:10-16:30 Install a DataManager from the ToolShed</h2><ul><li><a href="https://wiki.galaxyproject.org/Admin/Tools/DataManagers/HowTo/Define" target="_blank" rel="noopener noreferrer">https://wiki.galaxyproject.org/Admin/Tools/DataManagers/HowTo/Define</a></li><li>configure your galaxy server to use Data Managers<ul><li>In your &quot;universe_wsgi.ini&quot; file these settings exist in the <code>[app:main]</code> section:</li></ul></li></ul><pre><code class="language-python"># Data manager configuration options
enable_data_manager_user_view = True
data_manager_config_file = data_manager_conf.xml 
shed_data_manager_config_file = shed_data_manager_conf.xml 
galaxy_data_manager_data_path = tool-data
</code></pre><ul><li><p>Where <em>enable_data_manager_user_view</em> allows non-admin users to view the available data that has been managed.</p></li><li><p>Where <em>data_manager_config_file</em> defines the local xml file to use for loading the configurations of locally defined data managers.</p></li><li><p>Where <em>shed_data_manager_config_file</em> defines the local xml file to use for saving and loading the configurations of locally defined data managers.</p></li><li><p>Where <em>galaxy_data_manager_data_path</em> defines the location to use for storing the files created by Data Managers. When not configured it defaults to the value of <em>tool_data_path</em>.</p></li><li><p>From the Galaxy admin page:</p><ul><li>install data_manager_fetch_genome_all_fasta from Galaxy main tool shed</li></ul></li><li><p>view in galaxy file system where the various elements land</p><ul><li>shed_data_manager_conf.xml</li><li>shed_tool_data_table_conf.xml</li></ul></li><li><p>from galaxy admin panel use data_manager_fetch_genome_all_fasta to install data</p><ol><li>Click on &quot;Manage local data&quot;
<strong>Run Data Manager Tools</strong>
Reference Genome - fetching
<strong>View Data Manager Jobs</strong>
Reference Genome - fetching
<strong>View Tool Data Table Entries</strong>
all_fasta</li><li>Click on  &quot;all_fasta&quot; under &quot;View Tool Data Table Entries&quot;</li></ol><ul><li>You should see the current contents of tool-data/all_fasta.loc</li></ul><ol start="3"><li>Click on &quot;Reference Genome&quot; under &quot;Run Data Manager Tools&quot;</li><li>The <strong>Reference Genome</strong> tool form from data_manager_fetch_genome_all_fasta is displayed</li><li>From the <em>DBKEY to assign to data:</em> list choose: <strong>sacCer2</strong></li><li>Click <strong>Execute</strong></li><li>Under the &quot;User&quot; menu select &quot;Saved Histories&quot;</li><li>Select history: &quot;Data Manager History (automatically created)&quot;</li><li>You should see your &quot;Reference Genome&quot; job in the history</li><li>Go back to the Data Manager view by click on &quot;Manage local data&quot;</li><li>Click on  &quot;all_fasta&quot; under &quot;View Tool Data Table Entries&quot;</li><li>You should see sacCer2 added to all_fasta</li></ol></li></ul><h2 id="1630-1710-create-a-datamanager"><a href="#1630-1710-create-a-datamanager" aria-hidden="true"><span class="icon icon-link"></span></a>16:30-17:10 Create a DataManager</h2><p><strong>Create a <em>local</em> data manager to generate BWA indexes</strong></p><ul><li><a href="/admin/tools/data-managers/how-to/define/">Documentation</a></li></ul><p>We will need to:</p><ol><li>Create the Data Manager Galaxy tool</li><li>Configure Galaxy to use this Data Manager tool</li><li>Create the Data Manager Galaxy tool
hint1: The Bowtie2 data manager is almost identical
<a href="https://testtoolshed.g2.bx.psu.edu/view/jjohnson/data_manager_bowtie2%5C_index_builder" target="_blank" rel="noopener noreferrer">https://testtoolshed.g2.bx.psu.edu/view/jjohnson/data_manager_bowtie2\_index_builder</a>
hint2: Dan has already done a bwa data manger
<a href="http://toolshed.g2.bx.psu.edu/view/devteam/data_manager_bwa_index_builder" target="_blank" rel="noopener noreferrer">http://toolshed.g2.bx.psu.edu/view/devteam/data_manager_bwa_index_builder</a></li></ol><ul><li>highlight extra requirements/tags/attributes vs regular galaxy tool</li></ul><h3 id="data-manager-tool"><a href="#data-manager-tool" aria-hidden="true"><span class="icon icon-link"></span></a>Data Manager Tool</h3><p>A Data Manager Tool is a special class of <a href="/admin/tools/adding-tools/">Galaxy Tool</a>. Data Manager Tools do not appear in the standard Tool Panel and can only be accessed by a Galaxy Administrator. Additionally, the initial content of a Data Manager's output file contains a JSON dictionary with a listing of the Tool parameters and Job settings (i.e. they are a type of OutputParameterJSONTool, this is also available for DataSourceTools). There is no requirement for the underlying Data Manager tool to make use of these contents, but they are provided as a handy way to transfer all of the tool and job parameters without requiring a different command-line argument for each necessary piece of information.</p><p>The primary difference between a standard Galaxy Tool and a Data Manager Tool is that the primary output dataset of a Data Manager Tool <strong>must</strong> be a file containing a JSON description of the new entries to add to a Tool Data Table. The on-disk content to be referenced by the Data Manager Tool, if any, is stored within the <em>extra_files_path</em> of the output dataset created by the tool.</p><ul><li>The tool tag must have the attribute: <strong>tool_type=&quot;manage_data&quot;</strong></li></ul><pre><code class="language-xml">&lt;tool id=&quot;data_manager_fetch_genome_all_fasta&quot; name=&quot;Reference Genome&quot; version=&quot;0.0.1&quot; tool_type=&quot;manage_data&quot;&gt;
</code></pre><ul><li>The tool output must have <strong>format=&quot;data_manager_json&quot;</strong></li></ul><pre><code class="language-xml">  &lt;outputs&gt;
    &lt;data name=&quot;out_file&quot; format=&quot;data_manager_json&quot;/&gt;
    &lt;/outputs&gt;
</code></pre><ul><li>create <code>tools/data_manager/bwa_index_builder.xml</code><ul><li><a href="http://toolshed.g2.bx.psu.edu/repos/devteam/data_manager_bwa_index_builder/file/367878cb3698/data_manager/bwa_index_builder.xml" target="_blank" rel="noopener noreferrer">http://toolshed.g2.bx.psu.edu/repos/devteam/data_manager_bwa_index_builder/file/367878cb3698/data_manager/bwa_index_builder.xml</a><ul><li>Needs requirements tag for bwa application</li><li>input params:<ul><li>a select param with options from_data_table=&quot;all_fasta&quot;</li><li>a sequence_name text param</li><li>a sequence_id text param</li></ul></li><li>outputs data param must be format</li><li>transcribe the xml manually<ul><li>or you can download the file from: <a href="http://toolshed.g2.bx.psu.edu/repos/devteam/data_manager_bwa_index_builder/raw-file/367878cb3698/data_manager/bwa_index_builder.xml" target="_blank" rel="noopener noreferrer">http://toolshed.g2.bx.psu.edu/repos/devteam/data_manager_bwa_index_builder/raw-file/367878cb3698/data_manager/bwa_index_builder.xml</a></li></ul></li></ul></li><li>create <code>tools/data_manager/bwa_index_builder.py</code><ul><li><a href="http://toolshed.g2.bx.psu.edu/repos/devteam/data_manager_bwa_index_builder/file/367878cb3698/data_manager/bwa_index_builder.py" target="_blank" rel="noopener noreferrer">http://toolshed.g2.bx.psu.edu/repos/devteam/data_manager_bwa_index_builder/file/367878cb3698/data_manager/bwa_index_builder.py</a></li></ul></li></ul></li><li>Configure Galaxy to use this Data Manager tool<ul><li>add a data_manager entry inside data_managers tag in <code>data_mananger_conf.xml</code></li></ul></li></ul><pre><code class="language-xml">    &lt;data_manager tool_file=&quot;data_manager/bwa_index_builder.xml&quot; id=&quot;bwa_index_builder&quot; version=&quot;0.0.1&quot;&gt;
      &lt;data_table name=&quot;bwa_indexes&quot;&gt;
        &lt;output&gt;
          &lt;column name=&quot;value&quot; /&gt;
          &lt;column name=&quot;dbkey&quot; /&gt;
          &lt;column name=&quot;name&quot; /&gt;
          &lt;column name=&quot;path&quot; output_ref=&quot;out_file&quot; &gt;
            &lt;move type=&quot;directory&quot; relativize_symlinks=&quot;True&quot;&gt;
              &lt;!-- &lt;source&gt;${path}&lt;/source&gt;--&gt; &lt;!-- out_file.extra_files_path is used as base by default --&gt; &lt;!-- if no source, eg for type=directory, then refers to base --&gt;
              &lt;target base=&quot;${GALAXY_DATA_MANAGER_DATA_PATH}&quot;&gt;${dbkey}/bwa_index/${value}&lt;/target&gt;
            &lt;/move&gt;
            &lt;value_translation&gt;${GALAXY_DATA_MANAGER_DATA_PATH}/${dbkey}/bwa_index/${value}/${path}&lt;/value_translation&gt;
            &lt;value_translation type=&quot;function&quot;&gt;abspath&lt;/value_translation&gt;
          &lt;/column&gt;
        &lt;/output&gt;
      &lt;/data_table&gt;
    &lt;/data_manager&gt;
</code></pre><ul><li>run installer data_manager to build bwa indexes for sacCer2</li><li>did it work?<ul><li><em>why not?</em></li></ul></li><li>add the missing bwa dependency<ul><li>see <a href="/admin/config/tool-dependencies/">Admin/Config/ToolDependencies</a><ol><li><code>mkdir /home/galaxy/Desktop/Data_Managers/galaxy/tool_dependencies/bwa/0.5.9/bin</code></li><li><code>mv /home/galaxy/Desktop/Data_Managers/galaxy/galaxy-central/tool-data/sacCer1/bwa_index/sacCer1/bwa /home/galaxy/Desktop/Data_Managers/galaxy/tool_dependencies/bwa/0.5.9/bin/</code></li></ol></li></ul></li><li>rerun the Data Manager and confirm that it is working</li></ul><h2 id="1710-1730-put-the-datamanager-in-the-toolshed"><a href="#1710-1730-put-the-datamanager-in-the-toolshed" aria-hidden="true"><span class="icon icon-link"></span></a>17:10-17:30 Put the DataManager in the Toolshed</h2><ul><li>review toolshed best practices<ul><li>separate repository for required applications ( tool_dependencies.xml )</li><li>separate repository for required custom datatypes ( repository_dependencies.xml )</li></ul></li><li>Run your own ToolShed.<ul><li>Add an administrator to tool_shed_wsgi.ini using the same process as before.<ul><li>For your public username, use <strong>devteam</strong>.</li></ul></li><li>Open a new terminal</li><li>type <code>sh run_tool_shed.sh</code></li><li>Access the ToolShed at <a href="http://localhost:9009" target="_blank" rel="noopener noreferrer">http://localhost:9009</a></li><li>Using the Admin interface, create 2 new categories: &quot;Data Managers&quot; and &quot;Tool Dependency Packages&quot;</li></ul></li><li>BWA Dependency from Main toolshed:<ul><li>Cross ToolShed dependencies are not currently supported, so we will use the import/export feature.</li><li>Export the 'package_bwa_0_5_9' package from <a href="http://toolshed.g2.bx.psu.edu" target="_blank" rel="noopener noreferrer">http://toolshed.g2.bx.psu.edu</a>.<ul><li>This will create a 'capsule_toolshed.g2.bx.psu.edu_package_bwa_0_5_9_devteam_ec2595e4d313.tar.gz' file that can be imported into another ToolShed.</li></ul></li><li>In your local ToolShed, import your freshly exported ToolShed capsule.</li></ul></li><li>Prepare your Data Manager Toolshed Package.<ul><li>There are several ways to populate ToolShed repositories. We will be using mercurial to add files. Uploading tarballs is also possible and a very common way to do this.<ol><li>Login in to the toolshed</li><li>&quot;Click Create new repository&quot;</li><li>Add Create Repository fields:</li></ol><ul><li>Name:  data_manager_bwa_index_builder</li><li>Synopsis: Data Manager that builds BWA indexes</li><li>Detailed description: Index a FASTA file using the Burrows-Wheeler algorithm and populate the bwa_index.loc file.</li><li>Categories:  &quot;Data Managers&quot;</li></ul><ol start="4"><li>Click &quot;Save&quot;</li><li>Copy the clone link: &quot;<a href="http://devteam@tool_shed/repos/devteam/data_manager_bwa_index_builder" target="_blank" rel="noopener noreferrer">http://devteam@tool_shed/repos/devteam/data_manager_bwa_index_builder</a>&quot;</li><li>In Eclipse:</li></ol><ul><li>File --&gt; New --&gt; Project</li><li>Clone Existing Mercurial Repository</li><li>Click Next</li><li>Paste the clone link</li><li>Enter your password</li><li>Click Next</li><li>Click Next</li><li>Click Finish</li></ul><ol start="7"><li>Populate the repository</li></ol><ul><li>Required files:<ul><li>data_manager/bwa_index_builder.py</li><li>data_manager/bwa_index_builder.xml</li><li>data_manager_conf.xml</li><li>tool_data_table_conf.xml.sample</li><li>tool-data/all_fasta.loc.sample</li><li>tool-data/bwa_index.loc.sample</li><li>tool_dependencies.xml</li></ul></li></ul></li></ul></li></ul><pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;tool_dependency&gt;
    &lt;package name=&quot;bwa&quot; version=&quot;0.5.9&quot;&gt;
        &lt;repository name=&quot;package_bwa_0_5_9&quot; owner=&quot;devteam&quot; changeset_revision=&quot;f8687dc2392c&quot; toolshed=&quot;http://localhost:9009&quot;/&gt;
    &lt;/package&gt;
&lt;/tool_dependency&gt;
</code></pre><pre><code>      **Be sure to change the changeset_revision to the proper value.**
</code></pre><ul><li>Use mercurial<ol><li>hg add</li><li>hg ci -m &quot;Populate data manager tool&quot;</li><li>hg push</li></ol></li><li>Remove your locally installed Data Manager from &quot;data_manager_conf.xml&quot;.</li><li>Install new data_manager into your galaxy from the toolshed</li><li>Build a bwa index for C. brenneri Feb. 2008 (WUGSC 6.0.1/caePb2)</li></ul><h2 id="1730-1800-other-example-data-managers"><a href="#1730-1800-other-example-data-managers" aria-hidden="true"><span class="icon icon-link"></span></a>17:30-18:00 Other Example data managers</h2><h3 id="snpeff---httpsnpeffsourceforgenetsnpeffhtml"><a href="#snpeff---httpsnpeffsourceforgenetsnpeffhtml" aria-hidden="true"><span class="icon icon-link"></span></a>SnpEff - <a href="http://snpeff.sourceforge.net/SnpEff.html" target="_blank" rel="noopener noreferrer">http://snpeff.sourceforge.net/SnpEff.html</a></h3><p>SnpEff is a variant annotation and effect prediction tool. It annotates and predicts the effects of variants on genes (such as amino acid changes).</p><ul><li><strong>Key Points</strong><ul><li>A Galaxy tool should guide the user to make valid parameter choices</li><li>The reference data can either be in a history dataset or as reference data from tool-data</li><li>The Galaxy Data Manager framework is flexible<ul><li>The SnpEff data manager populates multiple .loc files</li><li>The data_manager_snpEff_<em>databases</em>.xml populates data_table &quot;snpeff_databases&quot; which provides the options for data_manager_snpEff_<em>download</em>.xml</li></ul></li></ul></li><li><strong>Initial Challenges</strong><ul><li>SnpEff used a config file to specify the path to genome references, defaulted to user home directory<ul><li>Not compatible with galaxy structure for toolshed install and data manager operation</li></ul></li><li>Need downloaded genome version for SnpEff tool tests</li><li>The available genome versions are dynamic, so the options shouldn't be hardcoded into a Galaxy Select Parameter</li><li>SnpEff galaxy tool has <em>extra</em> params that depend upon the reference data<ul><li>Every genome reference has file: snpEffectPredictor.bin</li><li>Some genome references may include regulation, motif, and nextProt annotations</li></ul></li></ul></li></ul><pre><code># Prevotella bryantii B14 has only the genome reference
$ ls tool-data/snpEff/data/ADWO01
snpEffectPredictor.bin
# Mouse build also has some regulation annotations
$ ls tool-data/snpEff/data/GRCm38.75/
regulation_ES.bin       regulation_MEF.bin      regulation_NPC.bin
regulation_ESHyb.bin    regulation_MEL.bin      snpEffectPredictor.bin
# Human build also has more regulation annotations and motif and nextProt annotations
$ ls tool-data/snpEff/data/GRCh37.75
motif.bin               regulation_GM06990.bin  regulation_HSMM.bin     regulation_IMR90.bin    regulation_NHEK.bin
nextProt.bin            regulation_GM12878.bin  regulation_HUVEC.bin    regulation_K562.bin     snpEffectPredictor.bin
pwms.bin                regulation_H1ESC.bin    regulation_HeLa-S3.bin  regulation_K562b.bin
regulation_CD4.bin      regulation_HMEC.bin     regulation_HepG2.bin    regulation_NH-A.bin
</code></pre><ul><li><strong>Solutions</strong><ul><li>Discussed Galaxy requirements with application developer Pablo Cingolani who graciously added:<ul><li>command line option &quot;-dataDir path&quot; to specify the path to genome reference data</li><li>download genome on demand functionality in SnpEff application, which allowed test cases to run without a preinstalled genome reference</li></ul></li><li>Developed 3 options in the SnpEff tool for getting the genome reference data<ol><li>Download on demand</li></ol><ul><li>great for tests, but a lot of overhead for large genomes, and no way to capture genome specific annotations</li></ul></li></ul></li></ul><pre><code class="language-xml">&lt;tool id=&quot;snpEff&quot; name=&quot;SnpEff&quot; version=&quot;3.6&quot;&gt;
    &lt;description&gt;Variant effect and annotation&lt;/description&gt;
    &lt;inputs&gt;
        &lt;conditional name=&quot;snpDb&quot;&gt;
            &lt;param name=&quot;genomeSrc&quot; type=&quot;select&quot; label=&quot;Genome source&quot;&gt;
                &lt;option value=&quot;named&quot;&gt;Named on demand&lt;/option&gt;
            &lt;/param&gt;
            &lt;when value=&quot;named&quot;&gt;
                &lt;param name=&quot;genome_version&quot; type=&quot;text&quot; value=&quot;GRCh37.68&quot; label=&quot;Snpff Version Name&quot;/&gt;
            &lt;/when&gt;
        &lt;/conditional&gt;
    &lt;/inputs&gt;
&lt;/tool&gt; 
</code></pre><ol start="2"><li>Data manager</li></ol><ul><li>most efficient for multiuser or multi history use</li><li>data_manager_snpEff_download.py inspects the downloaded genome files searching for added regulation and annotation files:</li></ul><pre><code class="language-python">    def download_database(data_manager_dict, target_directory, jar_path,config,genome_version,organism):
        data_dir = target_directory
        (snpEff_dir,snpEff_jar) = os.path.split(jar_path)
        args = [ 'java','-jar' ]
        args.append( jar_path )
        args.append( 'download' )
        args.append( '-c' )
        args.append( config )
        args.append( '-dataDir' )
        args.append( data_dir )
        args.append( '-v' )
        args.append( genome_version )
        proc = subprocess.Popen( args=args, shell=False, cwd=snpEff_dir )
        return_code = proc.wait()
        if return_code:
            sys.exit( return_code )
        ## search data_dir/genome_version for files
        regulation_pattern = 'regulation_(.+).bin'
        #  annotation files that are included in snpEff by a flag
        annotations_dict = {'nextProt.bin' : '-nextprot','motif.bin': '-motif'}
        genome_path = os.path.join(data_dir,genome_version)
        if os.path.isdir(genome_path):
            for root, dirs, files in os.walk(genome_path):
                for fname in files:
                    if fname.startswith('snpEffectPredictor'):
                        # if snpEffectPredictor.bin download succeeded
                        name = genome_version + (' : ' + organism if organism else *)
                        data_table_entry = dict(value=genome_version, name=name, path=data_dir)
                        _add_data_table_entry( data_manager_dict, 'snpeff_genomedb', data_table_entry )
                    else:
                        m = re.match(regulation_pattern,fname)
                        if m:
                            name = m.groups()[0]
                            data_table_entry = dict(genome=genome_version,value=name, name=name)
                            _add_data_table_entry( data_manager_dict, 'snpeff_regulationdb', data_table_entry )
                        elif fname in annotations_dict:
                            value = annotations_dict[fname]
                            name = value.lstrip('-')
                            data_table_entry = dict(genome=genome_version,value=value, name=name)
                            _add_data_table_entry( data_manager_dict, 'snpeff_annotations', data_table_entry )
        return data_manager_dict

    def _add_data_table_entry( data_manager_dict, data_table, data_table_entry ):
        data_manager_dict['data_tables'] = data_manager_dict.get( 'data_tables', {} )
        data_manager_dict['data_tables'][data_table] = data_manager_dict['data_tables'].get( data_table, [] )
        data_manager_dict['data_tables'][data_table].append( data_table_entry )
        return data_manager_dict
</code></pre><ul><li>SnpEff uses from_data_table to get options for params: regulation and extra_annotations</li></ul><pre><code class="language-xml">&lt;tool id=&quot;snpEff&quot; name=&quot;SnpEff&quot; version=&quot;3.6&quot;&gt;
    &lt;description&gt;Variant effect and annotation&lt;/description&gt;
    &lt;inputs&gt;
        &lt;conditional name=&quot;snpDb&quot;&gt;
            &lt;param name=&quot;genomeSrc&quot; type=&quot;select&quot; label=&quot;Genome source&quot;&gt;
                &lt;option value=&quot;cached&quot;&gt;Locally installed reference genome&lt;/option&gt;
            &lt;/param&gt;
            &lt;when value=&quot;cached&quot;&gt;
                &lt;param name=&quot;genomeVersion&quot; type=&quot;select&quot; label=&quot;Genome&quot;&gt;
                    &lt;!--GENOME    DESCRIPTION--&gt;
                    &lt;options from_data_table=&quot;snpeff_genomedb&quot;&gt;
                           &lt;filter type=&quot;unique_value&quot; column=&quot;0&quot; /&gt;
                    &lt;/options&gt;
                &lt;/param&gt;
                &lt;param name=&quot;extra_annotations&quot; type=&quot;select&quot; display=&quot;checkboxes&quot; multiple=&quot;true&quot; label=&quot;Additional Annotations&quot;&gt;
                       &lt;help&gt;These are available for only a few genomes&lt;/help&gt;
                       &lt;options from_data_table=&quot;snpeff_annotations&quot;&gt;
                           &lt;filter type=&quot;param_value&quot; ref=&quot;genomeVersion&quot; key=&quot;genome&quot; column=&quot;0&quot; /&gt;
                           &lt;filter type=&quot;unique_value&quot; column=&quot;1&quot; /&gt;
                       &lt;/options&gt;
                &lt;/param&gt;
                &lt;param name=&quot;regulation&quot; type=&quot;select&quot; display=&quot;checkboxes&quot; multiple=&quot;true&quot; label=&quot;Non-coding and regulatory Annotation&quot;&gt;
                       &lt;help&gt;These are available for only a few genomes&lt;/help&gt;
                       &lt;options from_data_table=&quot;snpeff_regulationdb&quot;&gt;
                           &lt;filter type=&quot;param_value&quot; ref=&quot;genomeVersion&quot; key=&quot;genome&quot; column=&quot;0&quot; /&gt;
                           &lt;filter type=&quot;unique_value&quot; column=&quot;1&quot; /&gt;
                       &lt;/options&gt;
                &lt;/param&gt;
            &lt;/when&gt;
        &lt;/conditional&gt;
    &lt;/inputs&gt;
&lt;/tool&gt; 
</code></pre><ol start="3"><li>From history</li></ol><ul><li>SnpEff Download tool allows users to proceed without the Galaxy admin</li><li>The genome specific options are captured in metadata of the custom dataytpe: &quot;snpeffdb&quot;</li></ul><pre><code class="language-xml">$ cat snpeff_datatypes/datatypes_conf.xml 
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;datatypes&gt;
    &lt;datatype_files&gt;
        &lt;datatype_file name=&quot;snpeff.py&quot;/&gt;
    &lt;/datatype_files&gt;
    &lt;registration&gt;
        &lt;datatype extension=&quot;snpeffdb&quot; type=&quot;galaxy.datatypes.snpeff:SnpEffDb&quot; display_in_upload=&quot;True&quot;/&gt;
    &lt;/registration&gt;
&lt;/datatypes&gt;
</code></pre><pre><code class="language-python">    $ cat snpeff_datatypes/lib/galaxy/datatypes/snpeff.py 
    &quot;&quot;&quot;
    SnpEff datatypes
    &quot;&quot;&quot;
    import os,os.path,re,sys,gzip,logging
    import galaxy.datatypes.data
    from galaxy.datatypes.data import Text
    from galaxy.datatypes.metadata import MetadataElement

    log = logging.getLogger(__name__)

    class SnpEffDb( Text ):
        &quot;&quot;&quot;Class describing a SnpEff genome build&quot;&quot;&quot;
        file_ext = &quot;snpeffdb&quot;
        MetadataElement( name=&quot;genome_version&quot;, default=None, desc=&quot;Genome Version&quot;, readonly=True, visible=True, no_value=None )
        MetadataElement( name=&quot;regulation&quot;, default=[], desc=&quot;Regulation Names&quot;, readonly=True, visible=True, no_value=[], optional=True)
        MetadataElement( name=&quot;annotation&quot;, default=[], desc=&quot;Annotation Names&quot;, readonly=True, visible=True, no_value=[], optional=True)

        def __init__( self, **kwd ):
            Text.__init__( self, **kwd )

        def set_meta( self, dataset, **kwd ):
            Text.set_meta(self, dataset, **kwd )
            data_dir = dataset.extra_files_path
            ## search data_dir/genome_version for files
            regulation_pattern = 'regulation_(.+).bin'
            #  annotation files that are included in snpEff by a flag
            annotations_dict = {'nextProt.bin' : '-nextprot','motif.bin': '-motif'}
            regulations = []
            annotations = []
            if data_dir and os.path.isdir(data_dir):
                for root, dirs, files in os.walk(data_dir):
                    for fname in files:
                        if fname.startswith('snpEffectPredictor'):
                            # if snpEffectPredictor.bin download succeeded
                            genome_version = os.path.basename(root)
                            dataset.metadata.genome_version = genome_version
                        else:
                            m = re.match(regulation_pattern,fname)
                            if m:
                                name = m.groups()[0]
                                regulations.append(name)
                            elif fname in annotations_dict:
                                value = annotations_dict[fname]
                                name = value.lstrip('-')
                                annotations.append(name)
                dataset.metadata.regulation = regulations
                dataset.metadata.annotation = annotations
                try:
                    fh = file(dataset.file_name,'w')
                    fh.write(&quot;%s\n&quot; % genome_version)
                    if annotations:
                        fh.write(&quot;annotations: %s\n&quot; % ','.join(annotations))
                    if regulations:
                        fh.write(&quot;regulations: %s\n&quot; % ','.join(regulations))
                    fh.close()
                except:
                    pass
</code></pre><ul><li>SnpEff tool gets options for params: regulation and extra_annotations from the &quot;snpeffdb&quot; metadata:</li></ul><pre><code class="language-xml">&lt;tool id=&quot;snpEff&quot; name=&quot;SnpEff&quot; version=&quot;3.6&quot;&gt;
    &lt;description&gt;Variant effect and annotation&lt;/description&gt;
    &lt;inputs&gt;
        &lt;conditional name=&quot;snpDb&quot;&gt;
            &lt;param name=&quot;genomeSrc&quot; type=&quot;select&quot; label=&quot;Genome source&quot;&gt;
                &lt;option value=&quot;history&quot;&gt;Reference genome from your history&lt;/option&gt;
            &lt;/param&gt;
            &lt;when value=&quot;history&quot;&gt;
                &lt;param format=&quot;snpeffdb&quot; name=&quot;snpeff_db&quot; type=&quot;data&quot; label=&quot;SnpEff Genome Version Data&quot;/&gt;
                &lt;!-- From metadata --&gt;
                &lt;param name=&quot;extra_annotations&quot; type=&quot;select&quot; display=&quot;checkboxes&quot; multiple=&quot;true&quot; label=&quot;Additional Annotations&quot;&gt;
                    &lt;help&gt;These are available for only a few genomes&lt;/help&gt;
                    &lt;options&gt;
                        &lt;filter type=&quot;data_meta&quot; ref=&quot;snpeff_db&quot; key=&quot;annotation&quot; /&gt;
                    &lt;/options&gt;
                &lt;/param&gt;
                &lt;param name=&quot;regulation&quot; type=&quot;select&quot; display=&quot;checkboxes&quot; multiple=&quot;true&quot; label=&quot;Non-coding and regulatory Annotation&quot;&gt;
                    &lt;help&gt;These are available for only a few genomes&lt;/help&gt;
                    &lt;options&gt;
                        &lt;filter type=&quot;data_meta&quot; ref=&quot;snpeff_db&quot; key=&quot;regulation&quot; /&gt;
                    &lt;/options&gt;
                &lt;/param&gt;
            &lt;/when&gt;
        &lt;/conditional&gt;
    &lt;/inputs&gt;
&lt;/tool&gt; 
</code></pre><ul><li><strong>Toolshed repositories</strong><ul><li>package_snpeff_3_6 - Installs the SnpEff application as a tool_dependency
<a href="https://testtoolshed.g2.bx.psu.edu/view/jjohnson/package_snpeff%5C_3%5C_6" target="_blank" rel="noopener noreferrer">https://testtoolshed.g2.bx.psu.edu/view/jjohnson/package_snpeff\_3\_6</a></li></ul></li></ul><pre><code>$ find package_snpeff_3_6
package_snpeff_3_6/tool_dependencies.xml
</code></pre><ul><li>snpeff_datatypes - defines custom datatypes
<a href="https://testtoolshed.g2.bx.psu.edu/view/jjohnson/snpeff_datatypes" target="_blank" rel="noopener noreferrer">https://testtoolshed.g2.bx.psu.edu/view/jjohnson/snpeff_datatypes</a></li></ul><pre><code>$ find snpeff_datatypes
snpeff_datatypes/datatypes_conf.xml
snpeff_datatypes/lib/galaxy/datatypes/snpeff.py
</code></pre><ul><li>snpeff - Galaxy user tools
<a href="https://testtoolshed.g2.bx.psu.edu/view/jjohnson/snpeff" target="_blank" rel="noopener noreferrer">https://testtoolshed.g2.bx.psu.edu/view/jjohnson/snpeff</a></li></ul><pre><code>$ find snpeff
snpeff/readme.rst
snpeff/repository_dependencies.xml
snpeff/snpEff.xml
snpeff/snpEff_download.xml
snpeff/snpEff_macros.xml
snpeff/test-data/vcf_homhet.vcf
snpeff/tool-data/snpeff_annotations.loc.sample
snpeff/tool-data/snpeff_databases.loc.sample
snpeff/tool-data/snpeff_genomedb.loc.sample
snpeff/tool-data/snpeff_regulationdb.loc.sample
snpeff/tool_data_table_conf.xml.sample
snpeff/tool_dependencies.xml
</code></pre><ul><li>data_manager_snpeff - manages SnpEff reference data
<a href="https://testtoolshed.g2.bx.psu.edu/view/jjohnson/data_manager_snpeff" target="_blank" rel="noopener noreferrer">https://testtoolshed.g2.bx.psu.edu/view/jjohnson/data_manager_snpeff</a></li></ul><pre><code>$ find data_manager_snpeff
data_manager_snpeff/data_manager/data_manager_snpEff_databases.py
data_manager_snpeff/data_manager/data_manager_snpEff_databases.xml
data_manager_snpeff/data_manager/data_manager_snpEff_download.py
data_manager_snpeff/data_manager/data_manager_snpEff_download.xml
data_manager_snpeff/data_manager_conf.xml
data_manager_snpeff/repository_dependencies.xml
data_manager_snpeff/tool-data/snpeff_annotations.loc.sample
data_manager_snpeff/tool-data/snpeff_databases.loc.sample
data_manager_snpeff/tool-data/snpeff_genomedb.loc.sample
data_manager_snpeff/tool-data/snpeff_regulationdb.loc.sample
data_manager_snpeff/tool_data_table_conf.xml.sample
data_manager_snpeff/tool_dependencies.xml
</code></pre><p class="markdown" data-v-5377d35c><div class='text-center'>Questions? Contact the [Organizers](/src/events/gcc2014/organizers/index.md).</div></p></div></div></article><footer data-v-4b3455de data-v-5377d35c><!----></footer><footer class="static-footer markdown"><p>The Galaxy Project is supported in part by NSF, NHGRI, The Huck Institutes of the Life Sciences, The Institute for CyberScience at Penn State, and Johns Hopkins University.</p>
</footer></section></div>
    <script src="/assets/js/app.0690a31c.js" defer></script><script src="/assets/js/page--src--templates--vue-article-vue.d9a0c32e.js" defer></script><script src="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--data-managers--index-md.ea9c133f.js" defer></script>
  </body>
</html>
