<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Configure Your Galaxy Instance as a Custos Client - Galaxy Community Hub</title><meta name="gridsome:hash" content="c32ecfdb33b075b0057598b5b9118f3554a398cf"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="All about Galaxy and its community."><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.7d4a227415c9d9b704d56a079d49a3e1.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.7d4a227415c9d9b704d56a079d49a3e1.png"><link rel="preload" href="/assets/css/0.styles.28333459.css" as="style"><link rel="preload" href="/assets/js/app.f7f9943a.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--article-vue.9c961af0.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.54a07ec7.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.72cfdf23.js"><link rel="prefetch" href="/assets/js/page--src--pages--careers-vue.51f7f627.js"><link rel="prefetch" href="/assets/js/page--src--pages--data-explorer-vue.cda0b563.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--archive-vue.54bd407e.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--cofests--papercuts-vue.d73bf9af.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--cofests-vue.f9ca327e.js"><link rel="prefetch" href="/assets/js/page--src--pages--events--webinars-vue.2b0c4b1f.js"><link rel="prefetch" href="/assets/js/page--src--pages--events-vue.2bc0181e.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.9e6f30c2.js"><link rel="prefetch" href="/assets/js/page--src--pages--news-vue.c55be461.js"><link rel="prefetch" href="/assets/js/page--src--pages--tests-vue.4730afa8.js"><link rel="prefetch" href="/assets/js/page--src--pages--use-vue.8c7d1a05.js"><link rel="prefetch" href="/assets/js/page--src--templates--platform-vue.672f4f9e.js"><link rel="prefetch" href="/assets/js/page--src--templates--vue-article-vue.d03e3b77.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--careers-vue~page--src--pages--use-vue~page--src--templates--article-vue~pa~efade918.71d44943.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--index-md.b120794f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--md--imgtests--imgdir--index-md.8a720dc7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--partials--index-md.88a2cc0b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--imgtests--imgdir--index-md.a7da7426.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--imgtests--index-md.ab7ce26b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--index-md.ac0f0339.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--syntaxtests--index-md.7388aadd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--0-tests--vue-remark--syntaxtests--reldir--index-md.78e6d088.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--capacity-planning--index-md.532d558e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--config--index-md.f596bca3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--config--performance--cluster--legacy--index-md.9900d899.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--datatypes--index-md.37a06167.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--disk-quotas--index-md.99623880.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--faq--index-md.dfcae1f0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--internals--data-model--index-md.f6811d25.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--internals--galaxy-ops--index-md.da494b7d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--ten-simple-steps-galaxy-as-a-service--index-md.f0b31fa8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--tools--tool-config-syntax--index-md.c133b049.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--admin--tools--writing-tests--index-md.d3ed2aee.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--allocation--index-md.88a6f777.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--faq--index-md.6b5ae7d2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--index-md.54b831ad.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--ssh--index-md.c431c940.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloud--jetstream--troubleshooting--index-md.2bbf34e9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--capacity-planning--index-md.8d2c9c03.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--getting-started--index-md.63fe5edc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--aws--index-md.1387a7bc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--building--index-md.ea5bc352.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--capacity-planning--index-md.bdfd10d5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--cluster-types--index-md.83943371.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--customizing--index-md.6b8b3678.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--faq--index-md.12c74d13.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--getting-started--index-md.e3fa7dae.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--getting-started--pre-201703--index-md.9b084a41.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--hadoop--index-md.95f1458a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--ht-condor--index-md.f973feff.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--index-md.37f11743.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--openstack--index-md.f4d0e62a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--services--index-md.e26413ae.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--sharing--index-md.c15fa6cb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--troubleshooting--index-md.953f49c4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--cloudman--userdata--index-md.1116e088.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--future--index-md.ec7dff38.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--index-md.f0bd7fb5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-07-09--index-md.ed1d541b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-07-27--index-md.5a2cbe0c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-09-19--index-md.36fcc10e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2012-11-14--index-md.5155dfcc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-01-16--index-md.e740402b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-03-20--index-md.fa75b1de.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-05-15--index-md.ad74e436.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2013-11-20--index-md.6a1074f1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-02-19--index-md.bdefdea8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-04-16--index-md.ce613da7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-06-18--index-md.9253a34b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-08-20--index-md.8ac977c4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2015-10-15--index-md.3a558b10.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-02-18--index-md.ae82f681.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-04-21--index-md.4cd1f8fc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-06-16--index-md.7b1572c5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--2016-08-18--index-md.5b3383d1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--index-md.da754856.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--meetups--webinar-tech--index-md.c5c416a6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--2012--index-md.4eddb972.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--2014--index-md.5d7b4578.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--community--galaxy-admins--surveys--index-md.afac4bb5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--data--index-md.f2ba0502.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--datafiles--index-md.4dfd4db7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--architecture--index-md.8035154b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--bitbucket--index-md.7cc7d8d1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--css--index-md.710209d9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--getting-started--index-md.930b3a22.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--index-md.1cbec221.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--jsa--index-md.134e6a35.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--mercurial--index-md.9026901a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--develop--security-tool-tips--index-md.2d704e67.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--galaxy-project--index-md.230e8088.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--index-md.e5883590.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--papers--index-md.db9c7f1b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--posters--index-md.04432e3d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--presentations--index-md.92923a05.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--documents--videos--index-md.f680b009.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--advanced-session--index-md.4227a5ac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--basics-session--index-md.08c5b284.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--index-md.9844ef78.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--logistics--index-md.6f6b160a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--publicity--index-md.dfbc1a41.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--admin-training-2016--registration--index-md.5232161d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--abstracts--index-md.697fe169.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--index-md.ca51927e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--key-dates--index-md.606cfcac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--lightning-talks--index-md.6a60add5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--logistics--index-md.06ca864d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--organizing-committee--index-md.0500ed90.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--photos--index-md.ab68ac2c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--automation-strategies--index-md.2d8a9043.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--bioinformatics-training--index-md.43a55fdc.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--end-users--index-md.5f46cd2a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--breakouts--workflows-and-api--index-md.07da71b4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--program--index-md.cb8d0657.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--promotion--index-md.4eb64cde.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--register--index-md.49c36527.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--sponsorships--index-md.db0f3791.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2012--training-day--index-md.c8f12515.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--index-md.3c67479f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--posters--index-md.728aa734.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--abstracts--talks--index-md.7f93c9db.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--clinical-use-hpc-file-systems--index-md.030a88bd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-admins--index-md.f12f7b4d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-blast--index-md.59e8820f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--galaxy-professionals--index-md.dcb27276.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--index-md.cfaaca20.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--proteomics--index-md.abba045c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--public-galaxy-servers--index-md.bd34ea15.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--bof--tool-developers--index-md.a5a0a8b6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--index-md.df6174ac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--key-dates--index-md.f7630162.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--lightning--index-md.0dfb5a95.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--logistics--index-md.4759076c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--organizers--index-md.6fc11b96.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--photos--index-md.aef50972.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--program--index-md.05c5d87a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--promotion--index-md.e34ad376.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--register--index-md.8ea1785f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--sponsorships--index-md.3cde86d8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--advance-tool-data--index-md.2210b6c4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--api--index-md.57c06e35.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--index-md.4cd32016.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--intro-tool-data--index-md.75a7abbd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2013--training-day--vms--index-md.1c86a58b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--index-md.9abee1c6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--posters--index-md.810cd33b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--abstracts--talks--index-md.c9751906.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--branch-release-merge--index-md.f6ed714e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-admins--index-md.5f9fcb01.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-end-users--index-md.00b4cd3b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--galaxy-training-network--index-md.a843f5f7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--heterogeneous--index-md.8313575f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--index-md.f878a9f6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--bofs--using-galaxy-ui-overview--index-md.5b284474.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--hackathon--index-md.20172bcf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--index-md.9ea6d61e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--key-dates--index-md.bac2859e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--lightning--index-md.96c8f509.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--logistics--index-md.c1318807.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--organizers--index-md.b183376c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--photos--index-md.e0b61b7a.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--program--index-md.a93fc58b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--promotion--index-md.df1d2b77.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--register--index-md.54adaeb3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--sponsor-exhibit--index-md.64ef93be.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--admin-walkthrough--index-md.c82adb0e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--api--index-md.a936c5d1.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--data-managers--index-md.348024f8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--index-md.030f1ebd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2014--training-day--vms--index-md.507d7d15.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--cwl--index-md.a8a9aa76.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--data-management-challenges--index-md.409c72aa.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--data-splitting-and-parallelism--index-md.6332a3a3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--elixir--index-md.982da27f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--extended-workflow--index-md.f2b42ad0.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--fots--index-md.52645a6e.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-admins--index-md.ffda743c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-community-uk--index-md.060ecf60.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-scientists--index-md.ae9e7e59.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--galaxy-training-network--index-md.a412fdd5.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--bofs--index-md.22f27d14.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--data-hack-roundup--index-md.60bc6484.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--header--index-md.dbba4e7d.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2015--index-md.2f85a581.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2016--bofs--index-md.5a3032e2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--abstracts--index-md.57e795e8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--childcare--index-md.096b34d2.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--cofest--index-md.8b0a9b93.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--conduct--index-md.8e51f30c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--faq--index-md.0f0f1b46.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--index-md.641b44a6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--organizers--index-md.787e0ccf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--promotion--index-md.e6e58e52.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--registration--index-md.52f1b4f7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--sponsors--index-md.ef140359.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--training--index-md.ee0d3a7c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gcc-2019--venue--index-md.30256085.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--abstracts--index-md.137e7bc6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--childcare--index-md.84f642d3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--code-of-conduct--index-md.2789988f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--collaboration--index-md.a48ddf3b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--faq--index-md.4fd33733.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--icebreaker--index-md.ce20a106.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--index-md.9c798d19.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--keynotes--index-md.080e361c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--organizers--index-md.a3b956fb.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--promotion--index-md.de985f84.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--register--index-md.05d6bc90.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--sponsors--index-md.4c398a30.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--training--index-md.ce0ef35c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--gccbosc-2018--venue--index-md.4a3ddfec.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--germany-2014--index-md.d56576b3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--germany-2016--index-md.9f18f6ac.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--sg-2014--index-md.6fd15769.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--sg-2016--index-md.c0b34aae.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2014--index-md.ba91d0c6.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2014--trainingday--index-md.e89c50c3.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--events--switzerland-2016--index-md.6afda26b.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--example--vue-remark--index-md.c96a8cd8.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--faqs--index-md.3bba7da9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--galaxy-updates--2013-06--index-md.a5232112.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--galaxy-updates--2013-07--index-md.19df6105.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--icons--index-md.ff92f6d4.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--index-md.246f22cd.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--logos--index-md.5a8a4cdf.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--news-graphics--index-md.844f04b7.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--photos--index-md.7a556820.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--images--screenshots--index-md.290a5433.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--basic-editing--index-md.467e2afe.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--basic-editing--workflow-editor-unannotated--index-md.bc93cd9f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--extract--index-md.940bc220.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--tool-panel--index-md.7ac3e984.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--advanced-workflow--variables--index-md.a3612f7c.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--faq--index-md.599e559f.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--galaxy-pages--index-md.51df5ee9.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--learn--interval-operations--index-md.71022235.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--main--faq--index-md.f6a425fa.js"><link rel="prefetch" href="/assets/js/vue-remark--build--content-vue--tools--requirements--index-md.1aef8fd3.js"><link rel="stylesheet" href="/assets/css/0.styles.28333459.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="layout" data-v-3a128d75><header id="masthead"><nav class="container navbar navbar-expand-lg navbar-dark justify-content-center"><a href="/" class="navbar-brand active"><img id="masthead-logo" src="/images/galaxy_logo_hub_white.svg" alt="Galaxy Community Hub" height="30"></a><div id="navbarToggleWrapper" class="collapse navbar-collapse mx-auto"><ul class="navbar-nav"><li class="nav-item"><a href="/use/" role="button" aria-expanded="false" class="nav-link dropdown">
          Use
        </a></li><li class="nav-item dropdown"><a href="#" data-toggle="dropdown" role="button" aria-expanded="false" class="nav-link dropdown-toggle">
          Learn
          <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/learn/" class="dropdown-item">How to use Galaxy</a></li><li><a href="https://training.galaxyproject.org/" class="dropdown-item">Teach with Galaxy</a></li></ul></li><li class="nav-item dropdown"><a href="#" data-toggle="dropdown" role="button" class="nav-link dropdown-toggle">
          Community
          <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/community/" class="dropdown-item">About</a></li><li><a href="/events/" class="dropdown-item">Events</a></li><li><a href="/news/" class="dropdown-item">News</a></li><li><a href="/blog/" class="dropdown-item">Blog</a></li><li><a href="/publication-library/" class="dropdown-item">Publications</a></li><li><a href="/galaxy-project/statistics/" class="dropdown-item">Stats</a></li><li><a href="/careers/" class="dropdown-item">Careers</a></li></ul></li><li class="nav-item dropdown"><a href="#" data-toggle="dropdown" role="button" class="nav-link dropdown-toggle">
          Deploy &amp; Develop
          <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/admin/get-galaxy/" class="dropdown-item">Install Galaxy</a></li><li><a href="/admin/" class="dropdown-item">Server administration</a></li><li><a href="/tools/" class="dropdown-item">Tools</a></li><li><a href="/develop/api/" class="dropdown-item">Working with the API</a></li><li><a href="/develop/" class="dropdown-item">Contributing</a></li><li><a href="/docs/" class="dropdown-item">Code documentation</a></li></ul></li><li class="nav-item dropdown"><a href="#" data-toggle="dropdown" role="button" class="nav-link dropdown-toggle">
          Support
          <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/support/" class="dropdown-item">FAQ</a></li><li><a href="https://help.galaxyproject.org/" class="dropdown-item">Galaxy Help Forum</a></li></ul></li><li class="nav-item"><a href="/jxtx/" role="button" aria-expanded="false" class="nav-link dropdown">
          @jxtx
        </a></li></ul></div></nav></header><section id="maincontainer" class="container"><a href="/" class="link active" data-v-3a128d75> ← Home</a><header data-v-3a128d75><!----><h1 class="title" data-v-3a128d75>Configure Your Galaxy Instance as a Custos Client</h1><div class="metadata" data-v-3a128d75><!----><!----><!----></div></header><div class="content markdown" data-v-3a128d75><p><em>This page explains how to configure this feature as an administrator,
for user-specific docs, please refer to the <a href="/src/authnz/use/oidc/idps/custos/index.md">Use page</a>.</em></p>
<h1 id="about-custos"><a href="#about-custos" aria-hidden="true"><span class="icon icon-link"></span></a>About Custos</h1>
<p><a href="https://airavata.apache.org/custos/" target="_blank" rel="noopener noreferrer">Custos</a> is an <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=1840003&#x26;HistoricalAwards=false" target="_blank" rel="noopener noreferrer">NSF-funded
project</a>,
backed by open source software that provides science gateways such as Galaxy
with single sign-on, group management, and management of secrets such as access
keys and OAuth2 access tokens. With Galaxy, Custos allows users to login to
Galaxy without having to (explicitly) create a Galaxy user account while being
able to login choosing from more than 3,000 available Identity Providers
(IdPs). Many of the academic institutions from around the world are supported
allowing users to link their institutional identities with a Galaxy account.</p>
<h1 id="configure-galaxy-to-work-with-custos"><a href="#configure-galaxy-to-work-with-custos" aria-hidden="true"><span class="icon icon-link"></span></a>Configure Galaxy to work with Custos</h1>
<p>To set up a Galaxy instance to work with Custos, it is necessary to enable
OIDC-based login for Galaxy. To do this, follow the instructions for enabling
<a href="/src/authnz/config/oidc/index.md#enable-oidc-based-login">OIDC-based login</a>.
Next, it is necessary to register your Galaxy instance as a client of Custos.
The following section demonstrates how to do that. Finally, you need to
configure Custos as an IdP provider in Galaxy by editing
<code>config/oidc_backends_config.xml</code>. An example file is provided below.</p>
<h2 id="1-register-your-galaxy-instance-with-custos"><a href="#1-register-your-galaxy-instance-with-custos" aria-hidden="true"><span class="icon icon-link"></span></a>1. Register your Galaxy instance with Custos</h2>
<p>Development of a portal for registering new Custos clients is currently in
progress. In the meantime, you can register a client directly through a REST
API. This can be accomplished using a platform such as
<a href="https://www.postman.com/" target="_blank" rel="noopener noreferrer">Postman</a>.</p>
<p>To register a new Galaxy client with Custos, make a POST request with the
following body, replacing information with your relevant data:</p>
<ul>
<li>URI : <a href="https://custos.scigap.org:/apiserver/tenant-management/v1.0.0/oauth2/tenant" target="_blank" rel="noopener noreferrer">https://custos.scigap.org:/apiserver/tenant-management/v1.0.0/oauth2/tenant</a></li>
<li>Method : POST</li>
<li>Body :
<code>client_name:John Doe University requester_email:johndoe@university.edu admin_username:johndoe admin_first_name:John admin_last_name:Doe admin_email:johndoe@university.edu contacts:[1234567890] redirect_uris:[https://jduniversity.edu/galaxy/authnz/custos/callback] domain:jduniversity.edu admin_password:1234 client_uri:jduniversity.edu scope:email profile openId org.cilogon.userinfo application_type:web</code></li>
</ul>
<p>For example:
<img src="/src/authnz/config/oidc/idps/custos/Custos-post-request.png" alt="image"></p>
<ol>
<li>The <em>Domain</em> should be the main address that users will use to get to your
instance of Galaxy.</li>
<li>
<p>For the <em>Redirect URIs</em> field, you need to enter
your instance’s OIDC redirect URI, which is in the following template:</p>
<pre><code>&#x3C;Host URI>/authnz/custos/callback
</code></pre>
<p>For instance:</p>
<pre><code>https://university.edu/galaxy/authnz/custos/callback
</code></pre>
<p>See <a href="/src/authnz/config/oidc/index.md#redirect-uri">this section</a> for details.</p>
</li>
<li>After making the POST request, you should get a response containing your
<code>Client ID</code> and <code>Client Secret</code>; note this info! You will need it for the
Galaxy configuration.
<img src="/src/authnz/config/oidc/idps/custos/Custos-post-request-response.png" alt="image"></li>
<li>Finally, to have your client activated, send an email to
<a href="mailto:custos@airavata.apache.org" target="_blank" rel="noopener noreferrer">custos@airavata.apache.org</a> with your
<code>Client ID</code>.</li>
</ol>
<h2 id="2-configure-galaxy"><a href="#2-configure-galaxy" aria-hidden="true"><span class="icon icon-link"></span></a>2. Configure Galaxy</h2>
<p>Once we have an activated client ID and client secret from Custos, we need to
configure Galaxy. As a first step, make sure to <a href="/src/authnz/config/oidc/#enable-oidc-based-login">enable OIDC
login</a>. After setting up
<code>config/oidc_config.xml</code>, which is common to multiple IdPs, you need to
configure <code>config/oidc_backends_config.xml</code>. The following is an example of a
configuration. Note that the <strong>redirect_uri</strong> must match what as included as
the callback URL during your Custos client registration. Also note that
<code>localhost</code> and <code>127.0.0.1</code> are not the same; if you register <code>127.0.0.1</code> and
access your Galaxy via <code>localhost</code>, the redirect will not work. The client ID
and client secret are unique to your installation of Galaxy and were obtained
during client registration.</p>
<pre><code class="language-xml">&#x3C;?xml version="1.0"?>
&#x3C;OIDC>
    &#x3C;provider name="Custos">
        &#x3C;url>https://custos.scigap.org/apiserver/identity-management/v1.0.0/&#x3C;/url>
        &#x3C;client_id>custos-xmn3092m8tkh7546hv76-10000001&#x3C;/client_id>
        &#x3C;client_secret>15Ur37stVGwvONALNjjq89ezRXxoKuunFzvEeTDY&#x3C;/client_secret>
        &#x3C;redirect_uri>http://jduniversity.edu/galaxy/authnz/custos/callback&#x3C;/redirect_uri>
    &#x3C;/provider>
&#x3C;/OIDC>
</code></pre>
<p>The above configuration includes the <a href="/src/authnz/config/oidc/#oidc-configuration-options-for-identity-providers">default OIDC configuration
tags</a>
as we as the required <code>url</code> tag.</p>
<h3 id="url"><a href="#url" aria-hidden="true"><span class="icon icon-link"></span></a>URL</h3>
<p>The <code>url</code> tag is a required Custos configuration. It provides a unique url
for the Custos service. The hosted public Custos service is available at the
URL included in the sample configuration above.</p>
<h3 id="ca-bundle"><a href="#ca-bundle" aria-hidden="true"><span class="icon icon-link"></span></a>CA bundle</h3>
<p>The <code>ca_bundle</code> tag is optional. The value for this tag is an absolute path
to a trusted CA certificate file or directory to use when verifying Custos
authorization server. If this option is used, it is also necessary to set the
value of <code>VERIFY_SSL</code> to <code>True</code> in <code>oidc_config.xml</code>.</p>
<h3 id="well-known-oidc-config-uri"><a href="#well-known-oidc-config-uri" aria-hidden="true"><span class="icon icon-link"></span></a>Well-known OIDC config URI</h3>
<p>The <code>well_known_oidc_config_uri</code> tag is optional and allows you to override the
default Custos well-known URL to point to a different instance.</p>
<h3 id="enable-idp-logout"><a href="#enable-idp-logout" aria-hidden="true"><span class="icon icon-link"></span></a>Enable IdP logout</h3>
<p>The <code>enable_idp_logout</code> is an optional boolean tag. If set, Galaxy will log out
the user from the IdP (eg, if a user used Google so authenticate, the user will
be logged out of Google as well as Galaxy). For this option to work, the
<code>redirect_url</code> during the <a href="#1-register-your-galaxy-instance-with-custos">client registration
above</a> needs to specify a wild
card instead of the specific path (eg, <code>https://jduniversity.edu/galaxy/*</code>).</p>
<h2 id="3-restart-galaxy"><a href="#3-restart-galaxy" aria-hidden="true"><span class="icon icon-link"></span></a>3. (re)Start Galaxy</h2>
<p>Having set this configuration, (re)start Galaxy and the <code>Sign in with Custos</code>
feature will become available. The login page should look as follows:</p>
<div class="center">
    <img src="/src/authnz/config/oidc/idps/custos/custos-login-button2.png"
     alt="User login with Custos enabled" width="60%" />
</div>
<p>For the end-user documentation of how to use the Custos login now that it has
been configured, take a look at the
<a href="/src/authnz/use/oidc/idps/custos/index.md">end-user</a> page.</p>
</div><footer class="static-footer markdown"><p>The Galaxy Project is supported in part by NSF, NHGRI, The Huck Institutes of the Life Sciences, The Institute for CyberScience at Penn State, and Johns Hopkins University.</p>
</footer></section></div>
    <script>window.__INITIAL_STATE__={"data":{"article":{"id":"70fa8d2713d0702a543b86186ff92ec3","title":"Configure Your Galaxy Instance as a Custos Client","tease":"","image":"","images":{},"category":null,"contact":"","date":null,"content":"\u003Cp\u003E\u003Cem\u003EThis page explains how to configure this feature as an administrator,\nfor user-specific docs, please refer to the \u003Ca href=\"\u002Fsrc\u002Fauthnz\u002Fuse\u002Foidc\u002Fidps\u002Fcustos\u002Findex.md\"\u003EUse page\u003C\u002Fa\u003E.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Ch1 id=\"about-custos\"\u003E\u003Ca href=\"#about-custos\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EAbout Custos\u003C\u002Fh1\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fairavata.apache.org\u002Fcustos\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ECustos\u003C\u002Fa\u003E is an \u003Ca href=\"https:\u002F\u002Fwww.nsf.gov\u002Fawardsearch\u002FshowAward?AWD_ID=1840003&#x26;HistoricalAwards=false\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ENSF-funded\nproject\u003C\u002Fa\u003E,\nbacked by open source software that provides science gateways such as Galaxy\nwith single sign-on, group management, and management of secrets such as access\nkeys and OAuth2 access tokens. With Galaxy, Custos allows users to login to\nGalaxy without having to (explicitly) create a Galaxy user account while being\nable to login choosing from more than 3,000 available Identity Providers\n(IdPs). Many of the academic institutions from around the world are supported\nallowing users to link their institutional identities with a Galaxy account.\u003C\u002Fp\u003E\n\u003Ch1 id=\"configure-galaxy-to-work-with-custos\"\u003E\u003Ca href=\"#configure-galaxy-to-work-with-custos\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EConfigure Galaxy to work with Custos\u003C\u002Fh1\u003E\n\u003Cp\u003ETo set up a Galaxy instance to work with Custos, it is necessary to enable\nOIDC-based login for Galaxy. To do this, follow the instructions for enabling\n\u003Ca href=\"\u002Fsrc\u002Fauthnz\u002Fconfig\u002Foidc\u002Findex.md#enable-oidc-based-login\"\u003EOIDC-based login\u003C\u002Fa\u003E.\nNext, it is necessary to register your Galaxy instance as a client of Custos.\nThe following section demonstrates how to do that. Finally, you need to\nconfigure Custos as an IdP provider in Galaxy by editing\n\u003Ccode\u003Econfig\u002Foidc_backends_config.xml\u003C\u002Fcode\u003E. An example file is provided below.\u003C\u002Fp\u003E\n\u003Ch2 id=\"1-register-your-galaxy-instance-with-custos\"\u003E\u003Ca href=\"#1-register-your-galaxy-instance-with-custos\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E1. Register your Galaxy instance with Custos\u003C\u002Fh2\u003E\n\u003Cp\u003EDevelopment of a portal for registering new Custos clients is currently in\nprogress. In the meantime, you can register a client directly through a REST\nAPI. This can be accomplished using a platform such as\n\u003Ca href=\"https:\u002F\u002Fwww.postman.com\u002F\" target=\"_blank\" rel=\"noopener noreferrer\"\u003EPostman\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ETo register a new Galaxy client with Custos, make a POST request with the\nfollowing body, replacing information with your relevant data:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EURI : \u003Ca href=\"https:\u002F\u002Fcustos.scigap.org:\u002Fapiserver\u002Ftenant-management\u002Fv1.0.0\u002Foauth2\u002Ftenant\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ehttps:\u002F\u002Fcustos.scigap.org:\u002Fapiserver\u002Ftenant-management\u002Fv1.0.0\u002Foauth2\u002Ftenant\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EMethod : POST\u003C\u002Fli\u003E\n\u003Cli\u003EBody :\n\u003Ccode\u003Eclient_name:John Doe University requester_email:johndoe@university.edu admin_username:johndoe admin_first_name:John admin_last_name:Doe admin_email:johndoe@university.edu contacts:[1234567890] redirect_uris:[https:\u002F\u002Fjduniversity.edu\u002Fgalaxy\u002Fauthnz\u002Fcustos\u002Fcallback] domain:jduniversity.edu admin_password:1234 client_uri:jduniversity.edu scope:email profile openId org.cilogon.userinfo application_type:web\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EFor example:\n\u003Cimg src=\"\u002Fsrc\u002Fauthnz\u002Fconfig\u002Foidc\u002Fidps\u002Fcustos\u002FCustos-post-request.png\" alt=\"image\"\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EThe \u003Cem\u003EDomain\u003C\u002Fem\u003E should be the main address that users will use to get to your\ninstance of Galaxy.\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EFor the \u003Cem\u003ERedirect URIs\u003C\u002Fem\u003E field, you need to enter\nyour instance’s OIDC redirect URI, which is in the following template:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E&#x3C;Host URI\u003E\u002Fauthnz\u002Fcustos\u002Fcallback\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EFor instance:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003Ehttps:\u002F\u002Funiversity.edu\u002Fgalaxy\u002Fauthnz\u002Fcustos\u002Fcallback\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ESee \u003Ca href=\"\u002Fsrc\u002Fauthnz\u002Fconfig\u002Foidc\u002Findex.md#redirect-uri\"\u003Ethis section\u003C\u002Fa\u003E for details.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EAfter making the POST request, you should get a response containing your\n\u003Ccode\u003EClient ID\u003C\u002Fcode\u003E and \u003Ccode\u003EClient Secret\u003C\u002Fcode\u003E; note this info! You will need it for the\nGalaxy configuration.\n\u003Cimg src=\"\u002Fsrc\u002Fauthnz\u002Fconfig\u002Foidc\u002Fidps\u002Fcustos\u002FCustos-post-request-response.png\" alt=\"image\"\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EFinally, to have your client activated, send an email to\n\u003Ca href=\"mailto:custos@airavata.apache.org\" target=\"_blank\" rel=\"noopener noreferrer\"\u003Ecustos@airavata.apache.org\u003C\u002Fa\u003E with your\n\u003Ccode\u003EClient ID\u003C\u002Fcode\u003E.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch2 id=\"2-configure-galaxy\"\u003E\u003Ca href=\"#2-configure-galaxy\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E2. Configure Galaxy\u003C\u002Fh2\u003E\n\u003Cp\u003EOnce we have an activated client ID and client secret from Custos, we need to\nconfigure Galaxy. As a first step, make sure to \u003Ca href=\"\u002Fsrc\u002Fauthnz\u002Fconfig\u002Foidc\u002F#enable-oidc-based-login\"\u003Eenable OIDC\nlogin\u003C\u002Fa\u003E. After setting up\n\u003Ccode\u003Econfig\u002Foidc_config.xml\u003C\u002Fcode\u003E, which is common to multiple IdPs, you need to\nconfigure \u003Ccode\u003Econfig\u002Foidc_backends_config.xml\u003C\u002Fcode\u003E. The following is an example of a\nconfiguration. Note that the \u003Cstrong\u003Eredirect_uri\u003C\u002Fstrong\u003E must match what as included as\nthe callback URL during your Custos client registration. Also note that\n\u003Ccode\u003Elocalhost\u003C\u002Fcode\u003E and \u003Ccode\u003E127.0.0.1\u003C\u002Fcode\u003E are not the same; if you register \u003Ccode\u003E127.0.0.1\u003C\u002Fcode\u003E and\naccess your Galaxy via \u003Ccode\u003Elocalhost\u003C\u002Fcode\u003E, the redirect will not work. The client ID\nand client secret are unique to your installation of Galaxy and were obtained\nduring client registration.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-xml\"\u003E&#x3C;?xml version=\"1.0\"?\u003E\n&#x3C;OIDC\u003E\n    &#x3C;provider name=\"Custos\"\u003E\n        &#x3C;url\u003Ehttps:\u002F\u002Fcustos.scigap.org\u002Fapiserver\u002Fidentity-management\u002Fv1.0.0\u002F&#x3C;\u002Furl\u003E\n        &#x3C;client_id\u003Ecustos-xmn3092m8tkh7546hv76-10000001&#x3C;\u002Fclient_id\u003E\n        &#x3C;client_secret\u003E15Ur37stVGwvONALNjjq89ezRXxoKuunFzvEeTDY&#x3C;\u002Fclient_secret\u003E\n        &#x3C;redirect_uri\u003Ehttp:\u002F\u002Fjduniversity.edu\u002Fgalaxy\u002Fauthnz\u002Fcustos\u002Fcallback&#x3C;\u002Fredirect_uri\u003E\n    &#x3C;\u002Fprovider\u003E\n&#x3C;\u002FOIDC\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe above configuration includes the \u003Ca href=\"\u002Fsrc\u002Fauthnz\u002Fconfig\u002Foidc\u002F#oidc-configuration-options-for-identity-providers\"\u003Edefault OIDC configuration\ntags\u003C\u002Fa\u003E\nas we as the required \u003Ccode\u003Eurl\u003C\u002Fcode\u003E tag.\u003C\u002Fp\u003E\n\u003Ch3 id=\"url\"\u003E\u003Ca href=\"#url\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EURL\u003C\u002Fh3\u003E\n\u003Cp\u003EThe \u003Ccode\u003Eurl\u003C\u002Fcode\u003E tag is a required Custos configuration. It provides a unique url\nfor the Custos service. The hosted public Custos service is available at the\nURL included in the sample configuration above.\u003C\u002Fp\u003E\n\u003Ch3 id=\"ca-bundle\"\u003E\u003Ca href=\"#ca-bundle\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ECA bundle\u003C\u002Fh3\u003E\n\u003Cp\u003EThe \u003Ccode\u003Eca_bundle\u003C\u002Fcode\u003E tag is optional. The value for this tag is an absolute path\nto a trusted CA certificate file or directory to use when verifying Custos\nauthorization server. If this option is used, it is also necessary to set the\nvalue of \u003Ccode\u003EVERIFY_SSL\u003C\u002Fcode\u003E to \u003Ccode\u003ETrue\u003C\u002Fcode\u003E in \u003Ccode\u003Eoidc_config.xml\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"well-known-oidc-config-uri\"\u003E\u003Ca href=\"#well-known-oidc-config-uri\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EWell-known OIDC config URI\u003C\u002Fh3\u003E\n\u003Cp\u003EThe \u003Ccode\u003Ewell_known_oidc_config_uri\u003C\u002Fcode\u003E tag is optional and allows you to override the\ndefault Custos well-known URL to point to a different instance.\u003C\u002Fp\u003E\n\u003Ch3 id=\"enable-idp-logout\"\u003E\u003Ca href=\"#enable-idp-logout\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EEnable IdP logout\u003C\u002Fh3\u003E\n\u003Cp\u003EThe \u003Ccode\u003Eenable_idp_logout\u003C\u002Fcode\u003E is an optional boolean tag. If set, Galaxy will log out\nthe user from the IdP (eg, if a user used Google so authenticate, the user will\nbe logged out of Google as well as Galaxy). For this option to work, the\n\u003Ccode\u003Eredirect_url\u003C\u002Fcode\u003E during the \u003Ca href=\"#1-register-your-galaxy-instance-with-custos\"\u003Eclient registration\nabove\u003C\u002Fa\u003E needs to specify a wild\ncard instead of the specific path (eg, \u003Ccode\u003Ehttps:\u002F\u002Fjduniversity.edu\u002Fgalaxy\u002F*\u003C\u002Fcode\u003E).\u003C\u002Fp\u003E\n\u003Ch2 id=\"3-restart-galaxy\"\u003E\u003Ca href=\"#3-restart-galaxy\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E3. (re)Start Galaxy\u003C\u002Fh2\u003E\n\u003Cp\u003EHaving set this configuration, (re)start Galaxy and the \u003Ccode\u003ESign in with Custos\u003C\u002Fcode\u003E\nfeature will become available. The login page should look as follows:\u003C\u002Fp\u003E\n\u003Cdiv class=\"center\"\u003E\n    \u003Cimg src=\"\u002Fsrc\u002Fauthnz\u002Fconfig\u002Foidc\u002Fidps\u002Fcustos\u002Fcustos-login-button2.png\"\n     alt=\"User login with Custos enabled\" width=\"60%\" \u002F\u003E\n\u003C\u002Fdiv\u003E\n\u003Cp\u003EFor the end-user documentation of how to use the Custos login now that it has\nbeen configured, take a look at the\n\u003Ca href=\"\u002Fsrc\u002Fauthnz\u002Fuse\u002Foidc\u002Fidps\u002Fcustos\u002Findex.md\"\u003Eend-user\u003C\u002Fa\u003E page.\u003C\u002Fp\u003E\n"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.f7f9943a.js" defer></script><script src="/assets/js/page--src--templates--article-vue.9c961af0.js" defer></script>
  </body>
</html>
