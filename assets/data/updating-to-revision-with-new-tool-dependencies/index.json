{"hash":"c32ecfdb33b075b0057598b5b9118f3554a398cf","data":{"article":{"id":"14e3665d38b37f192e907fc16be810fe","title":"","tease":"","image":"","images":{},"category":null,"contact":"","date":null,"content":"<div class='center'> <a href='http://toolshed.g2.bx.psu.edu'><img src=\"/src/images/logos/ToolShed.jpg\" alt=\"Galaxy Main Tool Shed\" height=\"174\" /></a> </div>\n<h1 id=\"updating-a-previously-installed-repository-to-a-revision-that-includes-tool-dependency-installation-information\"><a href=\"#updating-a-previously-installed-repository-to-a-revision-that-includes-tool-dependency-installation-information\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Updating a previously installed repository to a revision that includes tool dependency installation information</h1>\n<p>Let's assume that you installed the Emboss 5.0.0 tools using the migration process, specifically revision <strong>1:7334f6d0ac17</strong> of the emboss_5 repository from the main Galaxy Tool Shed.  If you look at the emboss_5 repository, you notices that it has been updated to revision <strong>2:a52e6cbbb469</strong>.  This revision added the following <strong>tool_dependencies.xml</strong> file to the repository.</p>\n<pre><code>&#x3C;?xml version=\"1.0\"?>\n&#x3C;tool_dependency>\n    &#x3C;package name=\"emboss\" version=\"5.0.0\">\n        &#x3C;install version=\"1.0\">\n            &#x3C;actions>\n                &#x3C;action type=\"download_by_url\">ftp://emboss.open-bio.org/pub/EMBOSS/old/5.0.0/EMBOSS-5.0.0.tar.gz&#x3C;/action>\n                &#x3C;action type=\"shell_command\">./configure --without-x --prefix=$INSTALL_DIR&#x3C;/action>\n                &#x3C;action type=\"shell_command\">make&#x3C;/action>\n                &#x3C;action type=\"shell_command\">make install&#x3C;/action>\n            &#x3C;/actions>\n            &#x3C;actions>\n                &#x3C;action type=\"download_by_url\">ftp://emboss.open-bio.org/pub/EMBOSS/old/5.0.0/PHYLIP-3.6b.tar.gz&#x3C;/action>\n                &#x3C;action type=\"shell_command\">./configure --without-x --prefix=$INSTALL_DIR&#x3C;/action>\n                &#x3C;action type=\"shell_command\">make&#x3C;/action>\n                &#x3C;action type=\"shell_command\">make install&#x3C;/action>\n            &#x3C;/actions>\n        &#x3C;/install>\n        &#x3C;readme>\n            These links provide information for building the Emboss package in most environments.\n            System requirementshttp://emboss.sourceforge.net/download/#RequirementsPlatform-dependent noteshttp://emboss.sourceforge.net/download/#Platforms\n        &#x3C;/readme>\n    &#x3C;/package>\n&#x3C;/tool_dependency>\n</code></pre>\n<p>If you have the <strong>enable_tool_shed_check = True</strong> setting defined in your <strong>universe_wsgi.ini</strong> file and the defined time interval passes or you stop and start your Galaxy server, then clicking the <strong>Manage installed Tool Shed repositories</strong> link on the <strong>Admin</strong> menu will display a page like the following (ignore the change set revision hash tags - I'm using a test environment here).  Notice that the installed <strong>emboss_5</strong> repository is highlighted in yellow since there are updates available from the Tool Shed.  We can use the pop-up menu to retrieve the updates from the Tool Shed.</p>\n<p><img src=\"/src/updating-to-revision-with-new-tool-dependencies/emboss_5_updates.png\"></p>\n<p>Updating the installed emboss_5 repository to the revision that includes the <strong>tool_dependencies.xml</strong> file will result in the following message being displayed.</p>\n<p><img src=\"/src/updating-to-revision-with-new-tool-dependencies/emboss_5_updated.png\"></p>\n<p>Clicking the <strong>Repository actions</strong> popup menu will display the following options.  Notice that you now have the option to <strong>Manage tool dependencies</strong>.</p>\n<p><img src=\"/src/updating-to-revision-with-new-tool-dependencies/manage_emboss_dependencies.png\"></p>\n<p>Clicking the <strong>Manage tool dependencies</strong> option displays the following page where you can install the dependency now defined in the repository.</p>\n<p><img src=\"/src/updating-to-revision-with-new-tool-dependencies/emboss_dependencies.png\"></p>\n"}},"context":{}}