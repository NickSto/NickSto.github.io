{"hash":"c32ecfdb33b075b0057598b5b9118f3554a398cf","data":{"article":{"id":"875025342894a267492254f97eaaf979","title":"Development News Brief","tease":"","image":"","images":{},"category":null,"contact":"","date":"20 May 2011","content":"<hr>\n<p><a href=\"http://bitbucket.org/galaxy/galaxy-central/wiki/GetGalaxy\" target=\"_blank\" rel=\"noopener noreferrer\">Get Galaxy!</a></p>\n<p>new: <code>% hg clone http://www.bx.psu.edu/hg/galaxy galaxy-dist</code></p>\n<p>upgrade: <code>% hg pull -u -r 8c11dd28a3cf</code></p>\n<hr>\n<h2 id=\"gcc-2011\"><a href=\"#gcc-2011\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>GCC 2011</h2>\n<p><strong>May 24-26, 2011 Galaxy Community Conference</strong>, Lunteren, The Netherlands.\n<a href=\"http://galaxy.psu.edu/gcc2011/\" target=\"_blank\" rel=\"noopener noreferrer\">http://galaxy.psu.edu/gcc2011/</a></p>\n<hr>\n<h2 id=\"whats-new\"><a href=\"#whats-new\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>What's New</h2>\n<h3 id=\"nbic-galaxy-hackathon-results\"><a href=\"#nbic-galaxy-hackathon-results\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>NBIC Galaxy Hackathon Results</h3>\n<p>Two new features (so far) were created and added to Galaxy from the May conference.</p>\n<h4 id=\"hackaton-tool_confxml-autogeneration\"><a href=\"#hackaton-tool_confxml-autogeneration\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Hackaton: tool_conf.xml Autogeneration</h4>\n<p>Work from the NBIC Galaxy Hackathon by Rob Hooft, Henk van den Toorn,\nand Wil Koetsier which adds new optional tags to tool configuration\nfiles, and a script which uses these tags to automatically generate\ntool_conf.xml.</p>\n<p>The scripts can be found at:</p>\n<ul>\n<li>scripts/build_toolbox.py</li>\n<li>scripts/extract_toolbox_sections.py</li>\n</ul>\n<p>Documentation on the new XML tags and how to use the scripts has not yet\nbeen prepared.</p>\n<h4 id=\"hackathon-tool-tags\"><a href=\"#hackathon-tool-tags\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Hackathon: Tool Tags</h4>\n<p>Work from the NBIC Galaxy Hackathon by Freek de Bruijn, Alex Bossers,\nand Nate Coraor which enables associating tags with tools.  This feature\nrequires 'enable_tool_tags = True' since there are some inefficient\ndatabase operations performed during tool loading to support this\nfeature.</p>\n<p>Tool authors can specify tags directly in tool configuration files with\nthe new optional <tags> tagset:</p>\n<pre><code>  &#x3C;tags>\n    &#x3C;tag>ngs&#x3C;/tag>\n    &#x3C;tag>mapping&#x3C;/tag>\n  &#x3C;/tags>\n</code></pre>\n<p>If used with the tool_conf.xml autogeneration scripts, this will create\n<tool> tags containing a new \"tags\" attribute:</p>\n  <tool file=\"example/example.xml\" tags=\"ngs,mapping\"/>\n<p>Upon startup, Galaxy associates these tags with the tools and presents\nthem in a cloud at the top of the tool menu when unhidden via the tool\npanel's \"Options\" menu.</p>\n<h3 id=\"picard\"><a href=\"#picard\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Picard</h3>\n<p><a href=\"http://picard.sourceforge.net\" target=\"_blank\" rel=\"noopener noreferrer\">http://picard.sourceforge.net</a></p>\n<p>New Galaxy tools wrapping the most commonly used <strong><em>Picard</em></strong> functions related to metrics and repair of mapped short read sequencing.</p>\n<h4 id=\"metrics-include\"><a href=\"#metrics-include\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Metrics include</h4>\n<ul>\n<li><em>BAM</em> index statistics (count of mapped reads by reference chromosome)</li>\n<li>Alignment summary</li>\n<li>Hybrid selection (for targeted data)</li>\n<li>Insert size (for paired reads)</li>\n<li>Library complexity</li>\n</ul>\n<h4 id=\"repair-tools-include\"><a href=\"#repair-tools-include\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Repair tools include</h4>\n<ul>\n<li>Fix mate pair, mark optical/pcr duplicates</li>\n<li>Add or replace read groups</li>\n<li><em>SAM/BAM</em>: replace headers and/or reorder based on a different reference</li>\n</ul>\n<h3 id=\"fastqc\"><a href=\"#fastqc\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>FastQC</h3>\n<p><a href=\"http://www.bioinformatics.bbsrc.ac.uk/projects/fastqc/\" target=\"_blank\" rel=\"noopener noreferrer\">http://www.bioinformatics.bbsrc.ac.uk/projects/fastqc/</a></p>\n<p>New tool wrapper generates a comprehensive and useful QC report.</p>\n<h4 id=\"inputs-and-outputs\"><a href=\"#inputs-and-outputs\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Inputs and Outputs</h4>\n<ul>\n<li>This wrapper will accept any <em>FASTQ</em>, <em>SAM</em>, or <em>BAM</em> file as primary input. It will also take an optional file containing a list of contaminants information, in the form of a tab-delimited file with 2 columns, name and sequence.</li>\n<li>\n<p>The tool produces a single HTML output file that contains all of the results, including the following basic statistics:</p>\n<ul>\n<li>Per base sequence quality</li>\n<li>Per sequence quality scores</li>\n<li>Per base sequence content</li>\n<li>Per base GC content</li>\n<li>Per sequence GC content</li>\n<li>Per base N content</li>\n<li>Sequence Length Distribution</li>\n<li>Sequence Duplication Levels</li>\n<li>Overrepresented sequences</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/src/archive/dev-news-briefs/2011-05-20/2011_05_20_fastqc.png\"></p>\n<h3 id=\"workflows--multiple-datasets\"><a href=\"#workflows--multiple-datasets\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Workflows &#x26; Multiple datasets</h3>\n<p>Workflows can now be run on multiple datasets at the same time.  The run workflow page will now show a new stacked dataset icon.  </p>\n<p><img src=\"/src/archive/dev-news-briefs/2011-05-20/2011_05_20_workflow1.png\"></p>\n<p>Upon clicking that, the selection box changes to a multi-select, and an independent workflow execution will occur for each of these input dataset steps.  The rest of the parameters of the workflow will be identical.  Combining this functionality with the existing \"Send results to a new history\" option will send the results of <em>each</em> workflow execution to a separate history, numbered sequentially \"<name> 1\", \"<name> 2\", etc., where <name> is whatever text you put in the new history name box.</p>\n<p><img src=\"/src/archive/dev-news-briefs/2011-05-20/2011_05_20_workflow2.png\"></p>\n<p>Please note that this new type of \"multiple-input dataset\" step can currently be used only once in any individual workflow.</p>\n<hr>\n<h2 id=\"updated--improved\"><a href=\"#updated--improved\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Updated &#x26; Improved</h2>\n<h3 id=\"current-tools\"><a href=\"#current-tools\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Current Tools</h3>\n<ul>\n<li><em>BAM to SAM</em> tool can now optionally output headers.</li>\n<li>\n<p><em>GFF</em>,<em>GFF3</em>,<em>GTF</em> related</p>\n<ul>\n<li>Gracefully handle parsing errors in GFFReader and accurately compute raw size of <em>GFF</em> features.</li>\n<li>Enable <em>GFF</em> and <em>GFF3</em> attributes to be written in <em>GTF</em> format.</li>\n<li>Make <em>Operate on Genomic Intervals (GOPS)</em> intersect and subtract tools compatible with <em>GFF</em> features rather than <em>GFF</em> lines.</li>\n<li>Enable <em>GFF</em> filter attributes tool to accept arbitrary conditions.</li>\n</ul>\n</li>\n<li>Datasource tools: Remove hard-coded special-case handling of <em>UCSC Table Browser</em> and <em>GBrowse</em> datasource tools; functionality remains, but is now a part of the individual tool's XML configuration files. Auto-detect is now available by providing data_type=auto parameters.</li>\n<li>Make <em>Cufflinks</em>, <em>Cuffcompare</em>, and <em>Cuffdiff</em> wrappers compatible with v1.0.1 (new option implementation pending).</li>\n<li>\n<p><em>BWA</em> wrapper enhancement </p>\n<ul>\n<li>The Galaxy <em>BWA</em> wrappers (for <em>Illumina</em> and for <em>SOLiD</em>) were updated for version 0.5.9 of <em>BWA</em>. Three new options have been added to them: Maximum number of alignments to output in the XA tag for reads paired properly (samse/sampe -n); Maximum number of alignments to output in the XA tag for disconcordant read pairs (excluding singletons) (sampe -N); and Specify the read group (samse/sampe -r).</li>\n<li>\n<p>If read groups are to be specified, the following aspects MUST be set:</p>\n<ul>\n<li>Read group identifier (ID)</li>\n<li>Library name</li>\n<li>Platform/technology used to produce the reads sample</li>\n</ul>\n</li>\n<li>\n<p>And the following can be set:</p>\n<ul>\n<li>Sequencing center that produced the read</li>\n<li>Description</li>\n<li>Date that run was produced</li>\n<li>Flow order</li>\n<li>Array of nucleotide bases that correspond to the key sequence of each read</li>\n<li>Programs used for processing the read group</li>\n<li>Predicted median insert size</li>\n<li>Platform unit</li>\n</ul>\n</li>\n<li>Formerly, when sampse/sampe -n was specified, it would cause <em>BWA</em> to output a format other than SAM. This is no longer the case. The <em>BWA</em> manual can be found at <a href=\"http://bio-bwa.sourceforge.net/bwa.shtml\" target=\"_blank\" rel=\"noopener noreferrer\">http://bio-bwa.sourceforge.net/bwa.shtml</a></li>\n</ul>\n</li>\n<li>\n<p><em>SAM</em> header</p>\n<ul>\n<li>For several wrappers where <em>SAM</em> header suppression was optional (<em>BWA, BFAST, Bowtie, SRMA</em>), the default was changed to NOT suppress, however it is still optional.</li>\n<li>Bam-to-sam now keeps the header in the <em>BAM</em> file. </li>\n</ul>\n</li>\n<li>\n<p>Setting of output <em>dbkey</em></p>\n<ul>\n<li>Outputs for the following now are correctly set to the relevant dbkey (for reference dbkey whether using built-in or one from history): <em>Freebayes, SRMA, Mosaik, BFAST, Bowtie, BWA, sam-to-bam, and bam-to-sam</em>. </li>\n</ul>\n</li>\n</ul>\n<h3 id=\"new-tools\"><a href=\"#new-tools\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>New Tools</h3>\n<ul>\n<li>\n<p><em>GATK</em> </p>\n<ul>\n<li><em>note</em> These tool integrations should be considered alpha. Changes are not necessarily backwards-compatible with workflows or re-run functionality.</li>\n<li><em>Realigner Target Creator</em> </li>\n<li><em>Indel Realigner</em></li>\n<li><em>Count Covariates</em></li>\n<li><em>Table Recalibration</em> </li>\n<li><em>Analyze Covariates</em></li>\n<li><em>Unified Genotyper</em> </li>\n</ul>\n</li>\n<li>Add tool <em>Filter GTF by attribute values list</em>. Tool filters a <em>GTF</em> based on a list of attribute values. The tool is especially useful as a downstream analysis tool for filtering <em>GTF</em> files based on <em>Cuffdiff</em> outputs.</li>\n</ul>\n<h3 id=\"trackster\"><a href=\"#trackster\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Trackster</h3>\n<ul>\n<li>Greatly improve LineTrack performance to fetch optimal amount of data for display.</li>\n<li>Add support for <em>Operate on Genomic Intervals (GOPS)</em> intersect and subtract tool.</li>\n<li>Enable users not logged in to use tools in shared visualizations.</li>\n<li>Add support for static tool select parameters.</li>\n<li>Enable datasets that cannot be indexed to be used as tool inputs.</li>\n<li>Ensure that reads are drawn in squish and pack modes even when view area is large by setting a minimum width of 1px.</li>\n<li>Add histogram mode to feature tracks so that user can generate coverage histogram at any level of data.</li>\n<li>Use user preferences when drawing summary tree.</li>\n<li>Enable a tool to be run on complete dataset or a visible region.</li>\n</ul>\n<h3 id=\"user-interface-ui\"><a href=\"#user-interface-ui\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>User Interface (UI)</h3>\n<ul>\n<li>Show rerun and info buttons in dataset previews for additional states (e.g. running, queued).</li>\n<li>Show details button functional for all tools run within a history, even if currently retired.</li>\n<li>Show inheritance chain for datasets expanded to note if source was another history or a library.</li>\n</ul>\n<h3 id=\"cloudman\"><a href=\"#cloudman\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CloudMan</h3>\n<ul>\n<li>Cloud instance sharing: now share your entire cloud instance deployment (including data, analyses, and/or customizations) with the world or specific users with a click of a button.</li>\n</ul>\n<p><img src=\"/src/archive/dev-news-briefs/2011-05-20/2011_05_20_cloudman1.png\"></p>\n<h3 id=\"source\"><a href=\"#source\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Source</h3>\n<ul>\n<li>\n<p>Reserved/predefined tool template values</p>\n<ul>\n<li>Tool command line templates may make use of certain variables</li>\n</ul>\n</li>\n</ul>\n<p>pre-defined by the Galaxy framework.  Some of these already existed but\nwere undocumented.  All have been changed to use a common (pythonic)\nnaming scheme, but the old names are retained for backwards\ncompatibility:</p>\n<ul>\n<li>new name = old name (if any) = value description</li>\n<li><strong>new_file_path</strong> = universe_wsgi.ini new_file_path value</li>\n<li><strong>tool_data_path</strong> = GALAXY_DATA_INDEX_DIR = universe_wsgi.ini tool_data_path value</li>\n<li><strong>root_dir</strong> = GALAXY_ROOT_DIR = Top-level Galaxy source directory made absolute via os.path.abspath()</li>\n<li><strong>datatypes_config</strong> = GALAXY_DATATYPES_CONF_FILE = universe_wsgi.ini datatypes_config value</li>\n<li><strong>user_id</strong> = userId = Email's numeric ID (id column of galaxy_user table in the database)</li>\n<li><strong>user_email</strong> = userEmail = User's email address</li>\n<li><strong>app</strong> = The galaxy.app.UniverseApplication instance, gives access to</li>\n<li><strong>app</strong>.config and much more.  Should be used as a last resort, may go away in future releases.</li>\n</ul>\n<h3 id=\"tool-framework\"><a href=\"#tool-framework\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tool Framework</h3>\n<ul>\n<li>When label text for a static option in a <em>SelectToolParameter</em> is not provided, default to using the 'value'.</li>\n<li>Fix for dynamic options when referencing a <em>DataToolParameter</em> that has already been wrapped.</li>\n<li>Only allow a user to rerun if they have access permissions on the dataset.</li>\n</ul>\n<h3 id=\"test-framework\"><a href=\"#test-framework\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Test Framework</h3>\n<ul>\n<li>Add a \"contains\" compare type to functional tests. Enables simple checking for substrings in a test output file, on a line-by-line basis.</li>\n<li>Fix for expand grouping to allow toolbox tests to use the default parameter value.</li>\n</ul>\n<h3 id=\"bug-fixes\"><a href=\"#bug-fixes\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Bug Fixes</h3>\n<ul>\n<li>Have <em>MACS</em> peak caller wrapper use return code to set error state. Fixes issues seen when MACS was be green, despite encountering fatal errors.</li>\n<li>Fix hyperlinks in <em>Cuffcompare</em> and <em>Cuffdiff</em> documentation.</li>\n<li>Add support for comment handling to gff_to_interval_index tool.</li>\n<li>Workflow Parameter bugfix for the improperly handled case when a parameter isn't used in any workflow step, but should still be available for PJAs.</li>\n<li>Bugfix for workflow run not reloading history.</li>\n<li><em>SGE/DRMAA</em> runners did not respect the value set in cluster_files_directory.</li>\n<li>Galaxy did not set a public username when 'use_remote_user = True' and did not provide an interface to set it.  Upon account creation, Galaxy will now automatically create a public username matching the username portion of the user's email address, with any non-alphanumeric characters replaced with a '-'.  If the username is not unique, a '1' is appended, and then incremented until the username is unique.  Users may modify their public username via the User menu in the masthead.</li>\n</ul>\n<hr>\n<h3 id=\"about-galaxy\"><a href=\"#about-galaxy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>About Galaxy</h3>\n<p>The <strong>Galaxy team</strong> is a part of <a href=\"http://www.bx.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">BX</a> at <a href=\"http://www.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Penn State</a>, and the <a href=\"http://www.biology.emory.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Biology</a> and <a href=\"http://www.mathcs.emory.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Mathematics and Computer Science</a> departments at <a href=\"http://www.emory.edu/home/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">Emory University</a>. </p>\n<p><strong>Galaxy</strong> is supported in part by <a href=\"http://www.nsf.gov/\" target=\"_blank\" rel=\"noopener noreferrer\">NSF</a>, <a href=\"http://www.genome.gov/\" target=\"_blank\" rel=\"noopener noreferrer\">NHGRI</a>, the <a href=\"http://www.huck.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Huck Institutes of the Life Sciences</a>, and <a href=\"http://www.ics.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">The Institute for CyberScience at Penn State</a>, and <a href=\"http://www.emory.edu/home/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">Emory University</a>.</p>\n<p><a href=\"http://bitbucket.org/galaxy/galaxy-central/wiki/GalaxyTeam\" target=\"_blank\" rel=\"noopener noreferrer\">GalaxyTeam</a></p>\n<p><a href=\"http://usegalaxy.org\" target=\"_blank\" rel=\"noopener noreferrer\">Use Galaxy!</a></p>\n<p><a href=\"http://galaxyproject.org\" target=\"_blank\" rel=\"noopener noreferrer\">GalaxyProject.org</a></p>\n<p>Join us at <strong>Twitter</strong></p>\n<p><code>#usegalaxy</code></p>\n<p><a href=\"http://twitter.com/#!/search/galaxyproject\" target=\"_blank\" rel=\"noopener noreferrer\">http://twitter.com/#!/search/galaxyproject</a> </p>\n<hr>\n"}},"context":{}}