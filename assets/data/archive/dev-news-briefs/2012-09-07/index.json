{"hash":"8532f9dede357a757ee182f7a5f5306dccf4d8d2","data":{"article":{"id":"d59e0849073d1350965a5ff7ee92280f","title":"Development News Brief","tease":"","image":"","images":{},"category":null,"contact":"","date":"7 September 2012","content":"<h1 id=\"get-galaxy\"><a href=\"#get-galaxy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Get Galaxy</h1>\n<div class='left'><a href='http://getgalaxy.org/'><img src=\"http://galaxy.psu.edu/static/getgalaxy.png\" alt=\"getgalaxy\" width=50 /></a></div>\n<p><strong><a href=\"http://getgalaxy.org\" target=\"_blank\" rel=\"noopener noreferrer\">getgalaxy.org</a></strong></p>\n<p><strong>new</strong>: <code>$ hg clone http://www.bx.psu.edu/hg/galaxy galaxy-dist</code></p>\n<p><strong>upgrade</strong>: <code>$ hg pull -u -r e6444e7a1685</code></p>\n<br />\n<br />\n<br />\n<br />\n# BLAST+ Migration\n<p>The tool set <strong><a href=\"http://blast.ncbi.nlm.nih.gov/\" target=\"_blank\" rel=\"noopener noreferrer\">NCBI BLAST+</a></strong> has moved from the Galaxy distribution to the Galaxy Main <strong><a href=\"/toolshed/\">Tool Shed</a></strong>.</p>\n<p>Migration scripts will run upon Galaxy's first launch (after updating to this release) that will automatically handle installing <strong>BLAST</strong> (and <strong>blastxml</strong>) from the <strong><a href=\"/toolshed/\">Tool Shed</a></strong>.</p>\n<br />\n# Reference Genome rsync Server\n<p>If you would like to obtain the same <em>reference genome builds and indexes</em> as available on the public <strong>Galaxy <a href=\"/main/\">Main</a></strong> instance, these can retrieved from the rsync server at:</p>\n<pre><code>datacache.g2.bx.psu.edu\n</code></pre>\n<p>For example, to download the complete directory for the <strong><a href=\"http://en.wikipedia.org/wiki/Phi_X_174\" target=\"_blank\" rel=\"noopener noreferrer\">'phiX'</a></strong> genome:</p>\n<pre><code>$ rsync -avzP rsync://datacache.g2.bx.psu.edu/indexes/phiX .\n</code></pre>\n<p>Genomes are organized in directories by the <code>dbkey</code>. If you are not sure of the <code>dbkey</code>, check your datasets. The <code>dbkey</code> is what is populated into the \"database\" attribute for a dataset. Read more <a href=\"/admin/data-integration/\">about how this fits into data integration</a> or [setting up native genome indexes](/src/admin/NGS Local Setup/index.md).</p>\n<br />\n# More Updates to Output and Error Handling\n<p>As reported in the <em><a href=\"/archive/dev-news-briefs/2012-07-20/\">July 20th, 2012 News Brief</a></em>, several changes have been made to the underlying code that determines run result state from tool exit codes and output. There are now additional enhancements to applying regular expressions and exit code checks. <a href=\"/admin/tools/tool-config-syntax/#a3cstdio3e2c_3cregex3e2c_and_3cexit_code3e_tag_sets\">Read more...</a></p>\n<br />\n# Tools\n<p><a href=\"/admin/config/tool-dependencies/\">Admin/Config/Tool Dependencies</a></p>\n<ul>\n<li>\n<p><em>Enhancements</em></p>\n<ul>\n<li>\n<p><strong><a href=\"http://tophat.cbcb.umd.edu/tutorial.html\" target=\"_blank\" rel=\"noopener noreferrer\">Tophat2</a></strong> wrapper enhancements:</p>\n<ul>\n<li>Include fusions output. Read more about what this is in the <a href=\"http://tophat.cbcb.umd.edu/manual.html\" target=\"_blank\" rel=\"noopener noreferrer\">Tophat2 Manual's</a> section <em>Fusion mapping options:</em></li>\n</ul>\n</li>\n<li>\n<p><strong><a href=\"http://bowtie-bio.sourceforge.net/bowtie2/manual.shtml\" target=\"_blank\" rel=\"noopener noreferrer\">Bowtie2</a></strong> wrapper enhancements:</p>\n<ul>\n<li>Output sorted <strong><a href=\"/learn/datatypes/#bam\">BAM</a></strong> from <strong>Bowtie2</strong> by default</li>\n<li>One benefit is that <strong>BAM</strong> results can be used as input to <strong><a href=\"http://cufflinks.cbcb.umd.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Cufflinks</a></strong> without an <a href=\"http://main.g2.bx.psu.edu/u/jeremy/p/transcriptome-analysis-faq#faq2\" target=\"_blank\" rel=\"noopener noreferrer\">intermediate sorting step</a>.</li>\n<li><em>NOTE:</em> If you are using an older version of <em>Bowtie</em> or uploading your own results, sorting is still required before running <em>Cufflinks</em>, whether in <a href=\"/learn/datatypes/#sam\">SAM</a> or <a href=\"/learn/datatypes/#bam\">BAM</a> format.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><em>New</em></p>\n<ul>\n<li>\n<p><strong><a href=\"http://main.g2.bx.psu.edu/u/jeremy/p/galaxy-rna-seq-analysis-exercise\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy RNA-seq Analysis Exercise</a></strong> on <a href=\"/main/\">Main</a></p>\n<ul>\n<li>Walks through sample protocol step-by-step using paired-end data, initial read QC through <strong><a href=\"http://cufflinks.cbcb.umd.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">CuffDiff</a></strong> analysis</li>\n<li>Includes <strong><a href=\"http://tophat.cbcb.umd.edu/igenomes.html\" target=\"_blank\" rel=\"noopener noreferrer\">iGenomes</a></strong> sourced <strong><a href=\"http://tophat.cbcb.umd.edu/igenomes.html\" target=\"_blank\" rel=\"noopener noreferrer\">reference annotation GTF</a></strong>, an answer key, and bonus resources</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<br />\n# User Interface (UI)\n<ul>\n<li>\n<p><em>Enhancements</em></p>\n<ul>\n<li>Does not use <code>enable_tracks</code> or <code>enable_pages</code> options anymore; visualizations and pages are enabled for <em>all instances</em>.</li>\n</ul>\n</li>\n<li>\n<p><em>New</em></p>\n<ul>\n<li>Addition of <strong>interactive phylogenetic tree visualization</strong>.</li>\n</ul>\n</li>\n</ul>\n</div><a href=\"/learn/\"><img src=\"/images/news-graphics/2012_09_07_interactive-phylo-tree.png\" alt=\"interactive-phylo-tree\" width=800 /></a></div>\n<br />\n# Galaxy Track Browser (GTB)\n<p><a href=\"/learn/visualization/\">Trackster</a></p>\n<ul>\n<li>\n<p><em>New</em></p>\n<ul>\n<li>Rewrite sampling code for <strong><a href=\"http://genome.ucsc.edu/goldenPath/help/bigWig.html\" target=\"_blank\" rel=\"noopener noreferrer\">bigWig</a></strong> / <strong><a href=\"http://genome.ucsc.edu/goldenPath/help/bigBed.html\" target=\"_blank\" rel=\"noopener noreferrer\">bigBed</a></strong></li>\n</ul>\n</li>\n<li>\n<p><em>Enhancements</em></p>\n<ul>\n<li>Enable visualization of <strong><a href=\"http://genome.ucsc.edu/goldenPath/help/bedgraph.html\" target=\"_blank\" rel=\"noopener noreferrer\">bedGraph</a></strong> datasets</li>\n<li>Server-side code for coverage histograms</li>\n<li>Add feature search to <strong><a href=\"/learn/visualization/\">Trackster</a></strong> ; typing in location box will search tracks in visualization for features that start with entered text. Works with <strong><a href=\"/learn/datatypes/#gff\">GFF</a></strong>, <strong><a href=\"/learn/datatypes/#gtf\">GTF</a></strong>, and <strong><a href=\"/learn/datatypes/#bed\">BED</a></strong> datasets. Fixes <a href=\"https://bitbucket.org/galaxy/galaxy-central/issue/611\" target=\"_blank\" rel=\"noopener noreferrer\">https://bitbucket.org/galaxy/galaxy-central/issue/611</a></li>\n</ul>\n</li>\n</ul>\n<p><a href=\"/learn/visualization/\"><div class=\"img-sizer\" style=\"width: 800px\"><img src=\"/images/news-graphics/2012_09_07_trackster-feature-search.png\" alt=\"trackster-feature-search.png\"></div></a></p>\n<br />\n# Source\n<ul>\n<li>\n<p><em>New</em></p>\n<ul>\n<li>A native job runner for the <em>Condor DRM</em>, submitted by Jaime Frey</li>\n<li><code>scripts/db_shell.py</code> is an interactive shell for working with the Galaxy model, contributed by John Chilton</li>\n</ul>\n</li>\n<li>\n<p><em>Enhancements</em></p>\n<ul>\n<li>New enhancement that adds a security mechanism to the <strong>lwr</strong> job runner, contributed by John Chilton</li>\n<li>If using <code>run.sh</code>, <code>'$GALAXY_UNIVERSE_CONFIG_DIR'</code> can be set to a directory containing partial config files, which will be merged in to a single <em><a href=\"http://bitbucket.org/galaxy/galaxy-dist/src\" target=\"_blank\" rel=\"noopener noreferrer\">universe_wsgi.ini</a></em></li>\n<li>Binary datatype sniffing has been moved to the datatype classes and removed from the upload tool thanks to a contribution by John Chilton.  Local modifications to the upload tool may conflict and should no longer be necessary.  See <em><a href=\"http://bitbucket.org/galaxy/galaxy-central/pull-request/59\" target=\"_blank\" rel=\"noopener noreferrer\">pull request 59</a></em> for examples.</li>\n</ul>\n</li>\n<li>\n<p><em>Removed</em></p>\n<ul>\n<li><code>contrib/multiprocess.sh</code> has been removed. If you're using multiple Galaxy processes, set <code>'GALAXY_RUN_ALL=1'</code> in your environment and start/stop as usual with:</li>\n</ul>\n</li>\n</ul>\n<pre><code>$ sh run.sh --daemon/sh run.sh --stop-daemon\n</code></pre>\n<br />\n# Workflows\n<ul>\n<li>\n<p><em>New</em></p>\n<ul>\n<li>New parent tag copying for multiple workflow run output histories, contributed by Brad Langhorst. See <em><a href=\"http://bitbucket.org/galaxy/galaxy-central/pull-request/54\" target=\"_blank\" rel=\"noopener noreferrer\">pull request 54</a></em></li>\n</ul>\n</li>\n<li>\n<p><em>Enhancements</em></p>\n<ul>\n<li>Workflow API changes to support parameter execution and workflow creation, in collaboration with Richard Park. See <em><a href=\"http://bitbucket.org/galaxy/galaxy-central/pull-request/55\" target=\"_blank\" rel=\"noopener noreferrer\">pull request 55</a></em></li>\n<li>Additional API changes, contributed by John Chilton. See <em><a href=\"http://bitbucket.org/galaxy/galaxy-central/pull-request/62\" target=\"_blank\" rel=\"noopener noreferrer\">pull request 62</a></em></li>\n</ul>\n</li>\n</ul>\n<br />\n# Tool Shed\n<p><a href=\"/toolshed/\">Tool Shed</a></p>\n<ul>\n<li>\n<p><em>Fixes</em></p>\n<ul>\n<li>Several miscellaneous fixes for using a <strong><a href=\"http://www.sqlite.org/\" target=\"_blank\" rel=\"noopener noreferrer\">SQLite</a></strong> database with a local tool shed.</li>\n<li>It is no longer possible to change the name of a repository in the tool shed at during the time when the repository is first being cloned.</li>\n<li>Setting metadata on tool shed repository changeset revisions has been re-engineered, resulting in the resolution of several critical issues.  Repository metadata is now generated for appropriate changeset revisions, and repository contents are now displayed correctly for each changeset revision for which metadata can be generated.</li>\n<li>Error messages have been improved for tool shed repositories that include invalid tools.  Clicking on an invalid tool in your repository should provide you the information needed to correct the tool.</li>\n<li>Tool section labels are now handled correctly in the tool panel (attempting to remove them or change their location in the tool panel used to be problematic).</li>\n<li>Entries defined in the <code>tool_shed_conf.xml</code> file no longer require a trailing '/' in the defined urls.  For example, the following entry used to be necessary:</li>\n</ul>\n</li>\n</ul>\n<div class='indent'><div class='indent'>\n```\n<tool_shed name=\"My local tool shed\" url=\"http://localhost:9009/\"/>\n```\n<p>Now the above entry still works, but the following entry is also ok (notice the '/' character after the port number in the url is no longer necessary):</p>\n<pre><code>&#x3C;tool_shed name=\"My local tool shed\" url=\"http://localhost:9009\"/>\n</code></pre>\n</div></div>\n<ul>\n<li>\n<p><em>Enhancements</em></p>\n<ul>\n<li>The Tool Shed is now running <strong><a href=\"http://mercurial.selenic.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Mercurial version 2.2.3</a></strong>.</li>\n<li>The <strong><a href=\"http://bioinformatics.bc.edu/marthlab/FreeBayes\" target=\"_blank\" rel=\"noopener noreferrer\">Freebayes</a></strong> repository was updated in the <strong><a href=\"http://toolshed.g2.bx.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Main Galaxy Tool Shed</a></strong> to <em>Revision: 7:d3bf1e86b243</em>, so make sure to get the updates if you have installed it into your <strong><a href=\"http://getgalaxy.org\" target=\"_blank\" rel=\"noopener noreferrer\">local Galaxy instance</a></strong>. For details about getting updates to your installed repositories, see this section of the Galaxy tool shed wiki <a href=\"/updating-installed-repositories/#\">Getting updates for tool shed repositories installed in a local Galaxy instance</a></li>\n<li>The implementation for importing proprietary datatype class modules included in a tool shed repository now supports class module files whose name conflicts with a <strong><a href=\"http://www.python.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Python</a></strong> standard library module name.  For example, if a proprietary datatype class module is named <code>xml.py</code>, it will now be correctly imported even though the name conflicts with the Python standard library's xml module.</li>\n<li>The repository tip is now displayed in a column that is separate from the repository's installable changeset revisions in the tool shed.</li>\n</ul>\n</li>\n</ul>\n<p><a href=\"/toolshed/\"><img src=\"/images/news-graphics/2012_09_07_repository-grid.png\" alt=\"repository-grid.png\"></a></p>\n<ul>\n<li>\n<p>Additional information has been added to the \"Tool metadata\" page, which is displayed when you choose the \"View tool metadata\" option from a tool's pop-up menu.  This menu is available in 2 locations: when viewing the repository in a tool shed, and when viewing a repository (which includes tools) that has been installed into a local Galaxy instance.  The additional information added to the Tool metadata page includes:</p>\n<ul>\n<li>information about tool dependencies if they have been defined in the repository</li>\n<li>requirements defined in the tool config <code>&#x3C;requirements></code> tag set</li>\n<li>The tool's version lineage information, an example of which is shown here for a sample tool named <strong>Filter</strong></li>\n</ul>\n</li>\n</ul>\n<p><a href=\"/toolshed/\"><img src=\"/images/news-graphics/2012_09_07_view-tool-metadata-page.png\" alt=\"view-tool-metadata-page.png\"></a></p>\n<ul>\n<li>In addition to browsing repositories that you own, you can now also browse repositories for which you have been granted \"write\" permission.  Here is a snapshot of the new Galaxy tool shed menu.</li>\n</ul>\n<p><a href=\"/toolshed/\"><img src=\"/images/news-graphics/2012_09_07_toolshed-menu.png\" alt=\"toolshed-menu.png\"></a></p>\n<br />\n# Bug Fixes\n<div class='right'><a href=\"/support/\"><img src=\"/images/icons/bug.png\" alt=\"bugs\" width=20 /></a></div> \n* *General*\n  * Fix permissions problems on `stdout/stderr/errorcode` files when running jobs as the [real system user](/src/archive/dev-news-briefs/2012-01-27/index.md#run-cluster-jobs-as-the-real-user).\n  * Galaxy will no longer try to modify permissions of [linked library uploads](/src/admin/Data Libraries/Uploading Library Files/index.md).\n  * Galaxy will honor `umask` when creating temporary library archives for download (solves permissions problems when sending via a proxy server).\n  * Fix tabular display to serve raw when `preview == False`, which should resolve external display issues.\n  * Fix `convert_newlines` and `sep2tabs` to return '0' lines in the event of an empty file, instead of throwing an exception.\n  * Fix chunk-serving logic for tabular files - the correct chunks will always be served consecutively now.\n* *API*\n  * Encode dataset id for dataset returned when rerunning tools.\n* *Trackster*\n  * Reintroduce directionality indication to single-block features as it is again compatible with current code.\n  * For feature tracks, only draw name if available.\n  * Only draw connector when both mates of a read are drawn; this prevents spurious connectors from being drawn but prevents connectors from being drawn across tile boundaries.\n  * Update track icons when decomposing a composite track into individual tracks.\n* *UI*\n  * Do not use route memory for dataset save URLs because it introduces harmful parameters.\n  * Correct size abbreviation to use uppercase B for bytes.\n  * Show images in tool help when rerunning tools and in workflow editor. Fixes [https://bitbucket.org/galaxy/galaxy-central/issue/141](https://bitbucket.org/galaxy/galaxy-central/issue/141)\n  * Make *add dataset to trackster* dialog compatible with new modal behavior.\n* *Tools*\n  * Move implementation of `from_work_dir` attribute from job finish to job command line to make compatible when setting metadata externally.\n  * Require **[pileup](http://samtools.sourceforge.net/pileup.shtml)** format as input to `/tools/samtools/pileup_parser.*` tool.\n  * Set attribute metadata for **[GFF](/src/learn/datatypes/index.md#gff)** and **[GFF3](/src/learn/datatypes/index.md#gff3)** in addition to **[GTF](/src/learn/datatypes/index.md#gtf)**.\n<br />\n# Announcements\n<p><a href=\"/news/\">News</a>, <em><a href=\"/galaxy-updates/2012-09/\">August</a></em> and <em><a href=\"/galaxy-updates/2012-09/\">September</a></em> <em>2012 Galaxy Updates</em></p>\n<div class='right'><a href=\"/galaxy-updates/2012-09/\"><img src=\"/images/logos/GalaxyUpdate200.png\" alt=\"September 2012 Galaxy Update\" width=150 /></a></div>\n<h2 id=\"highlights\"><a href=\"#highlights\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Highlights</h2>\n<ul>\n<li>\n<p><strong><em>Aug</em></strong></p>\n<ul>\n<li><a href=\"/galaxy-updates/2012-08/#gcc2012--gcc2013\">GCC2012 &#x26; GCC2013</a>: slides and video</li>\n<li><a href=\"/galaxy-updates/2012-08/#new-papers\">29 new papers</a></li>\n<li><a href=\"/galaxy-updates/2012-08/#toolshed-contributions\">Tool Shed Contributions</a></li>\n</ul>\n</li>\n<li>\n<p><strong><em>Sept</em></strong></p>\n<ul>\n<li><a href=\"/galaxy-updates/2012-09/#new-papers\">41 new papers</a></li>\n<li><a href=\"/galaxy-updates/2012-09/#new-public-servers\">3 new public Galaxy Servers</a></li>\n<li><a href=\"/galaxy-updates/2012-09/#upcoming-events-and-deadlines\">Upcoming Events and Deadlines</a></li>\n<li><a href=\"/galaxy-updates/2012-09/#new-galaxy-france-mailing-list\">New Galaxy-France mailing list</a></li>\n<li><a href=\"/galaxy-updates/2012-09/#toolshed-contributions\">Tool Shed Contributions</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"swiss-galaxy-day\"><a href=\"#swiss-galaxy-day\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Swiss Galaxy Day</h2>\n<div class='right'><a href=\"/events/switzerland2012/\"><img src=\"/images/logos/2012SwissGalaxyWorkshop-400.png\" alt=\"Swiss Galaxy Day\" height=\"100\" /></a></div>\n<p>The 1<sup>st</sup> <a href=\"/events/switzerland2012/\">Swiss Galaxy Workshop</a> will be held October 3-4 in Bern, and is aimed at Galaxy administrators and users alike. We also welcome participants who are using other workflow management systems, and tool developers who are looking for such systems to offer their tools to a wider audience.</p>\n<p>We would like to discuss the status of the Galaxy project, new developments, interface to other systems, extensions and best practice in reproducible research.</p>\n<p>The workshop is part of the SyBIT Tech Day series.</p>\n<br />\n## Who's Hiring\n<div class='right'><img src=\"/images/icons/PointingFinger.png\" alt=\"Please Help!  Yes you!\" width=100 /></div>\nThe Galaxy is expanding!  Please help it grow.\n* The [Galaxy Project is hiring](/src/galaxy-is-hiring/index.md) post-docs @ Penn State and Emory\n* [Bioinformatics & Integrative Genomics Specialist - Manager Bioinformatics Consulting Core](http://www.nature.com/naturejobs/science/jobs/275747-Bioinformatics-Integrative-Genomics-Specialist-Manager-Bioinformatics-Consulting-Core) @ Leuven, Belgium\n* [Internship @ EMBL Heidelberg building an emBASE-Galaxy Bridge](http://www.sfbi.fr/content/development-embase-galaxy-bridge)\n<p>Got a Galaxy-related opening?  Send it to outreach@galaxyproject.org and we'll put it in the <a href=\"/news/\">Galaxy News feed</a> and include it the next <a href=\"/galaxy-updates/\">Galaxy Update</a> and <a href=\"/docs/\">News Brief</a>.\n<br />\n<br /></p>\n<hr>\n<br />\n<br />\n# About Galaxy\n<p><strong><a href=\"http://galaxyproject.org\" target=\"_blank\" rel=\"noopener noreferrer\">GalaxyProject.org</a></strong></p>\n<p>The <strong><a href=\"/galaxy-team/\">Galaxy Team</a></strong> is a part of <strong><a href=\"http://www.bx.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">BX</a></strong> at <a href=\"http://www.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Penn State</a>, and the <strong><a href=\"http://www.biology.emory.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Biology</a></strong> and <strong><a href=\"http://www.mathcs.emory.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Mathematics and Computer Science</a></strong> departments at <a href=\"http://www.emory.edu/home/index.html/\" target=\"_blank\" rel=\"noopener noreferrer\">Emory University</a>.</p>\n<p><strong><a href=\"http://usegalaxy.org\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy</a></strong> is supported in part by <a href=\"http://www.nsf.gov/\" target=\"_blank\" rel=\"noopener noreferrer\">NSF</a>, <a href=\"http://www.genome.gov/\" target=\"_blank\" rel=\"noopener noreferrer\">NHGRI</a>, the <a href=\"http://www.huck.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Huck Institutes of the Life Sciences</a>, and <a href=\"http://www.ics.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">The Institute for CyberScience at Penn State</a>, and <a href=\"http://www.emory.edu/home/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">Emory University</a>.</p>\n<p>Join us at <strong>Twitter <a href=\"http://twitter.com/#galaxyproject\" target=\"_blank\" rel=\"noopener noreferrer\">@galaxyproject</a></strong> or just read our tweets <strong><a href=\"/galaxy-on-twitter/\">Galaxy on Twitter</a></strong></p>\n"}},"context":{}}