{"hash":"c32ecfdb33b075b0057598b5b9118f3554a398cf","data":{"article":{"id":"dc87f59128b6d82a98180e0962864899","title":"Development News Brief","tease":"","image":"","images":{},"category":null,"contact":"","date":"20 December 2012","content":"<h1 id=\"get-galaxy\"><a href=\"#get-galaxy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Get Galaxy</h1>\n<table>\n  <tr>\n    <td rowspan=3 style=\" border: none;\"> <a href='http://getgalaxy.org/'><img src=\"http://galaxy.psu.edu/static/getgalaxy.png\" alt=\"getgalaxy\" width=70 /></a> &nbsp;&nbsp; </td>\n    <td colspan=2 style=\" border: none;\"> <strong><a href='http://getgalaxy.org'>getgalaxy.org</a></strong> </td>\n  </tr>\n  <tr>\n    <td style=\" border: none;\"> <strong><a href='http://galaxy-dist.readthedocs.org'>galaxy-dist.readthedocs.org</a></strong> </td>\n    <td style=\" border: none;\"> </td>\n  </tr>\n  <tr>\n    <td style=\" border: none;\"> <strong><a href='http://bitbucket.org/galaxy/galaxy-dist'>bitbucket.org/galaxy/galaxy-dist</a></strong> </td>\n    <td style=\" border: none;\"> </td>\n  </tr>\n  <tr>\n    <td style=\" border: none;\"> <strong>new</strong>: </td>\n    <td style=\" border: none;\"> <code>$ hg clone http://www.bx.psu.edu/hg/galaxy galaxy-dist </code> </td>\n  </tr>\n  <tr>\n    <td style=\" border: none;\"> <strong>upgrade</strong>: </td>\n    <td style=\" border: none;\"> <code>$ hg pull -u -r 36ad8aa7b922 </code> </td>\n  </tr>\n</table>\n<br />\n<br />\n<h1 id=\"required-metadata-reset\"><a href=\"#required-metadata-reset\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Required Metadata Reset</h1>\n<div class='indent'> **It is critical that you reset the metadata on your installed tool shed repositories when you upgrade your Galaxy instance to this revision!**\n</div>\n<br />\nWhen a tool shed repository is installed into your local Galaxy instance, metadata is generated for the repository as a part of the installation process and stored in the `tool_shed_repository.metadatatable` column in the Galaxy database. This automatic process inspects the contents of the specific revision of the installed repository and generates and stores important information about it. This metadata information is used by certain Galaxy features. As new features are added to Galaxy or the tool shed, the process that generates this installed tool shed repository metadata within the Galaxy instance may be enhanced to accommodate information about the new features. [Read more…](http://wiki.galaxyproject.org/ResettingMetadataForInstalledRepositories)\n<br />\n# Tool Shed\n<p><strong><a href=\"/src/toolshed/index.md\">Tool Shed</a></strong></p>\n<h3 id=\"galaxy-enhancement-related-to-installed-tool-shed-repositories\"><a href=\"#galaxy-enhancement-related-to-installed-tool-shed-repositories\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Galaxy Enhancement related to installed tool shed repositories</h3>\n<p>Tools installed from the Galaxy Tool Shed can now have handlers and runners assigned in <code>universe_wsgi.ini</code> based on their \"short id\" as opposed to their full \"tool shed id\".  </p>\n<p>For example, the following lines could be placed in <code>[galaxy:tool_runners]</code>:</p>\n<pre><code>toolshed.g2.bx.psu.edu/repos/devteam/bwa_wrappers/bwa_wrapper/1.2.3 = foo://\ntoolshed.g2.bx.psu.edu/repos/devteam/bwa_wrappers/bwa_wrapper = bar://\nbwa_wrapper = baz://\n</code></pre>\n<p>And will be interpreted as:</p>\n<ul>\n<li>version <code>1.2.3</code> of the <code>bwa_wrapper</code> installed from the toolshed would use runner <code>foo://</code></li>\n<li>all other versions installed from the toolshed would use runner <code>bar://</code></li>\n<li>any tool with <code>&#x3C;tool id=\"bwa_wrapper\"></code>, regardless of how it's installed (from the toolshed or directly added to tool_conf.xml) would use runner <code>baz://</code></li>\n</ul>\n<p>It is important to note that *only the most <strong>specific match</strong> will be used if there are <strong>multiple matches*</strong> (as in the given example).</p>\n<h3 id=\"tool-shed-enhancement\"><a href=\"#tool-shed-enhancement\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tool Shed Enhancement</h3>\n<ol>\n<li>The functional test framework for the tool shed has been significantly enhanced.  For details about how to run functional tests for your local tool shed, <a href=\"http://wiki.galaxyproject.org/HostingALocalToolShed#Functional_test_framework_for_the_tool_shed\" target=\"_blank\" rel=\"noopener noreferrer\">read more here…</a></li>\n</ol>\n<h3 id=\"tool-shed-fixes\"><a href=\"#tool-shed-fixes\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tool Shed Fixes</h3>\n<ol>\n<li>The tool shed now displays informative error messages when invalid <code>XML .sample</code> files are included in a repository.</li>\n<li>Fixes for the functional test framework for testing tools contained in tool shed repositories installed into Galaxy instances, thanks to <a href=\"http://www.lanceparsons.net/\" target=\"_blank\" rel=\"noopener noreferrer\">Lance Parsons</a>.  </li>\n<li>The tool shed's <code>HgWebConfigManager</code> is now thread-safe.</li>\n<li>Tools contained in tool shed repositories installed into a local Galaxy instance will now be automatically reloaded into the Galaxy tool panel if the tool config was changed in the update, but <em>the tool versions did not change</em> (e.g., if the help text or something else not requiring a new tool version changed).</li>\n<li>All information related to installed tool dependencies has been filtered to ensure it is renderable on a browser page ( escape characters, illegal characters, etc are filtered out ).</li>\n<li>This release includes a fix for reinstalling tool dependencies defined for an uninstalled tool shed repository if the <code>tool_dependency_dir</code> config setting is not defined in the Galaxy configuration file ( <code>universe_wsgi.ini</code> ).</li>\n</ol>\n<br />\n# Tools\n<ol>\n<li>Enable and document <a href=\"http://wiki.galaxyproject.org/Learn/Datatypes#GFF\" target=\"_blank\" rel=\"noopener noreferrer\">GFF</a>/<a href=\"http://wiki.galaxyproject.org/Learn/Datatypes#GFF3\" target=\"_blank\" rel=\"noopener noreferrer\">GFF3</a> annotation support for <strong><a href=\"http://cufflinks.cbcb.umd.edu/manual.html\" target=\"_blank\" rel=\"noopener noreferrer\">Cuffcompare/merge/diff</a></strong>.</li>\n<li>Fix output definition for <a href=\"http://wiki.galaxyproject.org/Learn/Datatypes#GTF\" target=\"_blank\" rel=\"noopener noreferrer\">GTF</a> filter by attribute values list.</li>\n<li>Allow spaces in <strong><a href=\"http://cufflinks.cbcb.umd.edu/manual.html#cuffdiff\" target=\"_blank\" rel=\"noopener noreferrer\">Cuffdiff</a></strong> group names.</li>\n<li><strong><a href=\"http://tophat.cbcb.umd.edu/manual.html\" target=\"_blank\" rel=\"noopener noreferrer\">TopHat2</a></strong>:</li>\n</ol>\n<ul>\n<li>Add simple read group options.</li>\n<li>Remove deprecated parameters.</li>\n</ul>\n<ol start=\"5\">\n<li>#5 <strong><a href=\"http://bowtie-bio.sourceforge.net/bowtie2/manual.shtml\" target=\"_blank\" rel=\"noopener noreferrer\">Bowtie2</a></strong>:</li>\n</ol>\n<ul>\n<li>Add simple read group options.</li>\n</ul>\n<p><strong>Bowtie2</strong>\n<br />\n<img src=\"/src/images/news-graphics/2012_12_20_ngs-mapping-bowtie2.png\" alt=\"Bowtie2\" width=600 /></p>\n<p><strong>RNA-Seq Tool Suite</strong> with updated tools highlighted\n<br />\n<img src=\"/src/images/news-graphics/2012_12_20_ngs-rna-analysis-toolsuite.png\" alt=\"RNA-Seq\" width=300 /></p>\n<br />\n# Visualization\n<h3 id=\"galaxy-track-browser-trackster\"><a href=\"#galaxy-track-browser-trackster\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Galaxy Track Browser (Trackster)</h3>\n<ol>\n<li>Add <code>BAM to BigWig converter</code> for read coverage data.</li>\n<li>When creating a new track browser for a dataset:</li>\n</ol>\n<ul>\n<li>default to dataset's <code>dbkey</code></li>\n<li>default the view to the first chromosome</li>\n</ul>\n<br />\n# UI, Libraries, Histories\n<ol>\n<li><em>User Interface (UI)</em>: Tabular Display: For extremely wide datasets (50 columns or more), revert to the old (non-table) display behavior.  Rational: the incremental renderer sometimes has issues with these types of files.</li>\n<li><em>Libraries</em>: Include custom genomes in <code>dbkey</code> field when uploading library datasets.</li>\n<li><em>Histories</em>: Create <strong>.bai</strong> indexes when importing <strong><a href=\"http://wiki.galaxyproject.org/Learn/Datatypes#BAM\" target=\"_blank\" rel=\"noopener noreferrer\">BAM</a> (.bam)</strong> datasets while importing/exporting histories. </li>\n</ol>\n<ul>\n<li>note: a specific .bai index is associated with every .bam dataset, and is required, but the index file is not displayed in a history as a distinct dataset. Index files can be downloaded/accessed using the 'save' function in the <strong><a href=\"http://wiki.galaxyproject.org/Learn/Datatypes#BAM\" target=\"_blank\" rel=\"noopener noreferrer\">BAM</a></strong> dataset's history item. When loading <strong><a href=\"http://wiki.galaxyproject.org/Learn/Datatypes#BAM\" target=\"_blank\" rel=\"noopener noreferrer\">BAM</a></strong> datasets into Galaxy, or when they are created by tools, the .bai index is created automatically by those processes.</li>\n</ul>\n<br />\n# Source\n<h3 id=\"pull-requests-accepted\"><a href=\"#pull-requests-accepted\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Pull Requests Accepted</h3>\n<ol>\n<li>Allow a datatype's merge method to optionally take in the <code>output_dataset</code> object. <strong><a href=\"https://bitbucket.org/galaxy/galaxy-central/pull-request/83/allow-a-datatypes-merge-method-to\" target=\"_blank\" rel=\"noopener noreferrer\">#83</a></strong>; contributed by <a href=\"http://bitbucket.org/jmchilton\" target=\"_blank\" rel=\"noopener noreferrer\">John Chilton</a>.</li>\n<li>Another round of bug fixes and enhancements for multiple input data parameters. <strong><a href=\"https://bitbucket.org/galaxy/galaxy-central/pull-request/85/another-round-of-bug-fixes-and\" target=\"_blank\" rel=\"noopener noreferrer\">#85</a></strong>; contributed by <a href=\"http://bitbucket.org/jmchilton\" target=\"_blank\" rel=\"noopener noreferrer\">John Chilton</a>.</li>\n<li>Patch to make extended_metadata loader work better, and fix library loader to handle non-ascii characters. <strong><a href=\"https://bitbucket.org/galaxy/galaxy-central/pull-request/90/patch-to-make-extended_metadata-loader\" target=\"_blank\" rel=\"noopener noreferrer\">#90</a></strong>; contributed by <a href=\"https://bitbucket.org/kellrott\" target=\"_blank\" rel=\"noopener noreferrer\">Kyle Ellrott</a>.</li>\n<li>Fix an overlooked import in <code>JobWrapper</code>. <strong><a href=\"https://bitbucket.org/galaxy/galaxy-central/pull-request/91/fixing-missing-jobwrapper-import\" target=\"_blank\" rel=\"noopener noreferrer\">#91</a></strong>; contributed by <a href=\"https://bitbucket.org/kellrott\" target=\"_blank\" rel=\"noopener noreferrer\">Kyle Ellrott</a>.</li>\n</ol>\n<br />\n# Trello Issue Tracking\n<div class='left'><a href='http://bit.ly/gxytrello'><img src=\"/src/images/logos/TrelloLogo300.png\" alt=\"Galaxy Issue Board @ Trello\" width=\"100\" /></a></div>\n<p>The Galaxy Project uses <em><a href=\"http://trello.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Trello</a></em> for <a href=\"http://galaxyproject.org/trello\" target=\"_blank\" rel=\"noopener noreferrer\">issue creation</a> plus [commenting](<a href=\"http://wiki.galaxyproject.org/Issues#Add\" target=\"_blank\" rel=\"noopener noreferrer\">http://wiki.galaxyproject.org/Issues#Add</a> a Comment) and <a href=\"http://wiki.galaxyproject.org/Issues#Vote\" target=\"_blank\" rel=\"noopener noreferrer\">voting</a> on existing issues. </p>\n<p>Want to review what we're working on, vote, or submit a new idea to the Galaxy team? Our new wiki has all the details!\n<strong><a href=\"http://wiki.galaxyproject.org/Issues\" target=\"_blank\" rel=\"noopener noreferrer\">Using the Galaxy Issue Board</a></strong></p>\n<br />\n# Security Fixes\n<p>Although there are no specific known security fixes in this distribution, all Galaxy instance maintainers are <em>strongly encouraged</em> to run the latest release to take advantage of other improvements and fixes.</p>\n<br />\n# Bug Fixes\n<ol>\n<li>Fix for text area tool parameters (form builder) when a size isn't provided.</li>\n<li>Fix for error reporting link throwing server errors.</li>\n<li>Fix for <code>SelectToolParameter</code> in rerun <img src=\"/src/images/icons/arrow-circle.png\"> and workflows when multiple=\"true\"</li>\n<li>Fix IE console errors.</li>\n<li>Fix unhandled 'new' state for datasets in the history panel.</li>\n<li>Handle adding datasets to history panel without refresh.</li>\n<li>Fix <em>Trackster</em> links when <code>dbkey</code> is empty.</li>\n<li>Fix text selection of dataset names in the history panel.</li>\n<li>Fixes to history-related functional tests.</li>\n<li>Fix rendering of 'save' pop-up menu downloadable composite files </li>\n</ol>\n<ul>\n<li><em>example:</em> <a href=\"http://wiki.galaxyproject.org/Learn/Datatypes#BAM\" target=\"_blank\" rel=\"noopener noreferrer\">BAM</a> datasets have two download components, .bam (primary dataset) and .bam.bai (the index)</li>\n</ul>\n<br />\n# Announcements\n<p><a href=\"/src/news/index.md\">News</a>, <strong><em><a href=\"http://wiki.galaxyproject.org/GalaxyUpdates/2012-12\" target=\"_blank\" rel=\"noopener noreferrer\">December 2012 Galaxy Update</a></em></strong></p>\n<div class='left'><a href='/src/events/gcc2013/training-day/index.md'><img src=\"/src/images/logos/GCC2013Logo200.png\" alt=\"2013 Galaxy Community Conference (GCC2013)\" width=\"175px\" /></a></div>\n<br />\n**[GCC2013 Training Day Topic Nominations](http://wiki.galaxyproject.org/Events/GCC2013/TrainingDay) are now open** through ***[January 11th](http://wiki.galaxyproject.org/Events/GCC2013/KeyDates)***.  \n<br />\nGet a word in now.\n<br />\n<br />\n<br />\n<br />\n<br />\n----\n<br />\n# About Galaxy\n<p><strong><a href=\"http://galaxyproject.org\" target=\"_blank\" rel=\"noopener noreferrer\">GalaxyProject.org</a></strong></p>\n<p>The <strong><a href=\"http://wiki.galaxyproject.org/GalaxyTeam\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy Team</a></strong> is a part of <strong><a href=\"http://www.bx.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">BX</a></strong> at <a href=\"http://www.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Penn State</a>, and the <strong><a href=\"http://www.biology.emory.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Biology</a></strong> and <strong><a href=\"http://www.mathcs.emory.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Mathematics and Computer Science</a></strong> departments at <a href=\"http://www.emory.edu/home/index.html/\" target=\"_blank\" rel=\"noopener noreferrer\">Emory University</a>. </p>\n<p><strong><a href=\"http://usegalaxy.org\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy</a></strong> is supported in part by <a href=\"http://www.nsf.gov/\" target=\"_blank\" rel=\"noopener noreferrer\">NSF</a>, <a href=\"http://www.genome.gov/\" target=\"_blank\" rel=\"noopener noreferrer\">NHGRI</a>, the <a href=\"http://www.huck.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Huck Institutes of the Life Sciences</a>, and <a href=\"http://www.ics.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">The Institute for CyberScience at Penn State</a>, and <a href=\"http://www.emory.edu/home/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">Emory University</a>.</p>\n<p>Join us at <strong>Twitter <a href=\"http://twitter.com/#galaxyproject\" target=\"_blank\" rel=\"noopener noreferrer\">@galaxyproject</a></strong> or just read our tweets <strong>[Galaxy on Twitter](<a href=\"http://wiki.galaxyproject.org/Galaxy\" target=\"_blank\" rel=\"noopener noreferrer\">http://wiki.galaxyproject.org/Galaxy</a> on Twitter)</strong></p>\n"}},"context":{}}