{"hash":"6a87f55bb3e5a997903b2c87cff72c00cc3c86c4","data":{"article":{"id":"58e048f04587d42bfc48dd3cd37620ea","title":"Development News Brief","tease":"","image":"","images":{},"category":null,"contact":"","date":"6 October 2014","content":"<p><a href=\"/docs/\">All News Briefs</a>\n<br />\n<a href=\"/news/2014-10-06-galaxy-distribution/\">Distribution Summary 2014_10_06</a></p>\n<div class='left'><a href='http://getgalaxy.org'><img src=\"/images/logos/GetGalaxyOrg.png\" alt=\" \" width=175 /></a></div>\n<br />\n<br />\n<br />\n<table>\n  <tr>\n    <td rowspan=3 style=\" border: none;\"> <a href='http://getgalaxy.org/'><img src=\"http://galaxy.psu.edu/static/getgalaxy.png\" alt=\"getgalaxy\" width=70 /></a> &nbsp;&nbsp; </td>\n    <td colspan=2 style=\" border: none;\"> <strong><a href='http://wiki.galaxyproject.org/Admin/Get%20Galaxy'>getgalaxy.org</a></strong> </td>\n  </tr>\n  <tr>\n    <td style=\" border: none;\"> <strong><a href='http://galaxy-dist.readthedocs.org'>galaxy-dist.readthedocs.org</a></strong> </td>\n    <td style=\" border: none;\"> </td>\n  </tr>\n  <tr>\n    <td style=\" border: none;\"> <strong><a href='http://bitbucket.org/galaxy/galaxy-dist'>bitbucket.org/galaxy/galaxy-dist</a></strong> </td>\n    <td style=\" border: none;\"> </td>\n  </tr>\n  <tr>\n    <td style=\" border: none;\"> </td>\n  </tr>\n  <tr>\n    <td style=\" border: none;\"> <strong>new</strong>: </td>\n    <td style=\" border: none;\"> <code>$ hg clone https://bitbucket.org/galaxy/galaxy-dist#stable </code> </td>\n  </tr>\n  <tr>\n    <td style=\" border: none;\"> <strong>upgrade</strong>: </td>\n    <td style=\" border: none;\"> <code>$ hg pull </code> <br /> <code>$ hg update latest_2014.10.06</code> </td>\n  </tr>\n</table>\n<br />\n<h1 id=\"new-galaxy-reorganized\"><a href=\"#new-galaxy-reorganized\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>New! Galaxy Reorganized</h1>\n<p>Certain files in the Galaxy clone root directory have been renamed, moved, removed, and/or have modified usage.</p>\n<p>There is configuration resolution solution in place that will automatically use the config files in the old locations if they exist, or the new locations if they do not.  Administrator can also move any non .sample versions of modified files into config/ to match the new directory structure.\n<br />\nSpecifically, the following changes were made:</p>\n<ol>\n<li>Config files moved into the sub-directory <em>config/</em> .</li>\n<li><em>universe_wsgi.ini</em> renamed to <em>galaxy.ini</em> and is now located in the <em>config/</em> directory.</li>\n<li>Allow specifying of <em>galaxy.ini</em> defaults with environment variables.</li>\n<li>Removed unneeded contents of the root directory.</li>\n<li>Visualizations in Trackster now default to using config from new structure.</li>\n<li>Public release of <a href=\"https://galaxy.ansible.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy Ansible</a> roles for installing, configuring, and managing</li>\n<li>Tool development simplified through <a href=\"https://github.com/galaxyproject/tools-devteam\" target=\"_blank\" rel=\"noopener noreferrer\">GalaxyProject at GitHub</a></li>\n<li><a href=\"http://getgalaxy.org\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy</a> and <a href=\"https://www.openhub.net/p/pulsar\" target=\"_blank\" rel=\"noopener noreferrer\">Pulsar</a>, a perfect team</li>\n</ol>\n<br />\n[PR#495](https://bitbucket.org/galaxy/galaxy-central/pull-request/495/) [PR#501](https://bitbucket.org/galaxy/galaxy-central/pull-request/501) [discussion](https://github.com/bgruening/docker-galaxy-stable/issues/6) [XynZwvnV](https://trello.com/c/XynZwvnV) [G1SuUSxn](https://trello.com/c/G1SuUSxn) [s6pCnhMc](https://trello.com/c/s6pCnhMc) [ddTT39sA](https://trello.com/c/ddTT39sA) [8kFDSTBh](https://trello.com/c/8kFDSTBh)\n<br />\nWe thank Björn Grüning and other members of the community that helped to guide and support us through this transition.\n<h1 id=\"new-history-and-dataset-functions\"><a href=\"#new-history-and-dataset-functions\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>New! History and Dataset Functions</h1>\n<p>Several enhancements and improvements have been made to facilitate easier viewing and manipulation of data within the Galaxy UI and Job execution choices. These include:</p>\n<ol>\n<li>You can now run many big tools on <a href=\"https://www.tacc.utexas.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">TACC's</a> Stampede supercomputer (Official Beta(tm)!). Details <a href=\"http://tinyurl.com/q8azfve\" target=\"_blank\" rel=\"noopener noreferrer\">here ...</a></li>\n<li>The current/active dataset (the dataset being shown/manipulated in the center panel of 'analyze data') is now highlighted. <del>Hovering over a history dataset lights up the other datasets from which it was derived</del> (Edit: this was mistakenly reported as a released feature).</li>\n<li>One can now view datasets within collections that are within published or page embedded histories (as well as admin views), plus other dataset collection test and design improvements, including drill-down and fold-down viewing methods.</li>\n<li>New ‘Dataset Chooser’ that allows the user to select one or more datasets from a particular source (current history, other histories, library datasets), <a href=\"https://bitbucket.org/carlfeberhard/galaxy-visualization-dataset-choice\" target=\"_blank\" rel=\"noopener noreferrer\">example</a>, <a href=\"https://wiki.galaxyproject.org/VisualizationsRegistry/Cookbook#How_can_I_add_a_way_for_the_user_to_select_a_different_.28or_additional.29_datasets.3F\" target=\"_blank\" rel=\"noopener noreferrer\">wiki</a>, and <a href=\"https://trello.com/c/UfD9AMCi\" target=\"_blank\" rel=\"noopener noreferrer\">future upgrades</a>.</li>\n<li>The scroll position of the history panel is now stored and will persist across page loads. In other words, if you've scrolled to a dataset at the beginning/bottom of your history, the history panel will open to that same position when re-loaded. The scroll position will reset to the top when the history is switched or a new dataset is added.</li>\n<li>Datasets that time-out (and fail) in a smaller queue are automatically resubmitted to the longer running queue. This ‘re-submitted’ state is displayed when a dataset is fully expanded in the history panel. <a href=\"https://trello.com/c/6BFJfDqX\" target=\"_blank\" rel=\"noopener noreferrer\">6BFJfDqX</a></li>\n<li>When deleting the current history from the history options, the most recent history is set as the new current one instead of creating a new history. A new history is still created if the user is anonymous or if there are no non-deleted histories remaining. <a href=\"https://trello.com/c/jPMEX46R\" target=\"_blank\" rel=\"noopener noreferrer\">jPMEX46R</a></li>\n</ol>\n<br />\n[G4e5saQb](https://trello.com/c/G4e5saQb) [fdlgSAYB](https://trello.com/c/fdlgSAYB) [PVdbbpQS](https://trello.com/c/PVdbbpQS) [lAFJnOfd](https://trello.com/c/lAFJnOfd) [nQmxOG60](https://trello.com/c/nQmxOG60) [m8gqYuTd](https://trello.com/c/m8gqYuTd) \n<h1 id=\"improved\"><a href=\"#improved\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Improved</h1>\n<ol>\n<li>Created a simple <a href=\"https://status.galaxyproject.org/\" target=\"_blank\" rel=\"noopener noreferrer\">status.galaxyproject.org</a> page to track <a href=\"http://usegalaxy.org\" target=\"_blank\" rel=\"noopener noreferrer\">UseGalaxy.org</a> availability plus other primary servers. <a href=\"https://trello.com/c/poeCC0KG\" target=\"_blank\" rel=\"noopener noreferrer\">poeCC0KG</a></li>\n<li>Dynamic destination enhancements aimed at enabling co-locating data and (cloud) bursting. This was a complex upgrade, please review the links for full details: <a href=\"https://bitbucket.org/galaxy/galaxy-central/pull-request/465/\" target=\"_blank\" rel=\"noopener noreferrer\">PR#465</a> <a href=\"https://trello.com/c/lqqDhy6l\" target=\"_blank\" rel=\"noopener noreferrer\">lqqDhy6l</a></li>\n<li><a href=\"http://jquery.com\" target=\"_blank\" rel=\"noopener noreferrer\">jQuery</a> updated to 1.11. Review more about the upgrade <a href=\"http://jqueryui.com/upgrade-guide/1.11/\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>. <a href=\"https://trello.com/c/rhv5Nj7B\" target=\"_blank\" rel=\"noopener noreferrer\">rhv5Nj7B</a></li>\n<li>Better reporting of details related to errors to facilitate troubleshooting. This enhancement only works with <a href=\"http://api.jquery.com/jquery.ajax/\" target=\"_blank\" rel=\"noopener noreferrer\">AJAX</a> done through <a href=\"http://jquery.com\" target=\"_blank\" rel=\"noopener noreferrer\">jQuery</a>. <a href=\"https://trello.com/c/anbum96x\" target=\"_blank\" rel=\"noopener noreferrer\">anbum96x</a></li>\n<li>New APIs for managing permissions of libraries, library datasets plus folders, method to retrieve older versions of library datasets. <a href=\"https://trello.com/c/woyoS8Wo\" target=\"_blank\" rel=\"noopener noreferrer\">woyoS8Wo</a></li>\n<li>Automatically re-queue jobs that fail under specific conditions (such as walltime timeouts) to alternate cluster destinations. <a href=\"https://trello.com/c/36HT4odq\" target=\"_blank\" rel=\"noopener noreferrer\">36HT4odq</a></li>\n<li>Optimize the job query to only select jobs ready to run at startup. <a href=\"https://trello.com/c/XyHzzPGk\" target=\"_blank\" rel=\"noopener noreferrer\">XyHzzPGk</a></li>\n<li>Enable the specification of a UUID when using the upload tool.  Contributed by Kyle Ellrott. <a href=\"https://bitbucket.org/galaxy/galaxy-central/pull-request/463/\" target=\"_blank\" rel=\"noopener noreferrer\">PR#463</a> <a href=\"https://trello.com/c/OF9fARUc\" target=\"_blank\" rel=\"noopener noreferrer\">OF9fARUc</a></li>\n<li>UUID detection passed as input is now enabled. See the <a href=\"https://bitbucket.org/galaxy/galaxy-central/pull-request/471\" target=\"_blank\" rel=\"noopener noreferrer\">PR#471</a> for a first use case (added to Workflows). Our thanks again to Kyle Ellrott. <a href=\"https://trello.com/c/7MmRsXns\" target=\"_blank\" rel=\"noopener noreferrer\">7MmRsXns</a> <a href=\"https://trello.com/c/684L4W7D\" target=\"_blank\" rel=\"noopener noreferrer\">684L4W7D</a></li>\n<li>Upgrade to add a new search functionality when browsing or managing Data Library user roles through the UI. <a href=\"https://trello.com/c/woyoS8Wo\" target=\"_blank\" rel=\"noopener noreferrer\">woyoS8Wo</a></li>\n<li>Enhanced the Data Libraries API to allow for copying hdas directly in, without re-uploading. <a href=\"https://trello.com/c/lwBDzAEi\" target=\"_blank\" rel=\"noopener noreferrer\">lwBDzAEi</a></li>\n<li>Clarification about config requirements related to Virtual Environments (<a href=\"http://docs.python-guide.org/en/latest/dev/virtualenvs/\" target=\"_blank\" rel=\"noopener noreferrer\">virtualenv</a> and <a href=\"https://www.python.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Python</a> version checks, before executing run.sh. Thanks goes to Lance Parsons. <a href=\"https://trello.com/c/hcUU4kzU\" target=\"_blank\" rel=\"noopener noreferrer\">hcUU4kzU</a>. Duplicate of <a href=\"https://bitbucket.org/galaxy/galaxy-central/pull-request/486/\" target=\"_blank\" rel=\"noopener noreferrer\">PR#486</a> <a href=\"https://trello.com/c/IAN9mx71\" target=\"_blank\" rel=\"noopener noreferrer\">IAN9mx71</a></li>\n<li>Build sites admin files are now configurable to fully support display application functionality. <a href=\"https://trello.com/c/YPxlmedb\" target=\"_blank\" rel=\"noopener noreferrer\">YPxlmedb</a></li>\n<li>The <code>tool_shed_repositories.py</code> Tool Shed repo install</li>\n<li>Security enhancement that will permit the blocking of remote access if the user is not an admin.  Thank you to James Johnson. Review the pull request and ticket for details. <a href=\"https://bitbucket.org/galaxy/galaxy-central/pull-request/468/\" target=\"_blank\" rel=\"noopener noreferrer\">PR#468</a> <a href=\"https://trello.com/c/qbmqjhor\" target=\"_blank\" rel=\"noopener noreferrer\">qbmqjhor</a></li>\n<li>Admin jobs page now includes more information about recently run jobs. Useful for getting a global view of jobs and for reviewing jobs that are not tracked in the UI history (such as history import/export jobs).  Thanks to Kyle Ellrott. <a href=\"https://bitbucket.org/galaxy/galaxy-central/pull-request/466/\" target=\"_blank\" rel=\"noopener noreferrer\">PR#466</a> <a href=\"https://bitbucket.org/galaxy/galaxy-central/pull-request/467/\" target=\"_blank\" rel=\"noopener noreferrer\">PR#467</a> (add 466 ticket here) <a href=\"https://trello.com/c/fjXBjXti\" target=\"_blank\" rel=\"noopener noreferrer\">fjXBjXti</a></li>\n<li>Added support for Illumina 1.8+ fastq headers to <code>tools/fastq/fastq_paired_end_joiner</code>. Thanks to Simone Leo. <a href=\"https://bitbucket.org/galaxy/galaxy-central/pull-request/281/\" target=\"_blank\" rel=\"noopener noreferrer\">PR#281</a><a href=\"https://bitbucket.org/galaxy/galaxy-central/pull-request/177/\" target=\"_blank\" rel=\"noopener noreferrer\">PR#177</a> <a href=\"https://trello.com/c/YjjFv3Rv\" target=\"_blank\" rel=\"noopener noreferrer\">YjjFv3Rv</a></li>\n<li>Updated wiki documentation for admin activities related to <a href=\"http://wiki.galaxyproject.org/Admin/DataIntegration\" target=\"_blank\" rel=\"noopener noreferrer\">data integration</a>. <a href=\"https://trello.com/c/FinBeDet\" target=\"_blank\" rel=\"noopener noreferrer\">FinBeDet</a></li>\n<li>Function ‘migration 104’ was using a ‘Session()’ object and this conflicted with <code>threadlocal</code> configuration. Fix removed <code>threadlocal</code> from <code>universe_wsgi.ini.sample</code>, the root cause of ‘103 is not 105' migration errors seen lately. <a href=\"https://bitbucket.org/galaxy/galaxy-central/pull-request/439/\" target=\"_blank\" rel=\"noopener noreferrer\">PR#439</a> <a href=\"https://trello.com/c/EVVA5mmZ\" target=\"_blank\" rel=\"noopener noreferrer\">EVVA5mmZ</a></li>\n</ol>\n<h1 id=\"fixed\"><a href=\"#fixed\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Fixed</h1>\n<div class='right'> ![](/src/images/news-graphics/2014_10_06_trello-5A2czklq.png) </div>\n1. Fastq groomer had a one-off difference with sequence count. [d1IIKmGK](https://trello.com/c/d1IIKmGK)\n1. Now job_files.py allows writing the VERSION_STRING back for a job. [lWAPW3hd](https://trello.com/c/lWAPW3hd)\n1. Corrected issue where the loading label in a history would duplicate if clicked multiple times (see pic). [5A2czklq](https://trello.com/c/5A2czklq) \n1. The job lock function, located in the UI \"Admin panel: Manage jobs\" group, has been reintroduced. [BTDaHy9m](https://trello.com/c/BTDaHy9m)\n1. Bug fix for the testing framework associated with <repeat> tags. [XjtA0ty5](https://trello.com/c/XjtA0ty5)\n1. General Grid bug in Admin’s ‘Browse Installed Repositories’ page is now resolved. [JwBOTgVl](https://trello.com/c/JwBOTgVl)\n1. Fix \"histories, set_as_current\" failing when used without an existing session. [KzqulfCU](https://trello.com/c/KzqulfCU)\n1. Bug fix for when [CasperJS](http://casperjs.org/) tests hang under certain conditions. [IzAEX87N](https://trello.com/c/IzAEX87N)\n1. Fix for displaying wiggle ( `.wig` ) datasets in Trackster. [hkFhaRnt](https://trello.com/c/hkFhaRnt)\n1. Fix for usage case where Workflows would occasionally be multi-submitted to the job queue. [2l1cCAeS](https://trello.com/c/2l1cCAeS)\n1. Galaxy no longer produces invalid tool detail JSON (and potentially elsewhere) due to \"infinity\" tool input values. [TjbNbadP](https://trello.com/c/TjbNbadP)\n1. Issues with cluster jobs running as real user with LSF/drmaa are now resolved. Big thanks to Chong Chen and IBM. See ticket for full details: [5moWcFEd](https://trello.com/c/5moWcFEd) \n1. Failure to import ‘exported histories’ is now resolved (parameter ‘sanitation’ was the issue). [OPeYs049](https://trello.com/c/OPeYs049)\n1. Scratchbook was not displaying all file formats due to other recent changes, but now it does again. [Ojx8UXc8](https://trello.com/c/Ojx8UXc8)\n1. Now use ‘log.debug’ instead of ‘warn’ for purposely disabled visualization plugins. [1TYOBGQ8](https://trello.com/c/1TYOBGQ8)\n1. Admin \"manage data libraries\" tool corrected to include all completion messages/buttons. [eG8lkNbl](https://trello.com/c/eG8lkNbl)\n1. PBKDF2 authentication no longer impacts FTP logins, using [ProFTPD](http://www.proftpd.org/) 1.3.5 (3rd party bug fix). [8oho1Ojy](https://trello.com/c/8oho1Ojy)\n1. The \"Manage library permissions\" page now displays and functions correctly in all of the latest browsers. [9pwSPQdR](https://trello.com/c/9pwSPQdR)\n1. Fixed bug with [Pulsar](https://www.openhub.net/p/pulsar) regarding retry/resume of interrupted [cURL](http://en.wikipedia.org/wiki/CURL) transfers. [ul77OiPm](https://trello.com/c/ul77OiPm)\n<h1 id=\"gossip\"><a href=\"#gossip\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gossip</h1>\n<ol>\n<li>In other news, please see our prior two <em>Updates</em>:<br />\n• <a href=\"http://wiki.galaxyproject.org/GalaxyUpdates/2014-09\" target=\"_blank\" rel=\"noopener noreferrer\">September 2014 Galaxy Update</a><br />\n• <a href=\"http://wiki.galaxyproject.org/GalaxyUpdates/2014-10\" target=\"_blank\" rel=\"noopener noreferrer\">October 2014 Galaxy Update</a></li>\n</ol>\n<h1 id=\"security\"><a href=\"#security\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Security</h1>\n<p>\\&#x3C;!> On July 31st, we fixed a serious security vulnerability in Galaxy and notified the community. Please <strong><em>upgrade immediately</em></strong> if you haven’t done so already: <a href=\"http://tinyurl.com/nhgmbc5\" target=\"_blank\" rel=\"noopener noreferrer\">Instructions</a>. Stay connected! We both <a href=\"https://wiki.galaxyproject.org/MailingLists\" target=\"_blank\" rel=\"noopener noreferrer\">email</a> and <a href=\"https://twitter.com/galaxyproject\" target=\"_blank\" rel=\"noopener noreferrer\">tweet</a> security alerts.</p>\n<h1 id=\"upgrades\"><a href=\"#upgrades\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Upgrades</h1>\n<ol>\n<li>Review instructions for core build: <a href=\"http://getgalaxy.org\" target=\"_blank\" rel=\"noopener noreferrer\">Getting the Stable Distribution</a></li>\n<li>Review reset for Toolshed repos: <a href=\"http://wiki.galaxyproject.org/ResettingMetadataForInstalledRepositories\" target=\"_blank\" rel=\"noopener noreferrer\">Resetting Metadata For Installed Repositories</a></li>\n</ol>\n<h1 id=\"about-galaxy\"><a href=\"#about-galaxy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>About Galaxy</h1>\n<div class='left'><a href='http://usegalaxy.org'><img src=\"/images/logos/GalaxyLogoHighRes.png\" alt=\"UseGalaxy.org\" width=\"200\" /></a></div>\n**[About Galaxy](/src/support/about-galaxy/index.md)** • [Galaxy Project](/src/galaxy-project/index.md) • [Admin](/src/admin/index.md) • [Issues](/src/issues/index.md) • [Big Picture](/src/galaxy-project/index.md) • [Community](/src/community/index.md) • [Get Galaxy](/src/admin/get-galaxy/index.md) • [CloudMan](/src/cloudman/index.md) • [Tool Shed](/src/toolshed/index.md) • [Develop](/src/develop/index.md) • [News Briefs](/src/docs/index.md) • [Servers](/src/use/index.md) • [Learn](/src/learn/index.md) • [Support](/src/support/index.md) • [Galaxy Biostar](http://biostar.usegalaxy.org) • [News](/src/news/index.md) • [Twitter](/src/galaxy-on-twitter/index.md) • [Events](/src/events/index.md) • [Teach](/src/teach/index.md) • [Issues](/src/issues/index.md) • [Cite](/src/citing-galaxy/index.md) • [Galaxy Team](/src/galaxy-team/index.md)\n"}},"context":{}}