{"hash":"a97cc003ab7b7b0128b2927bf289a961e571a0b8","data":{"article":{"id":"f6e10b90007391fa18c1ef0c2f48dd3d","title":"","tease":"","category":null,"date":null,"days":null,"contact":"","contact_url":"","authors":"","location":"","location_url":"","source_blog":"","source_blog_url":"","skip_title_render":null,"redirect":"","autotoc":null,"links":[],"image":"","images":{},"external_url":"","content":"<div class=\"toc-wrapper col-md-3\">\n<ul>\n<li>\n<p><a href=\"#data-library-templates\">Data Library Templates</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#adding-a-template-to-a-data-library\">Adding a template to a data library</a></li>\n<li><a href=\"#inheriting-a-template-to-a-dataset\">Inheriting a template to a dataset</a></li>\n<li><a href=\"#inheriting-a-template-to-a-folder\">Inheriting a template to a folder</a></li>\n<li><a href=\"#more-about-template-inheritance\">More about template inheritance</a></li>\n<li><a href=\"#editing-a-template\">Editing a template</a></li>\n<li><a href=\"#deleting-a-template\">Deleting a template</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>\n<div class=\"body-wrapper col-md-9\">\n<h1 id=\"data-library-templates\"><a href=\"#data-library-templates\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Data Library Templates</h1>\n<hr>\n<p>Data library templates provide a way to associate information (metadata) with the data library or it's contained folders and datasets.  A template\nis based on a Galaxy form, which must be defined before the template can be associated with a data library or any of it's contents.  There\nare several types of Galaxy forms, and forms on which data library templates are based must be of type \"Library information template\".</p>\n<p>This document assumes that you are in the Admin perspective which is available only to <a href=\"/admin/\">admin users</a>\nand is accessed by clicking on the \"Admin\" link in the top Galaxy menu bar.  However, users that are not admin users can also be granted\npermission to add and edit data library templates, although they will be doing so from the Data Libraries perspective which is accessible\nby clicking on the \"Data Libraries\" option in the \"Shared Data\" pop-up menu in the top Galaxy menu bar.  For information about setting data\nlibrary permissions for non-admin users, see our <a href=\"/admin/data-libraries/LibrarySecurity/\">Data Libraries Security page</a>.</p>\n<h3 id=\"adding-a-template-to-a-data-library\"><a href=\"#adding-a-template-to-a-data-library\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Adding a template to a data library</h3>\n<p>To add a template to a data library, select the \"Add template\" option from the data library pop-up menu.</p>\n<p><code>![](/src/data-libraries/library_popup_menu.png)</code></p>\n<p>If no forms of type \"Library information template\" exist, the following page will be displayed (if a form of of that type does exist, you'll\nbe able to select it rather than having to create a new one).</p>\n<p><code>![](/src/data-libraries/create_form.png)</code></p>\n<p>The form \"Name\" and \"Description\" fields must be filled in and the \"Type\" selected (make sure to select \"Library information template\") as\nthe first action on this page.  You can then import the form definition (the field layout) from a stored csv file, or manually add fields by\nclicking the \"Add field\" button and setting the field type for each additional desired field.  The current list of supported field types is:</p>\n<ul>\n<li>AddressField - displays a set of text fields that allows a user to enter a mailing address</li>\n<li>CheckboxField - displays a check box</li>\n<li>SelectField - displays a select list whose options are specified by you when this type is chosen</li>\n<li>TextArea - displays a text area</li>\n<li>TextField - displays a text field</li>\n<li>WorkflowField - displays a select list whose options are the current user's workflows</li>\n</ul>\n<p><code>![](/src/data-libraries/form_definition1.png)</code></p>\n<p>Form field attributes are \"Label\", \"Help text\", \"Type\", and whether filling in the field is required or optional.  For this example, we'll\ncreate a template that consists of just one optional field of type TextArea.</p>\n<p><code>![](/src/data-libraries/form_definition2.png)</code></p>\n<p>When you have finished adding fields, click the \"Save\" button at the bottom of the page.  Then, to add the template based on this new form to\nthe data library, click on the \"Manage data libraries\" link in the Administration menu in the left menu panel, select the data library from the\ndata libraries browser, and select the \"Add template\" option once again from the data library pop-up menu (see details above).  You'll now\nbe presented with a list containing all existing forms of type \"Library information template\" from which you can choose the template.  When\nyou select a specific form from the list, the field layout for that form is displayed to help you choose the one you want.</p>\n<p><code>![](/src/data-libraries/add_template.png)</code></p>\n<p>If checked, the checkbox labeled \"Inherit template to contained folders and datasets?\", will display the fields in this template on the\ninformation pages for folders and datasets contained within the data library (more details on this will be presented shortly).  When you've\nselected the template you want, click the \"Add template to data library\" button, and the page containing the information about the data\nlibrary (including the newly added template fields in the \"Other information\" section) will be displayed.  You can fill in the template\nfields on this page.  The pop-up menu to the right of the \"Other information\" section title allows you to edit the template layout, delete\nthe template from the data library, or inherit / dis-inherit the template to contained folders and datasets.  We'll leave the template as\ninherited for now to demonstrate how inheritance works.</p>\n<p><code>![](/src/data-libraries/library_info.png)</code></p>\n<h3 id=\"inheriting-a-template-to-a-dataset\"><a href=\"#inheriting-a-template-to-a-dataset\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Inheriting a template to a dataset</h3>\n<p>Let's add a new dataset to our data library.  From the data library information page displayed above, click the \"Browse this data library\"\nbutton in the upper right corner of the page and then click the \"Add datasets\" button in the upper right corner of the resulting page.<br>\nThis will display the \"Create new library datasets\" page, which includes the inherited template fields.  Notice that the contents of the\ntemplate fields are also inherited (these can be over-written).  See our <a href=\"/admin/data-libraries/uploading-library-files/\">uploading files to a data library page</a>\nfor more details about uploading files to a data library.</p>\n<p><code>![](/src/data-libraries/upload_dataset.png)</code></p>\n<p>After uploading the dataset to the data library, clicking on the dataset name (when browsing the selected data library) will display a page\ncontaining the information about the dataset.  The inherited template fields are included in the \"Other information\" section of\nthe page.</p>\n<p><code>![](/src/data-libraries/dataset_info.png)</code></p>\n<h3 id=\"inheriting-a-template-to-a-folder\"><a href=\"#inheriting-a-template-to-a-folder\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Inheriting a template to a folder</h3>\n<p>Let's add a new folder to our data library.  From the data libraries browser, browse to the desired data library, and click the \"Add folder\"\nbutton in the upper right corner of the page.  The \"Create a new folder\" page will be displayed, allowing you to provide a name and optional\ndescription for the folder.  When you have filled in these fields, click the \"Create\" button at the bottom of the page to create the folder.</p>\n<p><code>![](/src/data-libraries/create_folder.png)</code></p>\n<p>After the folder is created, the following page is displayed allowing you to edit the name and description of the folder and fill in the\ninherited template fields.  Notice that although the inherited template fields and contents are displayed, they are not associated with the\nfolder until you click the \"Save\" button.  This behavior allows you to more easily select another template to associate with the folder if\nyou want to override the inherited template.  Click the \"Save\" button at the bottom of each section on the page if you make any changes.</p>\n<p><code>![](/src/data-libraries/folder_info1.png)</code></p>\n<p>After the folder is created, clicking on the folder name (when browsing the selected data library) will display the same page above, and\n(if filled in) the inherited template fields are included in the \"Other information\" section of the page.</p>\n<h3 id=\"more-about-template-inheritance\"><a href=\"#more-about-template-inheritance\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>More about template inheritance</h3>\n<p>Templates can be inherited and dis-inherited whenever you want.  For example, if you inherit a template from a data library to a folder and\nkeep the template \"inherited\" at the folder level, all new sub-folders and datasets within the folder will inherit the template.  Over time,\nyou can choose to \"Dis-inherit\" the template, after which the template will no longer be inherited by folders and datasets added <strong>after</strong> it\nwas dis-inherited.  The same behavior occurs at any level in the data library hierarchy.  The lowest level of template inheritance is a dataset\n(i.e., the \"Other information\" section for a dataset's information page will not include a pop-up menu containing the\n\"Inherit template / Dis-inherit template\" items).</p>\n<h3 id=\"editing-a-template\"><a href=\"#editing-a-template\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Editing a template</h3>\n<p>Over time, you may wish to change the layout of a template that is associated with a data library, folder or dataset.  To do this, select the\n\"Edit template\" option from the pop-up menu for the item and the \"Edit form definition\" page will be displayed.</p>\n<p><code>![](/src/data-libraries/edit_template.png)</code></p>\n<p>Here you can alter any of the attributes of existing form fields and you can add new fields to the layout or delete existing fields from\nthe layout.  Folders and datasets that previously inherited the original layout will not be affected (their template layout and contents will\nremain as they are), but those added to the data library after the template is edited will inherit the new layout.</p>\n<h3 id=\"deleting-a-template\"><a href=\"#deleting-a-template\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Deleting a template</h3>\n<p>At any time you can delete a template from a data library, folder or dataset.  Folders and datasets that inherited the template before it\nwas deleted will still have the template.  Deleting a template eliminates the fields and field contents from the associated information page</p>\n</div>\n"}},"context":{}}