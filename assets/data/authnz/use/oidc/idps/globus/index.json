{"hash":"a97cc003ab7b7b0128b2927bf289a961e571a0b8","data":{"article":{"id":"ce1b7a115b448d8fa904ea7725d46ec9","title":"Login to Galaxy Using Your Globus Account","tease":"","category":null,"date":null,"days":null,"contact":"","contact_url":"","authors":"","location":"","location_url":"","source_blog":"","source_blog_url":"","skip_title_render":null,"redirect":"","autotoc":null,"links":[],"image":"","images":{},"external_url":"","content":"<div class=\"toc-wrapper col-md-3\">\n<ul>\n<li><a href=\"#login-programmatically\">Login Programmatically</a></li>\n<li><a href=\"#how-to-disconnect-my-globus-account-from-galaxy\">How to disconnect my Globus account from Galaxy?</a></li>\n</ul>\n</div>\n<div class=\"body-wrapper col-md-9\">\n<p><em>This page explains how to use this feature, for admin-specific docs, please refer to <a href=\"/authnz/config/oidc/idps/globus/\">this</a> page.</em></p>\n<p>We currently support login to a Galaxy instance using your Globus account,\n<a href=\"#login-programmatically\">programmatically</a>; and we're working on necessary\nUI components.</p>\n<h2 id=\"login-programmatically\"><a href=\"#login-programmatically\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Login Programmatically</h2>\n<p>You can login to Galaxy using your Globus credentials by directly interacting with Galaxy's\n<a href=\"https://github.com/galaxyproject/galaxy/blob/eba0eb6f0865679c09e9896c410957bc6cb2927a/lib/galaxy/webapps/galaxy/controllers/authnz.py#L17\" target=\"_blank\" rel=\"noopener noreferrer\"><code>authnz</code> controller</a>.\nTo do so, you may take the following steps:</p>\n<ol>\n<li>\n<p>Type the following address in your browser, after replacing <code>[Base URI]</code> with the URI of your Galaxy instance:</p>\n<pre><code>[Base URI]/authnz/globus/login\n</code></pre>\n<p>In other words, send an HTTP <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3\" target=\"_blank\" rel=\"noopener noreferrer\"><code>GET</code></a> request to the\naforementioned URI.</p>\n</li>\n<li>\n<p>In response, Galaxy returns a JSON object containing <code>redirect_uri</code>, which is a URL to Globus's\nauthorization endpoint with all the information required to identifying your Galaxy instance. For instance:</p>\n<pre><code class=\"language-json\" class=\"..\">{\n   \"redirect_uri\": \"https://auth.globus.org/v2/oauth2/authorize?nonce= ... &#x26;state= ... &#x26;redirect_uri=http://localhost:8080/authnz/globus/callback&#x26;prompt=consent&#x26;response_type=code&#x26;client_id= ... &#x26;scope=openid+profile+email&#x26;access_type=offline\",\n}\n</code></pre>\n<p>Copy this URI and pasted it in your browsers's address bar; or in other words, send a <code>GET</code> request to this URL.</p>\n</li>\n<li>You would then see Globus's login page (if you're not already logged in),\nthen login via your preferred method, which then you would be taken to Galaxy\nand will automatically login.</li>\n</ol>\n<h2 id=\"how-to-disconnect-my-globus-account-from-galaxy\"><a href=\"#how-to-disconnect-my-globus-account-from-galaxy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>How to disconnect my Globus account from Galaxy?</h2>\n<p>When you're logged into Galaxy using your Globus account, visit the following page:</p>\n<pre><code>[Base URI]/authnz/globus/disconnect\n</code></pre>\n<p>where <code>[Base URI]</code> is the URL from which the Galaxy instance you're using is accessible. For instance:</p>\n<pre><code>http://localhost:8080/authnz/globus/disconnect\n</code></pre>\n<p>The disconnect process will remove all your Globus account tokens from Galaxy's database, but\nwill keep your Galaxy user account active.</p>\n</div>\n"}},"context":{}}