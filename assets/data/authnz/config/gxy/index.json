{"hash":"4f66c62fb6940f4cd6ecf5e4a1e2d62361ec5ff4","data":{"article":{"id":"6280db392ee51908e356b51f2733988c","title":"Galaxy Username and Password","tease":"","category":null,"date":null,"days":null,"contact":"","contact_url":"","fileInfo":{"path":"build/content-md/authnz/config/gxy/index.md"},"authors":"","location":"","location_url":"","source_blog":"","source_blog_url":"","skip_title_render":null,"redirect":"","autotoc":null,"links":[],"image":"","images":{},"external_url":"","content":"<div class=\"toc-wrapper col-md-3\">\n<ul>\n<li><a href=\"#user-activation\">User Activation</a></li>\n<li><a href=\"#changing-email-address\">Changing email address</a></li>\n<li><a href=\"#grace-period\">Grace period</a></li>\n<li><a href=\"#disposable-email-address-filtering\">Disposable email address filtering</a></li>\n</ul>\n</div>\n<div class=\"body-wrapper col-md-9\">\n<p><em>This page explains how to configure this feature, for user-specific docs, please refer to <a href=\"/authnz/use/gxy/\">this</a> page.</em></p>\n<p>Without any additional configuration Galaxy will simply use its database to maintain\nusernames and passwords. The Galaxy user interface and API provide functions allowing\nusers to register accounts, change passwords, and etc.</p>\n<h1 id=\"user-activation\"><a href=\"#user-activation\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>User Activation</h1>\n<p>Galaxy admins using the default authentication mechanism have an option to turn on\nthe email verification feature to force users to provide working email during the\nregistration. You can also turn on the disposable email domains filter to disable\nregistration for users using known disposable email provider.</p>\n<p>Note: SQLite database is not supported with this feature. Please use PostgreSQL.</p>\n<p>In the Galaxy config file config/galaxy.yml there is the user activation setting that you have to turn on.</p>\n<pre><code>user_activation_on: true\n</code></pre>\n<p>There is also the option for tracking jobs in database that is required to be\nturned on for the account activation to be effective. By default it is off.</p>\n<pre><code>track_jobs_in_database: true\n</code></pre>\n<p>After you turn on both of these every user that will try to register after this\nconfiguration file takes effect will have the verification email sent to the email\naddress provided. Unless the Grace period (see below) is set, the user won’t\nbe able to login before the verification happens.</p>\n<p>Furthermore in order for this to work correctly smtp server and admin email should be set:</p>\n<pre><code>smtp_server: some.server.edu:587\nsmtp_username: example_username\nsmtp_password: example_passsword\nactivation_email: activation-noreply@example.com\nerror_email_to: admin@example.com\n</code></pre>\n<p>Smtp server takes care of the email sending and the activation_email email is used as\nthe From address in the verification email. Furthermore the error_email_to is being\nshown to the user if the Galaxy detects its own misconfiguration.</p>\n<p>You can also set the instance_resource_url which is shown in the activation emails\nso you can point users to your wiki or other materials.</p>\n<pre><code>instance_resource_url = http://galaxyproject.org/\n</code></pre>\n<p>The final activation email looks like this:</p>\n<pre><code>Hello &#x3C;user_name>,\n\nIn order to complete the activation process for &#x3C;user_email> begun on &#x3C;date> at &#x3C;hostname>, please click on the following link to verify your account:\n\ntest.galaxyproject.org/activate?activation_token=46701ecdbbf2a79a7348ddae33062774edadef59&#x26;email=example%40example.com\n\nBy clicking on the above link and opening a Galaxy account you are also confirming that you have read and agreed to Galaxy's Terms and Conditions for use of this service (&#x3C;link_to_terms_config>). This includes a quota limit of one account per user. Attempts to subvert this limit by creating multiple accounts or through any other method may result in termination of all associated accounts and data.\n\nPlease contact us if you need help with your account at: &#x3C;error_email_to_config>. You can also browse resources available at: &#x3C;instance_resources_url_config>.\n\nMore about the Galaxy Project can be found at galaxyproject.org\n\nYour Galaxy Team\n</code></pre>\n<h1 id=\"changing-email-address\"><a href=\"#changing-email-address\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Changing email address</h1>\n<p>If an activated user changes email address in user settings, his/her account will be\ndeactivated. A new activation link will be sent and the user will have to visit\nit to activate the account again.</p>\n<h1 id=\"grace-period\"><a href=\"#grace-period\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Grace period</h1>\n<p>In case you want the account activation feature but don’t want to disable\nlogin completely you can set the activation_grace_period parameter. It specifies,\nin hours, the period in between registration time and the login time that\nthe user will be allowed to log in even with an inactive account.</p>\n<pre><code># Activation grace period. Activation is not forced (login is not disabled) until \n# grace period has passed. Users under grace period can't run jobs (see inactivity_box_content).\n# In hours. Default is 3. Enter 0 to disable grace period. \n# Users with OpenID logins have grace period forever. \n#activation_grace_period = 3\n</code></pre>\n<p>However with inactive account the user won’t be able to run jobs and warning message\nwill be shown to him at the top of the page. It is customizable via the\ninactivity_box_content parameter.</p>\n<pre><code># Used for warning box for inactive accounts (unable to run jobs).\n# In use only if activation_grace_period is set.\n#inactivity_box_content = Your account has not been activated yet. Please activate your account by verifying your email address. For now you can access everything at Galaxy but your jobs won't run.\n</code></pre>\n<h1 id=\"disposable-email-address-filtering\"><a href=\"#disposable-email-address-filtering\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Disposable email address filtering</h1>\n<p>To prevent users from using disposable email addresses as a workaround for\nthe email verification the domain blacklist can be turned on through the\nblacklist_file path parameter. Users that use disposable email domains\ndefined at the file in this provided path will be refused registration.</p>\n<pre><code># E-mail domains blacklist is used for filtering out users that are using disposable email address\n# during the registration. If their address domain matches any domain in the BL they are refused the registration.\nblacklist_file = config/disposable_email_blacklist.conf\n</code></pre>\n<p>Disposable domains blacklist file for download and modification is <a href=\"https://github.com/martenson/disposable-email-domains/blob/master/disposable_email_blocklist.conf\" target=\"_blank\" rel=\"noopener noreferrer\">at GitHub</a>.</p>\n<p>In the file each domain is on its own line and without the @ sign. Example of the blacklist file format:</p>\n<pre><code>drdrb.com\nmailinator.com\nsogetthis.com\nspamgourmet.com\ntrashmail.net\nkurzepost.de\nobjectmail.com\nproxymail.eu\nrcpt.at\ntrash-mail.at\ntrashmail.at\ntrashmail.me\nwegwerfmail.de\nwegwerfmail.net\nwegwerfmail.org\n</code></pre>\n</div>\n"}},"context":{}}