{"hash":"833cd7e24cd461bad7de6bb0d6be755efc588fb3","data":{"article":{"id":"ffc9a5cbf4a70b44d62dfb94569c5298","title":"CloudMan Troubleshooting","tease":"","skip_title_render":null,"image":"","images":{},"contact":"","inserts":[{"name":"/cloudman/header","content":"<div class='center'><img src=\"/images/galaxy-logos/cloudman-logo.jpg\" alt=\"CloudMan Logo\" width=\"50%\" /></div>\n<br />\n"},{"name":"/cloudman/linkbox-horizontal","content":"<div style=\"margin-bottom: 15px; padding: 0 5px; background-color: #DFE5F9;\">\n    [CloudMan home](/cloudman/) |\n    [Getting Started](/cloudman/getting-started) |\n    [Cluster Types](/cloudman/cluster-types) |\n    [Capacity Planning](/cloudman/capacity-planning) |\n    [Application Services](/cloudman/services) |\n    [Cluster Sharing](/cloudman/sharing) |\n    [Instance User Data](/cloudman/userdata) |\n    [Customizing](/cloudman/customizing) |\n    [Building on a private cloud](/cloudman/building) |\n    [Troubleshooting](/cloudman/troubleshooting) |\n    [FAQ](/cloudman/faq)\n</div>\n"}],"date":null,"content":"\n<slot name=\"/cloudman/header\" />\n\n<slot name=\"/cloudman/linkbox-horizontal\" />\n\nThe following documentation can help you troubleshoot problems that you might have with your cloud system.\nFor additional help with this system, you can search the [mailing list archives](https://lists.galaxyproject.org/archives/list/galaxy-dev@lists.galaxyproject.org/), [help forum](https://help.galaxyproject.org/), [IRC channel log](https://botbot.me/freenode/galaxyproject/), or post a question to any of those venues.\n\n### Log files\n\nLog files are available for problem diagnosis. Each launched instance (master or worker) will have their respective logs in the same locations, which are as follows:\n\n<div class='center'>\n\n| Log path |  Description  |\n| -------- | ------------ |\n| */var/log/cloudman/cm_autorun.log* |  As an instance starts, this is the first CloudMan-related log file that gets created. The bootstrap script */usr/bin/cm_autorun.py* logs here as it will initiate the cluster startup process by processing [instance user data](/cloudman/userdata/), downloading and invoking *cm_boot.py* script (see below). The mentioned script is automatically invoked by an [upstart](http://upstart.ubuntu.com/) job (at launch level 2, 3, 4, or 5), as defined in */etc/init/cloudman.conf*.  |\n| */var/log/cloudman/cm_boot.log* |  This log file contains the output from */tmp/cm/[cm_boot.py](https://github.com/galaxyproject/cloudman/blob/master/cm_boot.py)* script as it prepares the instance for CloudMan, starts the web server, downloads CloudMan (from the cluster's bucket or the default bucket) and then launches the CloudMan application.  |\n| */var/log/cloudman/cloudman.log* |  This is the main CloudMan application log file and it contains all the logging output as the application runs. The contents of this file are also available from the CloudMan Admin page. The main log file is automatically rotated by [logrotate](http://www.linuxcommand.org/man_pages/logrotate8.html) to keep the file of manageable size. The logrotate definition is stored at */etc/logrotate.d/cloudman* (as defined in the corresponding [Ansible role](https://github.com/galaxyproject/ansible-cloudman-image/blob/master/files/cloudman.logrotate)) and the rotated files will be available in the CloudMan application's runtime directory, */mnt/cm*.  |\n| */mnt/galaxy/galaxy-app/main.log* |  This is the main Galaxy application log file. It is also available from the CloudMan Admin page.  |\n\n</div>\nNote that the CloudMan application log file locations have changed with the Mid 2015 release; for the locations of log files on older instances, see [this page](http://cloudman.irb.hr/blog/2013/03/06/cloudman-startup-procedure/).<br />\nFor log files of individual services running within the system, see the page specific to the [particular service](/src/cloudman/services/index.md).\n\n### Connect to Galaxy database\n\nYour cloud cluster is configured with a PostgreSQL database for use by Galaxy. By default, the database is stored in `/mnt/galaxy/db` and is available on port 5950. To connect to the database, switch to the *galaxy* system user and connect to it with the following command: `psql -p 5950`\n"}},"context":{}}