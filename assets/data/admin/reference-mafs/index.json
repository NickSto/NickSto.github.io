{"hash":"91d4a83f9855c194893a1f5e294057505b0cd33d","data":{"article":{"id":"23c18a39e241ffd18656af3d1c67d5c2","title":"","tease":"","category":null,"date":null,"days":null,"contact":"","contact_url":"","authors":"","location":"","location_url":"","source_blog":"","source_blog_url":"","skip_title_render":null,"links":[],"image":"","images":{},"external_url":"","content":"<div class=\"toc-wrapper col-md-3\">\n<ul>\n<li>\n<p><a href=\"#adding-mafs-to-galaxy\">Adding MAFs to Galaxy</a></p>\n<ul>\n<li><a href=\"#how-to-index-mafs\">How to index MAFs</a></li>\n<li><a href=\"#format-of-tool-datamaf_indexloc\">Format of tool-data/maf_index.loc</a></li>\n<li>\n<p><a href=\"#description-of-fields\">Description of Fields</a></p>\n<ul>\n<li><a href=\"#first-field\">First Field</a></li>\n<li><a href=\"#second-field\">Second Field</a></li>\n<li><a href=\"#third-field\">Third Field</a></li>\n<li><a href=\"#fourth-field\">Fourth Field</a></li>\n<li><a href=\"#fifth-field\">Fifth Field</a></li>\n</ul>\n</li>\n<li><a href=\"#an-example-entry\">An Example Entry</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#some-questionsanswers\">Some Questions/Answers</a></p>\n<ul>\n<li><a href=\"#why-doesnt-my-maf-set-appear-in-my-drop-down-menu\">Why doesn't my MAF set appear in my drop down menu?</a></li>\n</ul>\n</li>\n</ul>\n</div>\n<div class=\"body-wrapper col-md-9\">\n<h2 id=\"adding-mafs-to-galaxy\"><a href=\"#adding-mafs-to-galaxy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Adding MAFs to Galaxy</h2>\n<p>Related to:</p>\n<ul>\n<li><a href=\"/admin/data-preparation/\">Admin/DataPreparation</a></li>\n<li><a href=\"/admin/data-integration/\">Admin/DataIntegration</a></li>\n</ul>\n<hr>\n<p>Adding additional MAFs to Galaxy involves editing the file <a href=\"https://github.com/galaxyproject/galaxy/blob/dev/tool-data/maf_index.loc.sample\" target=\"_blank\" rel=\"noopener noreferrer\">tool-data/maf_index.loc</a> located within your Galaxy directory.</p>\n<p>Before adding MAFs to Galaxy, they must be indexed.</p>\n<h3 id=\"how-to-index-mafs\"><a href=\"#how-to-index-mafs\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>How to index MAFs</h3>\n<p>The scripts required to index MAFs are found in the <a href=\"https://github.com/bxlab/bx-python\" target=\"_blank\" rel=\"noopener noreferrer\">bx-python</a> distribution; you will need to download this package separately from Galaxy.</p>\n<pre><code>maf_build_index.py MAF_FILENAME\n</code></pre>\n<p>for each MAF file.</p>\n<p>See the <a href=\"https://github.com/bxlab/bx-python/blob/master/scripts/maf_build_index.py\" target=\"_blank\" rel=\"noopener noreferrer\">maf_build_index.py</a> script (within the bx-python package) for additional options, such as limiting the species which are indexed.</p>\n<p>Once you have added MAFs, the Galaxy server must be reset (or tools reloaded) so that it can be made aware of the changes.</p>\n<h3 id=\"format-of-tool-datamaf_indexloc\"><a href=\"#format-of-tool-datamaf_indexloc\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Format of tool-data/maf_index.loc</h3>\n<ul>\n<li>\n<p>Tab-delimited file</p>\n<ul>\n<li>There are 5 required fields</li>\n</ul>\n</li>\n<li>Lines beginning with <strong>#</strong> are ignored</li>\n</ul>\n<h3 id=\"description-of-fields\"><a href=\"#description-of-fields\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Description of Fields</h3>\n<h4 id=\"first-field\"><a href=\"#first-field\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>First Field</h4>\n<ul>\n<li>\n<p>Display Name, as seen by Users</p>\n<ul>\n<li>i.e. <code>3-way multiZ (hg18,panTro2,rheMac2</code></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"second-field\"><a href=\"#second-field\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Second Field</h4>\n<ul>\n<li>\n<p>A unique ID for the MAFs</p>\n<ul>\n<li>i.e. <code>3_WAY_MULTIZ_hg18</code></li>\n<li>\n<p>Any combination of letters and/or numbers is acceptable</p>\n<ul>\n<li>Except the keyword <strong>None</strong>, do not use it or else your data won't be accessible</li>\n</ul>\n</li>\n<li>\n<p>Make sure that the ID that you select is different than any other</p>\n<ul>\n<li>If not, one of the datasets will be unknown to the tool</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"third-field\"><a href=\"#third-field\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Third Field</h4>\n<ul>\n<li>\n<p>Comma-separated list of database builds which have been indexed.</p>\n<ul>\n<li>i.e. <code>hg18,mm6,canFam1,panTro1</code></li>\n</ul>\n</li>\n<li>\n<p>If species name in MAF file differs from build ID:</p>\n<ul>\n<li>\n<p>build1[=name_in_file],build2[=name_in_file]</p>\n<ul>\n<li>i.e. <code>hg18=human,mm6=mouse</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"fourth-field\"><a href=\"#fourth-field\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Fourth Field</h4>\n<ul>\n<li>\n<p>Comma-separated list of database builds which exist in the file.</p>\n<ul>\n<li>i.e. <code>hg18,mm6,canFam1,panTro1</code></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"fifth-field\"><a href=\"#fifth-field\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Fifth Field</h4>\n<ul>\n<li>Comma-separated list of full paths to the .MAF files</li>\n<li>These files must be accessible to the Galaxy Server</li>\n</ul>\n<h3 id=\"an-example-entry\"><a href=\"#an-example-entry\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>An Example Entry</h3>\n<p>You want to add a set of MAFs with the following characteristics:</p>\n<ul>\n<li>Has the description of \"3-way multiZ (hg18,panTro2,rheMac2\"</li>\n<li>Decide upon and confirm that the UID \"3_WAY_MULTIZ_hg18\" has not been used</li>\n<li>\n<p>There are a number of MAFs located in <code>/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/</code> which belong to this set.</p>\n<ul>\n<li>The files are accessible to the galaxy server</li>\n</ul>\n</li>\n</ul>\n<p>The entry would look like this:</p>\n<pre><code>3-way multiZ (hg18,panTro2,rheMac2) 3_WAY_MULTIZ_hg18   hg18,panTro2,rheMac2    hg18,panTro2,rheMac2    /cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr10.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr10_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr11.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr11_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr12.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr13.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr13_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr14.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr15.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr15_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr16.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr16_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr17.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr17_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr18.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr18_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr19.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr19_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr1.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr1_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr20.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr21.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr21_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr22_h2_hap1.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr22.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr22_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr2.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr2_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr3.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr3_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr4.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr4_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr5_h2_hap1.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr5.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr5_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr6_cox_hap1.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr6.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr6_qbl_hap2.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr6_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr7.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr7_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr8.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr8_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr9.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chr9_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chrM.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chrX.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chrX_random.maf,/cache/maf/hg18/align/hg18-panTro2-rheMac2.new/chrY.maf\n</code></pre>\n<h2 id=\"some-questionsanswers\"><a href=\"#some-questionsanswers\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Some Questions/Answers</h2>\n<h3 id=\"why-doesnt-my-maf-set-appear-in-my-drop-down-menu\"><a href=\"#why-doesnt-my-maf-set-appear-in-my-drop-down-menu\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Why doesn't my MAF set appear in my drop down menu?</h3>\n<ul>\n<li>\n<p>You didn't reset the server or reload the tool</p>\n<ul>\n<li>The server must be reset in order for the tool to be aware of its presence</li>\n</ul>\n</li>\n<li>\n<p>You did not include all the required fields</p>\n<ul>\n<li>Fields are delimited by tabs</li>\n</ul>\n</li>\n<li>\n<p>The file you specified isn't accessible to the Galaxy server</p>\n<ul>\n<li>Check permissions</li>\n</ul>\n</li>\n<li>\n<p>The file you specified doesn't exist</p>\n<ul>\n<li>Check your spelling</li>\n</ul>\n</li>\n<li>\n<p>You used an ID (field 2) which matches another dataset</p>\n<ul>\n<li>Or someone reused your ID</li>\n</ul>\n</li>\n</ul>\n</div>\n"}},"context":{}}