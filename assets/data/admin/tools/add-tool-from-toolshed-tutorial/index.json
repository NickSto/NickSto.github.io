{"hash":"c32ecfdb33b075b0057598b5b9118f3554a398cf","data":{"article":{"id":"b73f58c0d9e62e115eb289b1ec21b6c6","title":"Installing Tools into Galaxy","tease":"","image":"","images":{},"category":null,"contact":"","date":null,"content":"<h2 id=\"ways-to-get-tools-into-galaxy\"><a href=\"#ways-to-get-tools-into-galaxy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ways to get tools into Galaxy</h2>\n<ul>\n<li>Install a tool from the <a href=\"/src/toolshed/index.md\">Tool Shed</a>. The process has to be completed by an administrator and can be done through the <a href=\"/src/admin/index.md\">Admin Interface</a>.</li>\n<li>If the tool you need does not exist in the Tool Shed you can add it to your Galaxy instance manually. Please see the <a href=\"/src/admin/tools/add-tool-tutorial/index.md\">Add Tool Tutorial</a>.</li>\n<li>Automated installation - The process of installing tools from Tool Shed can be performed in an automated way using a set of scripts. This is particularly useful if you are trying to install a large number of tools. The required scripts are available as an <a href=\"http://www.ansible.com/home\" target=\"_blank\" rel=\"noopener noreferrer\">Ansible</a> playbook from <a href=\"https://github.com/afgane/galaxy-tools-playbook\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>. Please see that page for complete instructions.</li>\n</ul>\n<h2 id=\"vocabulary\"><a href=\"#vocabulary\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Vocabulary</h2>\n<ul>\n<li><em>repository</em> - Tools in Tool Shed are stored in versioned code archives called repositories. There may be more tools per repository.</li>\n</ul>\n<h2 id=\"find-the-tool-you-want-to-use\"><a href=\"#find-the-tool-you-want-to-use\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Find the tool you want to use</h2>\n<ul>\n<li>Find the tool in some other Galaxy instance that already has it.</li>\n<li>Use the Tool Shed search or browse categories and tools at <a href=\"https://toolshed.g2.bx.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">https://toolshed.g2.bx.psu.edu/</a>.</li>\n<li>Use the experimental search at <a href=\"http://toolshed.tools/\" target=\"_blank\" rel=\"noopener noreferrer\">http://toolshed.tools/</a>.</li>\n</ul>\n<h2 id=\"connect-your-galaxy-to-a-tool-shed\"><a href=\"#connect-your-galaxy-to-a-tool-shed\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Connect your Galaxy to a Tool Shed</h2>\n<p>Galaxy is by default connected to the Main Tool Shed. However you can optionally connect to other custom Tool Sheds by modifying the <code>config/tool_sheds_conf.xml</code> file in the Galaxy directory. There are few more Tool Sheds worldwide but the Galaxy Team maintains two: <a href=\"http://toolshed.g2.bx.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Main Tool Shed</a> and <a href=\"http://testtoolshed.g2.bx.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Test Tool Shed</a>. By default, the Main Tool Shed is already configured in Galaxy and we recommend using it.</p>\n<p>However you can add as many Tool Sheds as you want to the configuration file of your Galaxy.</p>\n<pre><code>&#x3C;?xml version=\"1.0\"?>\n&#x3C;tool_sheds>\n    &#x3C;tool_shed name=\"Galaxy Main Tool Shed\" url=\"http://toolshed.g2.bx.psu.edu/\"/>\n    &#x3C;OTHER TOOL SHED>\n&#x3C;/tool_sheds>\n</code></pre>\n<div class=\"alert alert-success trim-p\" role=\"alert\">\n<p>To install tools from a Tool Shed you need to have <a href=\"https://www.mercurial-scm.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Mercurial</a> available on the system that runs Galaxy.</p>\n</div>\n<h2 id=\"open-the-tool-shed\"><a href=\"#open-the-tool-shed\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Open the Tool Shed</h2>\n<p>Go to Galaxy <a href=\"/src/admin/index.md\">Admin Interface</a> and click <code>Install new tools</code>.</p>\n<p>You will see the following in the middle panel:</p>\n<p><img src=\"/src/admin/tools/add-tool-from-toolshed-tutorial/connected_toolsheds.png\" alt=\"Connected Toolsheds\"></p>\n<h2 id=\"search-for-a-repository\"><a href=\"#search-for-a-repository\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Search for a repository</h2>\n<p>Click <code>Search for valid repositories</code>. (You can also search for tools directly.)</p>\n<h2 id=\"enter-the-name-of-the-repository-you-are-searching-for\"><a href=\"#enter-the-name-of-the-repository-you-are-searching-for\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Enter the name of the repository you are searching for</h2>\n<p>Next, you can put in the repository name and hit <code>Search</code>.  In our example, we'll search for <code>bwa</code>.</p>\n<p><img src=\"/src/admin/tools/add-tool-from-toolshed-tutorial/search_valid_tools.png\" alt=\"Search Valid Tools\"></p>\n<h2 id=\"select-a-repository-to-install\"><a href=\"#select-a-repository-to-install\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Select a repository to install</h2>\n<p>After searching, you can select a repository to install.  In our case, we'll install <code>bwa</code> from the owner <code>devteam</code>.</p>\n<p><img src=\"/src/admin/tools/add-tool-from-toolshed-tutorial/install_bwa.png\" alt=\"Install BWA\"></p>\n<h2 id=\"preview-the-repository\"><a href=\"#preview-the-repository\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Preview the repository</h2>\n<p>On the next page you can preview the contents of the repository including all tools and a readme file.</p>\n<p><img src=\"/src/admin/tools/add-tool-from-toolshed-tutorial/repository_install_preview.png\" alt=\"Repository Install Preview\"></p>\n<h2 id=\"confirm-dependencies\"><a href=\"#confirm-dependencies\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Confirm dependencies</h2>\n<p>Finally, we can confirm our dependencies installation (if any) and choose the panel section we want to show the repository's tools in. If you keep the settings as is, the shown dependencies will be handled automatically either by Conda or Tool Shed package recipes. To learn more you can visit documentation about <a href=\"https://docs.galaxyproject.org/en/master/admin/dependency_resolvers.html\" target=\"_blank\" rel=\"noopener noreferrer\">dependency resolution</a> and <a href=\"https://docs.galaxyproject.org/en/master/admin/conda_faq.html\" target=\"_blank\" rel=\"noopener noreferrer\">Conda</a>.</p>\n<p><img src=\"/src/admin/tools/add-tool-from-toolshed-tutorial/bwa_conda_details.png\" alt=\"BWA Conda Details\"></p>\n<h2 id=\"sit-down-and-relax\"><a href=\"#sit-down-and-relax\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Sit down and relax</h2>\n<p>..and wait for the installation to proceed.</p>\n<p>As you're waiting for your tool to install, you can leave the page freely, as the installation will continue in the background. As of Galaxy version <a href=\"https://docs.galaxyproject.org/en/master/releases/16.10_announce.html\" target=\"_blank\" rel=\"noopener noreferrer\">16.10</a> you do not need to restart Galaxy to have the tools loaded. If you have an older version please make sure to restart the Galaxy process (this also applies to any handlers your Galaxy uses) so the new tools will get loaded properly.</p>\n<p>The tool will show up in the tool panel of the section you selected, and the users can use it.</p>\n<p><img src=\"/src/admin/tools/add-tool-from-toolshed-tutorial/tool_installation.png\" alt=\"Tool Installation\"></p>\n<p>You can monitor the installation progress of the tool if you click on <code>Monitor installing tool shed repositories</code> in the <a href=\"/src/admin/index.md\">Admin Interface</a>.</p>\n<p>You can also check the states of all installed tools if you click <code>Manage installed tool shed repositories</code> in the <a href=\"/src/admin/index.md\">Admin Interface</a>.</p>\n<p><img src=\"/src/admin/tools/add-tool-from-toolshed-tutorial/repo_status.png\" alt=\"Repository Status\"></p>\n"}},"context":{}}