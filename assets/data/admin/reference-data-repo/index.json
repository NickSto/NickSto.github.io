{"hash":"63d22f0da01df1c20668abb9131ced4a3fe89696","data":{"article":{"id":"1a6d5747423cff1fef0be6bdaa860593","title":"","tease":"","category":null,"date":null,"days":null,"contact":"","contact_url":"","authors":"","location":"","location_url":"","source_blog":"","source_blog_url":"","skip_title_render":null,"redirect":"","links":[],"image":"","images":{},"external_url":"","content":"<div class=\"toc-wrapper col-md-3\">\n<ul>\n<li>\n<p><a href=\"#usegalaxyorg-reference-data\">usegalaxy.org Reference Data</a></p>\n<ul>\n<li><a href=\"#data-structure\">Data Structure</a></li>\n<li><a href=\"#converting-formats\">Converting Formats</a></li>\n<li><a href=\"#related-topics\">Related topics</a></li>\n<li>\n<p><a href=\"#mounting-reference-data-with-cernvm-fs-cvmfs\">Mounting Reference Data with CernVM-FS (CVMFS)</a></p>\n<ul>\n<li><a href=\"#cvmfs-considerations\">CVMFS Considerations</a></li>\n<li>\n<p><a href=\"#cvmfs-client-configuration\">CVMFS Client Configuration</a></p>\n<ul>\n<li><a href=\"#dynamic\">Dynamic</a></li>\n<li><a href=\"#static\">Static</a></li>\n<li><a href=\"#test-the-client\">Test the Client</a></li>\n</ul>\n</li>\n<li><a href=\"#galaxy-configuration\">Galaxy Configuration</a></li>\n<li><a href=\"#cvmfs-server-details\">CVMFS Server Details</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#obtaining-reference-data-with-rsync-or-http\">Obtaining Reference Data with Rsync or HTTP</a></p>\n<ul>\n<li><a href=\"#rysnc-server-name\">Rysnc Server Name</a></li>\n<li><a href=\"#example-data-retrieval\">Example Data Retrieval</a></li>\n<li><a href=\"#organization-and-dbkey\">Organization and DBKEY</a></li>\n</ul>\n</li>\n<li><a href=\"#location-loc-files\">Location (*.loc) Files</a></li>\n</ul>\n</li>\n</ul>\n</div>\n<div class=\"body-wrapper col-md-9\">\n<h1 id=\"usegalaxyorg-reference-data\"><a href=\"#usegalaxyorg-reference-data\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>usegalaxy.org Reference Data</h1>\n<p><a href=\"http://usegalaxy.org\" target=\"_blank\" rel=\"noopener noreferrer\">usegalaxy.org</a> (<a href=\"/main/\">Main</a> is home to over 4 TB of reference data. This is\ncomprised mainly of genome sequence builds and associated prebuilt indexes for the tools installed on usegalaxy.org, as\nwell as the Galaxy-specific configuration files that make the data known to those tools. Because preparing this data for\nyour own <strong><a href=\"/admin/get-galaxy/\">local</a></strong> Galaxy server or an external application can be a laborious\nprocess, we have made this reference available from a variety of schemes.</p>\n<h2 id=\"data-structure\"><a href=\"#data-structure\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Data Structure</h2>\n<p>The data repository can be browsed via HTTP at <a href=\"http://datacache.galaxyproject.org\" target=\"_blank\" rel=\"noopener noreferrer\">http://datacache.galaxyproject.org</a>.</p>\n<p>There are two primary directories in the reference data repository:</p>\n<ul>\n<li><a href=\"http://datacache.galaxyproject.org/managed/\" target=\"_blank\" rel=\"noopener noreferrer\">/managed</a>: Data generated with <a href=\"https://galaxyproject.org/admin/tools/data-managers/\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy Data Managers</a>, organized by data table (index\nformat), then by genome build.</li>\n<li><a href=\"http://datacache.galaxyproject.org/indexes/\" target=\"_blank\" rel=\"noopener noreferrer\">/byhand</a>: Data generated prior to the existence/use of Data Managers, manually curated. For legacy\nreasons, this directory is shared as <a href=\"http://datacache.galaxyproject.org/indexes/\" target=\"_blank\" rel=\"noopener noreferrer\">/indexes</a> on the HTTP and rsync servers.</li>\n</ul>\n<p>These directories have somewhat different structures:</p>\n<ul>\n<li><strong>/managed</strong> is organized by index type, then by genome build (Galaxy <strong>dbkey</strong>)</li>\n<li><strong>/byhand</strong> is organzied by genome build, then by index type</li>\n</ul>\n<p>Both directories contain a <code>location</code> subdirectory, and each of these contain a <code>tool_data_table_conf.xml</code> file:</p>\n<ul>\n<li><a href=\"http://datacache.galaxyproject.org/managed/location/tool_data_table_conf.xml\" target=\"_blank\" rel=\"noopener noreferrer\">/managed/location/tool_data_table_conf.xml</a></li>\n<li><a href=\"http://datacache.galaxyproject.org/indexes/location/tool_data_table_conf.xml\" target=\"_blank\" rel=\"noopener noreferrer\">/byhand/location/tool_data_table_conf.xml</a></li>\n</ul>\n<p>Galaxy consumes these <code>tool_data_table_conf.xml</code> files and the <code>.loc</code> \"location\" files they reference. The paths\ncontained in these files are valid if the data is mounted via CVMFS.</p>\n<p>Examples of data include:</p>\n<ul>\n<li><a href=\"https://genome.ucsc.edu/goldenpath/help/twoBit.html\" target=\"_blank\" rel=\"noopener noreferrer\">twoBit</a> (<code>.2bit</code>) and FASTA (<code>.fa</code>) sequence files</li>\n<li><a href=\"http://bowtie-bio.sourceforge.net/bowtie2/\" target=\"_blank\" rel=\"noopener noreferrer\">Bowtie 2</a> and <a href=\"http://bio-bwa.sourceforge.net/\" target=\"_blank\" rel=\"noopener noreferrer\">BWA</a> indexes</li>\n<li><a href=\"https://wiki.nci.nih.gov/display/TCGA/Mutation+Annotation+Format+(MAF)+Specification\" target=\"_blank\" rel=\"noopener noreferrer\">Mutation Annotation Format</a> (<code>.maf</code>) files</li>\n<li>SAMTools FASTA indexes (<code>.fai</code>)</li>\n</ul>\n<p>You can either use the data and Data Table Configuration / location files as-is (with path editing to fit your\nenvironment), or use these as models, or simply move the data into your own custom hierarchy.</p>\n<h2 id=\"converting-formats\"><a href=\"#converting-formats\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Converting Formats</h2>\n<p>Most genome sequences in Galaxy are in <a href=\"https://genome.ucsc.edu/goldenpath/help/twoBit.html\" target=\"_blank\" rel=\"noopener noreferrer\">twoBit</a> format. To convert these to FASTA, use the <code>twoBitToFa</code> tool\navailable from UCSC. There are many common bioinformatics tools to that can be used for file manipulations, but this and\nother related tools are in the <a href=\"http://genome.ucsc.edu\" target=\"_blank\" rel=\"noopener noreferrer\">UCSC Genome Browser</a> source code <a href=\"http://hgdownload.cse.ucsc.edu/downloads.html\" target=\"_blank\" rel=\"noopener noreferrer\">downloads</a> section.</p>\n<h2 id=\"related-topics\"><a href=\"#related-topics\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Related topics</h2>\n<ul>\n<li><a href=\"/admin/data-integration/\">Data Integration</a></li>\n<li><a href=\"/admin/data-preparation/\">Data Preparation</a></li>\n</ul>\n<h2 id=\"mounting-reference-data-with-cernvm-fs-cvmfs\"><a href=\"#mounting-reference-data-with-cernvm-fs-cvmfs\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mounting Reference Data with CernVM-FS (CVMFS)</h2>\n<p>The usegalaxy.org reference data is housed in a <a href=\"http://cvmfs.readthedocs.io\" target=\"_blank\" rel=\"noopener noreferrer\">CernVM-FS (CVMFS)</a> repository that distributes the data in\nmultiple replicas across the United States and Europe. Because of this, it is possible to directly mount the data\ndirectly on your Galaxy server. CVMFS is a caching, HTTP-based filesystem with a <a href=\"https://github.com/libfuse/libfuse\" target=\"_blank\" rel=\"noopener noreferrer\">Linux Filesystem in Userspace\n(FUSE)</a> (mount) client. FUSE has been a part of Linux since kernel version 2.6.14, so it should already be\navailable on all modern Linux systems.</p>\n<p>When initially mounted, CVMFS does not consume any local disk space on the client (in this case, your Galaxy server).\nInstead, as files are accessed, they are pulled from one of the replica (<em>Stratum 1</em>) servers to a local disk-based\ncache of a configurable size.</p>\n<p>Currently, the <a href=\"https://github.com/bgruening/docker-galaxy-stable\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy Docker Image</a> image and <a href=\"https://galaxyproject.org/cloudman/\" target=\"_blank\" rel=\"noopener noreferrer\">CloudMan</a> images are preconfigured to\nmount this data.</p>\n<h3 id=\"cvmfs-considerations\"><a href=\"#cvmfs-considerations\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CVMFS Considerations</h3>\n<p>In order to effectively use CVMFS, you should be aware that the reference data will need to be mounted on both your\nGalaxy server and any compute resources (i.e. cluster nodes) on which you will run jobs against that data. Mounting\nrequires root privileges. CVMFS does provide workarounds for systems where direct mounting is not an option, these are\ndiscussed in the <a href=\"http://cvmfs.readthedocs.io/en/stable/cpt-hpc.html\" target=\"_blank\" rel=\"noopener noreferrer\">CernVM-FS on Supercomputers</a> documentation.</p>\n<p>If you are running more than a small cluster (~5 nodes) and/or are run tools that aggressively access the reference data\nwith a very small cache, please configure at least a <a href=\"http://cvmfs.readthedocs.io/en/stable/cpt-hpc.html\" target=\"_blank\" rel=\"noopener noreferrer\">local proxy</a>, if not a full <a href=\"http://cvmfs.readthedocs.io/en/stable/cpt-replica.html\" target=\"_blank\" rel=\"noopener noreferrer\">Stratum\n1</a> (replica/mirror). <strong>Overloading the public Stratum 1 servers can result in a traffic block in order\nto maintain service availability.</strong></p>\n<p>Before you begin, it is a good idea to become acquianted with the CVMFS <a href=\"http://cvmfs.readthedocs.io/en/stable/cpt-overview.html\" target=\"_blank\" rel=\"noopener noreferrer\">Overview</a>, <a href=\"http://cvmfs.readthedocs.io/en/stable/cpt-quickstart.html\" target=\"_blank\" rel=\"noopener noreferrer\">Getting\nStarted</a> and <a href=\"http://cvmfs.readthedocs.io/en/stable/cpt-quickstart.html\" target=\"_blank\" rel=\"noopener noreferrer\">Client Configuration</a> documentation.</p>\n<h3 id=\"cvmfs-client-configuration\"><a href=\"#cvmfs-client-configuration\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CVMFS Client Configuration</h3>\n<p>The CVMFS documentation is very thorough, so we do not provide step by step instructions on configuring a client, as\nthis can be performed simply by following the <a href=\"http://cvmfs.readthedocs.io/en/stable/cpt-quickstart.html\" target=\"_blank\" rel=\"noopener noreferrer\">Getting Started</a> and <a href=\"http://cvmfs.readthedocs.io/en/stable/cpt-quickstart.html\" target=\"_blank\" rel=\"noopener noreferrer\">Client\nConfiguration</a> documentation. Alternatively, the <a href=\"https://galaxy.ansible.com/galaxyproject/cvmfs\" target=\"_blank\" rel=\"noopener noreferrer\">galaxyproject.cvmfs Ansible role</a>\ncan be used to quickly set up the client configuration.</p>\n<p>If configuring by hand, once installed, you should be able to run <code>cvmfs_config</code> to perform the basic CVMFS setup.</p>\n<h4 id=\"dynamic\"><a href=\"#dynamic\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Dynamic</h4>\n<p>The preferred configuration method is to use the <code>cvmfs-config.galaxyproject.org</code> <a href=\"https://cvmfs.readthedocs.io/en/stable/cpt-configure.html#the-config-repository\" target=\"_blank\" rel=\"noopener noreferrer\">CVMFS Config\nRepository</a>, which will provide automatic configuration for all galaxyproject.org CVMFS repositories\n(including <code>data.galaxyproject.org</code>) and keep them up to date.</p>\n<p>To configure, add the Galaxy-specific configuration files:</p>\n<p><strong>/etc/cvmfs/default.local</strong></p>\n<pre><code class=\"language-bash\" id=\"\">CVMFS_HTTP_PROXY=\"DIRECT\"\nCVMFS_QUOTA_LIMIT=\"4000\"    # the cache size in MB\nCVMFS_USE_GEOAPI=yes        # sort server list by geographic distance from client\n</code></pre>\n<p><strong>/etc/cvmfs/config.d/cvmfs-config.galaxyproject.org.conf</strong></p>\n<pre><code class=\"language-bash\">CVMFS_SERVER_URL=\"http://cvmfs1-psu0.galaxyproject.org/cvmfs/@fqrn@;http://cvmfs1-iu0.galaxyproject.org/cvmfs/@fqrn@;http://cvmfs1-tacc0.galaxyproject.org/cvmfs/@fqrn@\"\nCVMFS_PUBLIC_KEY=\"/etc/cvmfs/keys/galaxyproject.org/cvmfs-config.galaxyproject.org.pub\"\n</code></pre>\n<p><strong>/etc/cvmfs/default.d/80-galaxyproject-cvmfs.conf</strong></p>\n<pre><code class=\"language-bash\">CVMFS_CONFIG_REPOSITORY=\"cvmfs-config.galaxyproject.org\"\nCVMFS_DEFAULT_DOMAIN=\"galaxyproject.org\"\n</code></pre>\n<p><strong>/etc/cvmfs/keys/galaxyproject.org/cvmfs-config.galaxyproject.org.pub</strong></p>\n<pre><code class=\"language-pub\">-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuJZTWTY3/dBfspFKifv8\nTWuuT2Zzoo1cAskKpKu5gsUAyDFbZfYBEy91qbLPC3TuUm2zdPNsjCQbbq1Liufk\nuNPZJ8Ubn5PR6kndwrdD13NVHZpXVml1+ooTSF5CL3x/KUkYiyRz94sAr9trVoSx\nTHW2buV7ADUYivX7ofCvBu5T6YngbPZNIxDB4mh7cEal/UDtxV683A/5RL4wIYvt\nS5SVemmu6Yb8GkGwLGmMVLYXutuaHdMFyKzWm+qFlG5JRz4okUWERvtJ2QAJPOzL\nmAG1ceyBFowj/r3iJTa+Jcif2uAmZxg+cHkZG5KzATykF82UH1ojUzREMMDcPJi2\ndQIDAQAB\n-----END PUBLIC KEY-----\n</code></pre>\n<h4 id=\"static\"><a href=\"#static\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Static</h4>\n<p>If not using the dynamic config repository method in the previous section, you can statically configure the\n<code>data.galaxyproject.org</code> CVMFS repository. To do so, add the Galaxy-specific configuration files:</p>\n<p><strong>/etc/cvmfs/default.local</strong></p>\n<pre><code class=\"language-bash\" id=\"\">CVMFS_REPOSITORIES=\"data.galaxyproject.org\"\nCVMFS_HTTP_PROXY=\"DIRECT\"\nCVMFS_QUOTA_LIMIT=\"4000\"    # the cache size in MB\nCVMFS_USE_GEOAPI=yes        # sort server list by geographic distance from client\n</code></pre>\n<p><strong>/etc/cvmfs/domain.d/galaxyproject.org.conf</strong></p>\n<pre><code class=\"language-bash\">CVMFS_SERVER_URL=\"http://cvmfs1-tacc0.galaxyproject.org/cvmfs/@fqrn@;http://cvmfs1-iu0.galaxyproject.org/cvmfs/@fqrn@;http://cvmfs1-psu0.galaxyproject.org/cvmfs/@fqrn@;http://galaxy.jrc.ec.europa.eu:8008/cvmfs/@fqrn@;http://cvmfs1-mel0.gvl.org.au/cvmfs/@fqrn@\"\nCVMFS_KEYS_DIR=\"/etc/cvmfs/keys/galaxyproject.org\"\n</code></pre>\n<p><strong>/etc/cvmfs/keys/galaxyproject.org/data.galaxyproject.org.pub</strong></p>\n<pre><code class=\"language-pub\">-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5LHQuKWzcX5iBbCGsXGt\n6CRi9+a9cKZG4UlX/lJukEJ+3dSxVDWJs88PSdLk+E25494oU56hB8YeVq+W8AQE\n3LWx2K2ruRjEAI2o8sRgs/IbafjZ7cBuERzqj3Tn5qUIBFoKUMWMSIiWTQe2Sfnj\nGzfDoswr5TTk7aH/FIXUjLnLGGCOzPtUC244IhHARzu86bWYxQJUw0/kZl5wVGcH\nmaSgr39h1xPst0Vx1keJ95AH0wqxPbCcyBGtF1L6HQlLidmoIDqcCQpLsGJJEoOs\nNVNhhcb66OJHah5ppI1N3cZehdaKyr1XcF9eedwLFTvuiwTn6qMmttT/tHX7rcxT\nowIDAQAB\n-----END PUBLIC KEY-----\n</code></pre>\n<h4 id=\"test-the-client\"><a href=\"#test-the-client\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Test the Client</h4>\n<p>Once configured, you should be able to access the data with <code>cd /cvmfs/data.galaxyproject.org</code>. You may need to restart\nAutoFS first with <code>systemctl restart autofs</code> (the exact command depends on your specific Linux distribution and\nrelease).</p>\n<p>The configuration given above is a minimum, please consult the CVMFS documentation to further tune your client.</p>\n<h3 id=\"galaxy-configuration\"><a href=\"#galaxy-configuration\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Galaxy Configuration</h3>\n<p>In <code>galaxy.yml</code> (<code>galaxy.ini</code> in older Galaxy Releases), configure the paths to the <code>tool_data_table_conf.xml</code> files\nwith the <code>tool_data_table_config_path</code> option in the <code>galaxy:</code> (<code>[app:main]</code> if using the ini file) section:</p>\n<pre><code class=\"language-yaml\">galaxy:\n    tool_data_table_config_path: /cvmfs/data.galaxyproject.org/byhand/location/tool_data_table_conf.xml,/cvmfs/data.galaxyproject.org/managed/location/tool_data_table_conf.xml,config/tool_data_table_conf.xml\n</code></pre>\n<p>Once your Galaxy server has been restarted, you should see the reference data in the tools that use them.</p>\n<h3 id=\"cvmfs-server-details\"><a href=\"#cvmfs-server-details\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CVMFS Server Details</h3>\n<p>The list of Stratum 1 servers for the <code>data.galaxyproject.org</code> CVMFS repository currently include:</p>\n<table>\n<thead>\n<tr>\n<th>Server</th>\n<th>Host</th>\n<th>Location</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>cvmfs1-psu0.galaxyproject.org</code></td>\n<td><a href=\"http://galaxyproject.org\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy Project</a></td>\n<td><a href=\"http://www.psu.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Penn State University</a>, Pennsylvania, USA</td>\n</tr>\n<tr>\n<td><code>cvmfs1-iu0.galaxyproject.org</code></td>\n<td><a href=\"http://galaxyproject.org\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy Project</a> via <a href=\"https://www.xsede.org/\" target=\"_blank\" rel=\"noopener noreferrer\">XSEDE</a></td>\n<td><a href=\"http://jetstream-cloud.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Jetstream Cloud</a> at <a href=\"http://www.indiana.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Indiana University</a>, Indiana, USA</td>\n</tr>\n<tr>\n<td><code>cvmfs1-tacc0.galaxyproject.org</code></td>\n<td><a href=\"http://galaxyproject.org\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy Project</a> via <a href=\"https://www.xsede.org/\" target=\"_blank\" rel=\"noopener noreferrer\">XSEDE</a></td>\n<td><a href=\"http://jetstream-cloud.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Jetstream Cloud</a> at the <a href=\"http://www.tacc.utexas.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Texas Advanced Computing Center</a>, <a href=\"http://www.utexas.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">University of Texas at Austin</a>, Texas, USA</td>\n</tr>\n<tr>\n<td><code>cvmfs1-mel0.gvl.org.au</code></td>\n<td><a href=\"https://gvl.org.au\" target=\"_blank\" rel=\"noopener noreferrer\">GVL Project</a></td>\n<td>Melbourne, Australia</td>\n</tr>\n<tr>\n<td><code>galaxy.jrc.ec.europa.eu:8008</code></td>\n<td><a href=\"https://ec.europa.eu/jrc\" target=\"_blank\" rel=\"noopener noreferrer\">European Commission Joint Research Centre</a></td>\n<td>Ispra, Italy</td>\n</tr>\n<tr>\n<td><code>cvmfs1-ufr0.galaxyproject.eu</code></td>\n<td><a href=\"https://ec.europa.eu/jrc\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy Project Europe/UseGalaxy.eu</a></td>\n<td>Freiburg, Germany</td>\n</tr>\n</tbody>\n</table>\n<p>The full path to the repository, e.g. for use in the <code>CVMFS_SERVER_URL</code> configuration parameter, where <code>&#x3C;SERVER:[PORT]></code>\nis one of the servers above and <code>&#x3C;REPO></code> is the CVMFS repo name, is:</p>\n<pre><code>http://&#x3C;SERVER:[PORT]>/cvmfs/&#x3C;REPO>\n</code></pre>\n<p>The reference data repo name is <code>data.galaxyproject.org</code>, but for use in <code>CVMFS_SERVER_URL</code>, you should use <code>@fqrn</code>, as\nCVMFS templates the repository name in to the URL for you.</p>\n<h2 id=\"obtaining-reference-data-with-rsync-or-http\"><a href=\"#obtaining-reference-data-with-rsync-or-http\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Obtaining Reference Data with Rsync or HTTP</h2>\n<p>In addition to directly mounting the data, it can be fetched with <a href=\"https://rsync.samba.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Rsync</a> or over the web using HTTP.  Rsync is a\nparticularly useful tool for this as it is able to both recursively retrieve data, as well as skip data that is already\npresent on the local side that has not changed.</p>\n<p>The <a href=\"https://github.com/galaxyproject/tools-iuc/tree/master/data_managers/data_manager_rsync_g2\" target=\"_blank\" rel=\"noopener noreferrer\">Rsync Data Manager</a> also fetches data from the reference data rsync server.</p>\n<p>The <code>rsync</code> command line tool is often preinstalled on many popular Linux distributions, but if it is not available, it\ncan be intalled via the system package manager, usually with the package name <code>rsync</code>. Consult your distribution's\ndocumentation for help.</p>\n<h3 id=\"rysnc-server-name\"><a href=\"#rysnc-server-name\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Rysnc Server Name</h3>\n<pre><code>datacache.galaxyproject.org\n</code></pre>\n<p>The server was also formerly referred to as <code>datacache.g2.bx.psu.edu</code>, which remains an alias to\n<code>datacache.galaxyproject.org</code>.</p>\n<p>The datacache server also performs a double duty as the <code>cvmfs1-psu0</code> CVMFS Stratum 1 server referenced in the previous\nsection.</p>\n<h3 id=\"example-data-retrieval\"><a href=\"#example-data-retrieval\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Example Data Retrieval</h3>\n<p>To download the complete directory for the <strong><a href=\"http://en.wikipedia.org/wiki/Phi_X_174\" target=\"_blank\" rel=\"noopener noreferrer\">phiX</a></strong> genome:</p>\n<pre><code class=\"language-console\">$ rsync -avzP rsync://datacache.galaxyproject.org/indexes/phiX .\n</code></pre>\n<p>Note the use of the <code>-z</code> flag, which compresses/decompresses data on the fly. This is not crucial for a small genome\nsuch as phiX, but significantly improves network performance for larger genomes. The additional flags are explained on\nin the documentation (accessible locally with <code>man rsync</code>).</p>\n<p>The final argument of <code>.</code> means that the data will be transferred to your current directory. You can replace <code>.</code> with a\npath to control where the data is downloaded to:</p>\n<pre><code class=\"language-console\">$ rsync -avzP rsync://datacache.galaxyproject.org/indexes/phiX /data/genomes\n</code></pre>\n<p>Most of the baterical genomes are nested one directory down in\n<a href=\"http://datacache.galaxyproject.org/indexes/microbes\" target=\"_blank\" rel=\"noopener noreferrer\">/indexes/microbes</a>. Thus, to fetch the sequence and indexes for a\nmicrobe, use a command like the following, where <code>63</code> is the assigned <strong>dbkey</strong> for the NCBI genome accession\n<code>NC_007622</code>, sourced from UCSC, and listed under GUI Genome Builds as <strong>Staphyloccus aureus RF122 (63)</strong>. For any\ngenome, the dbkey is the value (inside_here) of its UCSC name.</p>\n<pre><code>$ rsync -avzP rsync://datacache.galaxyproject.org/indexes/microbes/63 .\n</code></pre>\n<h3 id=\"organization-and-dbkey\"><a href=\"#organization-and-dbkey\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Organization and DBKEY</h3>\n<p>Genomes are organized in directories by reference genome <strong>dbkey</strong>. If you are not sure of the <strong>dbkey</strong>, it can be\nfound in the <a href=\"/main/\">Main</a> user interface. This value is what is populated into the <em>\"database\"</em> attribute\nfor a dataset. Or, it is the last value in parenthesis <em>(dbkey)</em> at the end of the full reference genome build name in\ntwo specific places in the <a href=\"https://usegalaxy.org/\" target=\"_blank\" rel=\"noopener noreferrer\">usegalaxy.org</a> interface:</p>\n<p><strong>Example: dbkey 'Tcas_3.0'</strong></p>\n<ul>\n<li><em>On <strong>Get Data -> Upload File</strong> tool:</em> <br /><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 455 56' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-60fa7611a82e53ca08ac2aaabd82ff4b'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-60fa7611a82e53ca08ac2aaabd82ff4b)' width='455' height='56' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAIAAADGAG6IAAAACXBIWXMAAAsSAAALEgHS3X78AAACeklEQVQ4y9VSaVPiQBT0//%2bRtSwPVAgYiAelS6kcriCHYgFJZibHzCQBApMDso%2bEdfUbfjTVNdXT73VnXjJ7QRgmP/nZk6R8uaxU8vli8UKRC%2bf5swup4C3EjxlAKcu/Ds8ui%2bX9g9PLK6VUUQ4OjhCfh9F6GcSfIWANVxt8FsN4KYCsxBf9Sw9YRGbfWrLmlfi03R1BtM6wHQA5q2mQsGXiiIQtEr5InGWCWAjAPAIgFhEnTkmIWZSJoCAeYifSaLDhLNLBwj8sUIqzEOKmJNP5pkenAeAjX7PF7gDjO5q%2bqrw/cQkcFwaATzgaDT2XO5xZGCN17HieWPpCLKhFDNPw/bnj2JRaoRAG0XSkM04ti4BuERJFAWe2P5%2bHgfDns9nMm3oObCEQQpYLn1rGfO6DYzR8XyygMo3j2J%2b5DoQamDH%2b3Tszm00hzbDom%2b4lyXovjEOpmD/PHVauq38eG73Gg1L9XSicdPqD9nNj/%2bgod3J6rchypdyqNwbd9nOv12zVpfNj5fr2siS3and5Se70O4N%2bt1CQSnJJKRfkclXKnV7dKJWbu1tZqjefu%2b32y9PT/X0td3I8GA5NNK43mg%2b1au3hMUlW61W8I%2bDEMECv22k0n141dzPABLuG5WiETpCNTdewPeAj1cCWi01HxRS2yOQ6YelKN7rlqtiGEjL4WDOR6RDb3bg0U8NURdvSBFmQCeEqYbrBIA22gNd3tfemQuBEtzTC4I07gtieyWbDMa63OrX6S3dEN1fI5AIxuMchADMBIDw0nCjlAXAAEMz/4b8OawCdJBU/OOQYaWeWidK21BikyVtknYQFiIrvQqdLRJdBCD8k%2bQshrpnwg1a6JgAAAABJRU5ErkJggg==' /%3e%3c/svg%3e\" width=\"455\" data-srcset=\"/assets/static/dbkey_UploadFile.baf5640.56f6da55d3bce331e916f76043c76c7b.png 455w\" data-sizes=\"(max-width: 455px) 100vw, 455px\" data-src=\"/assets/static/dbkey_UploadFile.baf5640.56f6da55d3bce331e916f76043c76c7b.png\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/dbkey_UploadFile.baf5640.56f6da55d3bce331e916f76043c76c7b.png\" width=\"455\"></noscript></li>\n<li><em>Under <strong>Edit Attributes</strong> (found by clicking on any dataset's upper right corner pencil icon):</em> <br /><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 264 119' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-a6cce96a2aae91b7b96044abca5e6295'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-a6cce96a2aae91b7b96044abca5e6295)' width='264' height='119' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAdCAIAAACVG/2gAAAACXBIWXMAAAsSAAALEgHS3X78AAAKnUlEQVRYw81X%2bVMbVxLmH9nf9qdsknVsczixE3uzySaVreymklQqx25tEifOYRPCaXMYcBIw2NhgwBwGmQhJCCNAXOI%2bDYjDJhySZnSM7lszo/saXdszAoKdra09qky6Wq/edH/d/b73ep6klEQ8Nt4vEAiHvMFwlAppNVofTILuuYVpXyAUoSIURYVC4KJCFBV0kzsbm%2bxOnhF3JhIJh82wtDjtDPjnJ4f1VkfiMCQl4sZvXalprLt9saC8qLS4tPpWS3PzpbLiwqKs0sKK4suXb9TdvH6jpiA3v/zqzU1ULrzb9vobH1TeaGpi3a1rrG%2b6XVFWUfn3Dz8aml87HAKJSLirrY3D7%2bbzeuobGvrHJu7eYTU21nP4Xe2srvq6er6gl9/Nbb/DHh4ZW3n4EN2RXq%2bu6%2b0dqKqr7xsZub8wxmJ3NdRVLe8g0VgiHn%2biyhBIwCwWi0WThOIgMdoTZSSRiME0zmCjEcrv8zEoMEKC2H4IxO8/PukTgLWpHQmJPrKto3YMEYkhKjVGd/QRiTEqMVAwgcekBTHHZaZo0rKlDUsMERpGj5SEDkwqAKhtXThphHFHv4tk9GdkMjaJl%2bzZGfyBbDQm%2bm/UF0qkwOehyksQBE56CNJtx51WB0k4PQ7S5SDchNPtIGDisjlIsMNoJ1ygTrcPkDba4nSQbhqPO%2blYO4nTj95kKggkXV6AOQjnfh46CU4ntzsATzCFnIzRSeeB/EyVpCWJf0wtNhwnCLneidmiKd5QYkPpDgVcGw/W1jY2SYLwul1yqQRTKXUYurAkRlCVzWJ2kqSLJEncYbfb9FrV3MK8A%2boAU5Iwm4xyBaLR6kgcd7vdiGxrcmpCvLJqs9sxTLG1uelyuew2qxbDlHIFjuMul9Nht5lNJtzh8LhdZpPBaDaTBA6ZdVqNyWSE3XTYrQQsBWdKOMnH1O/3%2bX0uzEhitghN4KHSHYv4Ojrabjc38zhc4ajoTnP7%2bur6ytRId9/YaL%2bwXyjkdfdMz8939/VtbG5tPlyuqKnmcNld3HtcLqeTxRIOiTidP7I5PXaLdm5qfn5FPD05OjoxNT412snp7GCxR0SDHI4AbFNDg7OiqZ7unvrWllnxqlqFiMYmZifGed2CEdEQl989Pj11r6t3sK%2bPz%2bW3trRuKzCfzwer3hfYo8XFRZNRp7N4VFaGwLYmEKN8iyviyVFRF48zNjP7YwcXRRWYdFOlsTxYvD80MCAaFXG7eL1jU5ALk0t43Xy%2boGdoUHTvXs/M1OSSeE00JOwRDLrdhHhxSabCtjbWt%2bXY%2bsO1weFBuLJGhodEozMba%2btj/T1d7G7x8trM0sIDiUynwyYmJnp4nM7uPtGIcHxypl/Y09rGXlvfnh4ZhU35SaYwGgxqjQaOH5h4vV6Px7O0tGw26sx4kGmhYAI1RRLxSDQaowVulGiUikTgmR4ikVg8HqHC9D0ViYAzwrhAmMuHjmGQFH2XMXaPxxWiIkk8jFSY2huZyy5Ko2JJKC0x%2bKJkSjMfkAhM4rSDvvviUI1iJHJAmFsxZnNRGnuMPgGFJUbiVoPBCFwPisViMZuhV0GSo8kIM/OezWjcG5IuI4MzWyzWx6Jo5/70oJj3dD8LU8K4Fwtm8wExMdWTdqvFaHIEdEQixROMS3RBJ2EPU5FwOJy88mn28YRSqQQL9V/K/xDyH6aFYwkEAskOCPg8KgOhwxMpTi%2b1rQ1Egp7F6TEWq0Op1iqUSkyjQeWK7t5%2b%2bnsqcfiS3Fa4wR48eIBhGMwj4aDa6MTgJaYJaPxUyA%2bHco/H7%2b0VtNQ3Xi79vqbiu%2bLKWjo4Fjt0AjFmDQiC7OzsLCwsMC9naPcaBQI72oDf6woE/GaDbmtnc2keLvGVNfFqewcvGRz/dQisW6/Xwx2qVKrg9YYWShKIAAGPi9g/qX2hwqHEr09g95mf96FdAqSXkhnCfrc95HcFvCSo30P4PTCSQZ8LjL8ehfUEvM6g10mFvEGvw2BjvsgIT1hhjWEm35KEWJeT6yi5ivys8Lj2qCWpYATwL%2b27XoT27gaij7tW/z%2bFDCsy8iel00jGVJYwQ8ASzWzVP5uJHPkGee5bJCMPTc%2bTH8tGM/LlYDmShcBjag4YUXCl5dKTo1nIM5mydBqJpueix7KR47sAeQYdizx9QQapjmeDC6VduWhq7i4yjYmChGCHEoCHSdKYxgCStZIJ05ko2sXgYQQvhJwuki/Lg3oHRRNQWmNfN2mfzUJK%2bJZzdern82HFSFab4c0yxZd39KVc80fXsD8UoS8UIM8XIC%2bXyJ/PRz9u0pdyDKcK0JMX0VOF6F8rVOdbDX8uAxeSUSDP7zRV9VrP1atfLVecbzecq9Ok58pOlyg%2bbdB9dlNzsgCFDK9cVrxWqjiRB7XQ18oVpwvRFy%2biZ0oU715V/bFE/sJF9NXLihcK0JcKoQQCaV8uUYD9neua96pUz34jA/sy%2biiB1IuKNW14YIlckHrvzhLzW54PK5X8%2b0Rjv40/R3CXnew5snnCMbzmfPcHZdUEKdMFZmXeYTE5s%2b2d3HQ1i4gFqa99wPxhneZ7nqmy314rtLDnCEg1sOIeXHb2iJ28WaJrGmdPOxr77cJV9yLiy2xQZ3PNDUNWwbKLO0/0LLs407hATPYukPwFUih2rip8zVPErVGHYMV5f9vNnsF/4JuOZkrPFKOPnkCzNjUPLeqy1PRZG4ds5QJL%2b6j9L7B/rbo3y5VXusy1Q/aqPit3gShiG45%2bK8u8a2obc9QO26/wzNW9liv3zJc6TDcGrAUt2jcqsGK28f2b2i8bNR/UanJ%2bNNYO2K/1WetFtlKOKY9luDON13SbM9sMl3jmv9Vg/7itu9ZvBZ41A9Yaoe07vrl9GmeJbF806q722m70W64P2pvH7dnt%2bpw7%2buv9tktt%2bt8DgaIDBOC30IUWHViPfCP93XnJ8RxZei7dRRl5stQcJC0XOZYtS82WPZclhU54JlNK93Gu7Hg27QVkRh5yIh%2bBZjiaLYPjTs2RvVKqAHvSm5Yjg34AztAGx76VQXJImMbY05g54E9dhEZHoGGgIliSPQy1IOoEswwGTyd8qVB%2bqoAOgZZ7hEBmq%2b6pr6Wf39aXcE1nb2lOF8pfKVFAswLRk9D6l%2bRZLOPb3ytOFikK2MYvGjVnLtGLgNRQBsjQhBkmMIcR2GbQhXc1aUzP3TXu7c6jAIZV%2bj4guS%2bMi86/j8yRMdyQRwhAC8FxnylTXROYy%2biWsH7HM%2bWwTaxxR4vI9noJ%2btsvJKw5suiO7myLnjOOc%2bbIz2vVcCD0K5v3pJVh9QsCF5q1L5Yoq/ssJRwzNKLgPjEr9Uk0AbHMW8YxvFmpqh%2b1V3eZCjtNHRN4y4Tj7E318WwEriA49yes0Bcn8tGXi1GxPKgDAqQnLLdEP2vQ/uaT7T%2bVK9%2b%2bqnrjivK9avU7VdhbldhbFar3ajTvX8dgs5%2b5IAU9ki07XYQeyYS3Rfr0hUNQWMNT56XwBt6XBfbeAWu8ccR6tl5zrlHz6S31Z/Xqj%2buwT%2brUn9xitA4e1eD6qkn7VbP2q9uazxs0MPn68PTLJm1Ou3ZLG9bYqBSnJzC96dLgCY09ocUTWuJfKPzxoQEORvED88NTWNIaFlWa/P8EBG50oq9DYVMAAAAASUVORK5CYII=' /%3e%3c/svg%3e\" width=\"264\" data-srcset=\"/assets/static/dbkey_EditAttributes.74b1aba.02d34b442162fa581f52a5819ebdd9b7.png 264w\" data-sizes=\"(max-width: 264px) 100vw, 264px\" data-src=\"/assets/static/dbkey_EditAttributes.74b1aba.02d34b442162fa581f52a5819ebdd9b7.png\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/dbkey_EditAttributes.74b1aba.02d34b442162fa581f52a5819ebdd9b7.png\" width=\"264\"></noscript></li>\n</ul>\n<h2 id=\"location-loc-files\"><a href=\"#location-loc-files\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Location (*.loc) Files</h2>\n<p>To retrieve an exact copy of the <code>.loc</code> files used by the tools on <strong><a href=\"https://usegalaxy.org\" target=\"_blank\" rel=\"noopener noreferrer\">usegalaxy.org</a></strong>, execute these rsync commands:</p>\n<pre><code>$ rsync -avzP rsync://datacache.galaxyproject.org/indexes/location/ location/byhand\n$ rsync -avzP rsync://datacache.galaxyproject.org/managed/location/ location/managed\n</code></pre>\n<hr>\n</div>\n"}},"context":{}}