{"hash":"8532f9dede357a757ee182f7a5f5306dccf4d8d2","data":{"article":{"id":"c3b0915b71d91000c765f04532a61346","title":"Get Galaxy","tease":"","image":"","images":{},"category":null,"contact":"","date":null,"content":"<p>Here you will find information on obtaining and setting up a Galaxy instance with default configuration.</p>\n<h1 id=\"requirements\"><a href=\"#requirements\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Requirements</h1>\n<ul>\n<li>UNIX/Linux or Mac OSX</li>\n<li><a href=\"/admin/python/\">Python 3.6 or newer</a></li>\n</ul>\n<h1 id=\"get-started\"><a href=\"#get-started\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Get Started</h1>\n<h2 id=\"for-production-or-single-user\"><a href=\"#for-production-or-single-user\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>For Production or Single User</h2>\n<p>If setting up or running a production Galaxy service or creating your own personal Galaxy instance, use the <a href=\"https://docs.galaxyproject.org/en/master/releases/\" target=\"_blank\" rel=\"noopener noreferrer\">latest release</a> branch, which only receives stable code updates.</p>\n<h3 id=\"cloning-new\"><a href=\"#cloning-new\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cloning new</h3>\n<p>If you do not have a Galaxy repository yet or you do not want to update the existing instance, run:</p>\n<pre><code>$ git clone -b release_21.01 https://github.com/galaxyproject/galaxy.git\n</code></pre>\n<h3 id=\"updating-existing\"><a href=\"#updating-existing\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Updating existing</h3>\n<p>If you have an existing Galaxy repository and want to update it, run:</p>\n<pre><code>$ git fetch origin &#x26;&#x26; git checkout release_21.01 &#x26;&#x26; git pull --ff-only origin release_21.01\n</code></pre>\n<h2 id=\"for-development\"><a href=\"#for-development\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>For Development</h2>\n<p>To obtain Galaxy for development, use the default branch after cloning: <code>dev</code>. This is the branch that pull requests should be made against to contribute code (unless you are fixing a bug in a Galaxy release).</p>\n<pre><code>$ git clone https://github.com/galaxyproject/galaxy.git\n</code></pre>\n<h1 id=\"start-it-up\"><a href=\"#start-it-up\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Start It Up</h1>\n<p>Galaxy requires a few things to run: a virtualenv, configuration files, and dependent Python modules. However, starting the server for the first time will create/acquire these things as necessary. To start Galaxy, simply run the following command in a terminal window:</p>\n<pre><code class=\"language-sh\">$ sh run.sh\n</code></pre>\n<p>This will start up the Galaxy server on localhost and port 8080. Galaxy can then be accessed from a web browser at <a href=\"http://localhost:8080\" target=\"_blank\" rel=\"noopener noreferrer\">http://localhost:8080</a>. After starting, Galaxy's server will print output to the terminal window. To stop the Galaxy server, use <code>Ctrl-C</code> in the terminal window from which Galaxy is running. If galaxy does not start, you may be using the conda python. See the <a href=\"https://docs.galaxyproject.org/en/master/admin/framework_dependencies.html#conda\" target=\"_blank\" rel=\"noopener noreferrer\">admin docs</a> for more details.</p>\n<h1 id=\"next-steps\"><a href=\"#next-steps\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Next Steps</h1>\n<h2 id=\"configure\"><a href=\"#configure\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Configure</h2>\n<p>Since the release 18.01 Galaxy will run fine without an explicit configuration file, but if you want to modify its settings you need to create one. A good start is to copy the sample and rename it to <code>galaxy.yml</code>. You can do so with this command:</p>\n<pre><code>cp config/galaxy.yml.sample config/galaxy.yml\n</code></pre>\n<h2 id=\"galaxy-over-network\"><a href=\"#galaxy-over-network\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Galaxy over network</h2>\n<p>To access Galaxy over the network, modify the <code>config/galaxy.yml</code> file by changing the <code>http</code> setting. Galaxy will bind to any available network interfaces instead of the localhost if you change it like this:</p>\n<pre><code>http: 0.0.0.0\n</code></pre>\n<h2 id=\"become-an-admin\"><a href=\"#become-an-admin\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Become an Admin</h2>\n<p>To control Galaxy through the UI (installing tools, managing users, creating groups, etc.), user must become an <a href=\"/admin/\">administrator</a>. Only registered users can become admins. To give a user admin privileges add the user's Galaxy login email to the configuration file <code>config/galaxy.yml</code>. If you don't have the file set it up using the instructions <a href=\"#configure\">above</a>. The entry looks like this:</p>\n<pre><code># this should be a comma-separated list of valid Galaxy users\nadmin_users: user1@example.com,user2@example.com\n</code></pre>\n<div class=\"alert alert-info\" role=\"alert\">\nYou need to restart Galaxy after configuration file changes.\n</div>\n<h2 id=\"install-tools\"><a href=\"#install-tools\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Install Tools</h2>\n<p>Galaxy comes with a small set of basic tools pre-installed. To install additional tools, follow the instructions on <a href=\"/admin/tools/add-tool-from-toolshed-tutorial/\">Installing tools into Galaxy from the Tool Shed</a>.</p>\n<h2 id=\"join-the-discussion\"><a href=\"#join-the-discussion\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Join the Discussion</h2>\n<p>To stay up-to-date on new Galaxy features and bug fixes, as well as to discuss future features, consider joining</p>\n<ul>\n<li>the <a href=\"https://lists.galaxyproject.org/lists/galaxy-dev.lists.galaxyproject.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy Developers mailing list</a>. (See <a href=\"/mailing-lists/\">Mailing Lists</a> for other options.)</li>\n<li>the <a href=\"https://gitter.im/galaxyproject/Lobby\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy Gitter Channel</a> for a chat-based interface.</li>\n</ul>\n<h2 id=\"keep-your-instance-backed-up\"><a href=\"#keep-your-instance-backed-up\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Keep your instance backed up</h2>\n<p>Like any other application, Galaxy directories and Galaxy database tables should be backed up, and any disaster recovery plans should be regularly tested to make sure everything is working as expected.</p>\n<h2 id=\"configure-for-production\"><a href=\"#configure-for-production\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Configure for production</h2>\n<p>The above instructions are intended for users wishing to develop Galaxy tools and Galaxy itself. To deploy a production-ready installation of Galaxy, some changes from the default configuration are highly recommended. If nothing else, switching to PostgreSQL database (from the default SQLite) is heavily endorsed to prevent database locking issues that can arise with multiple users.</p>\n<p>Please see the <a href=\"/admin/config/performance/production-server/\">Running Galaxy in a production environment</a> page for more details.</p>\n<h2 id=\"keep-your-code-up-to-date\"><a href=\"#keep-your-code-up-to-date\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Keep your code up to date</h2>\n<p>Galaxy development occurs in <a href=\"https://github.com/galaxyproject/galaxy/\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub</a>. Changes are stabilized in the <code>release_YY.MM</code> branches and then merged to <code>master</code> for each <code>YY.MM.point</code> release.</p>\n<p>To be made aware of new Galaxy releases, please join the <a href=\"https://lists.galaxyproject.org/lists/galaxy-dev.lists.galaxyproject.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy Developers mailing list</a>. Each release is accompanied by <a href=\"https://docs.galaxyproject.org/en/master/releases/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">release notes</a>.</p>\n<p>At any time, you can check to see if a new stable release is available by using the <code>git log</code> command:</p>\n<pre><code>$ git log ..origin/master\ncommit 3a2ff46c28172ef78510f4bea2f4be75ce660667\nMerge: 8b538f17f 90de3f258\nAuthor: Martin Cech &#x3C;cech.marten@gmail.com>\nDate:   Wed Feb 22 10:56:57 2017 -0500\n\n    Merge branch 'release_17.01'\n</code></pre>\n<p>If <code>git log</code> produces no output, Galaxy is up-to-date. If <code>git log</code> produces a list of commits, a new version is available. We suggest checking the accompanying <a href=\"https://docs.galaxyproject.org/en/master/releases/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">release notes</a> first (if the release is to a newer major version of Galaxy), but you can also immediately pull the commits to your local Galaxy clone with:</p>\n<pre><code>$ git pull\n</code></pre>\n<div class=\"alert alert-info\" role=\"alert\">\n**Note**: After pulling changes, the Galaxy server needs to be stopped and restarted with the updated code. Restarting will interrupt any running jobs unless you are using a cluster configuration. For more information on how to make Galaxy restartable without interrupting users, see the [production server documentation](/src/admin/config/performance/production-server/index.md).\n</div>\n<div class=\"alert alert-warning\" role=\"alert\">\n**Note**: Occasionally, updated Galaxy code includes structural changes to the database tables. The release notes will alert you if a release contains a database change. After updating and restarting Galaxy, Galaxy will refuse to load and will output an error message indicating that your database has the wrong version. The error message indicates that you should backup your database and run `sh manage_db.sh upgrade`. Follow those instructions carefully, especially the part about backing up your database safely. Database updates are carefully tested before release, but it is good practice to be able to back out if something goes wrong during an update.\n</div>\n<p>In the unlikely event that something goes wrong with updated code, you can return to an older release by using the release tag name from the <a href=\"https://docs.galaxyproject.org/en/master/releases/\" target=\"_blank\" rel=\"noopener noreferrer\">release list</a> page and the <code>git checkout</code> command. For example, to return to the latest version of the January 2015 release, use:</p>\n<pre><code class=\"language-sh\">$ git checkout release_15.01\n</code></pre>\n<p>You can also use tags to check out specific releases:</p>\n<pre><code class=\"language-sh\">$ git tag\nv13.01\nv13.01.1\nv13.02\n ...\nv16.01\nv16.04\nv16.07\nv16.10\nv17.01\n</code></pre>\n<p>Restore the fresh backup if a database update was required, and then restart Galaxy to get back to where you started.</p>\n<h2 id=\"troubleshooting\"><a href=\"#troubleshooting\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Troubleshooting</h2>\n<ul>\n<li>Offline start: The initial Galaxy run requires Internet access to download the pre-built Python wheels of Galaxy's dependencies.</li>\n<li>The basic Galaxy install is a single-user instance and is only accessible by the local user. As with many web-based applications, enable cookies in the web-browser for full functionality.</li>\n<li>A common practice when using any web browser is to stay current with software updates to maximize performance and security. If moving forward to <a href=\"/admin/config/performance/production-server/\">production server</a> with login enabled, please make sure you and your end-users are current.</li>\n<li>Some tools shipped with Galaxy have dependencies that need to be satisfied manually. Please see details <a href=\"/admin/config/tool-dependencies/\">here</a>.</li>\n</ul>\n<h1 id=\"additional-info\"><a href=\"#additional-info\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Additional Info</h1>\n<h2 id=\"get-galaxy-without-git\"><a href=\"#get-galaxy-without-git\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Get Galaxy without Git</h2>\n<p>If you don't have <a href=\"http://git-scm.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Git</a> (and thus cannot run the <code>git</code> command), you can download Galaxy in an archive instead: <a href=\"https://github.com/galaxyproject/galaxy/archive/master.zip\" target=\"_blank\" rel=\"noopener noreferrer\">zipped</a> or <a href=\"https://github.com/galaxyproject/galaxy/archive/master.tar.gz\" target=\"_blank\" rel=\"noopener noreferrer\">tar/gzipped</a>.</p>\n<p>Be aware that using archives makes it more difficult to stay up-to-date with Galaxy code because there is no simple way to update the copy.</p>\n<h2 id=\"get-galaxy-for-development\"><a href=\"#get-galaxy-for-development\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Get Galaxy for Development</h2>\n<p>If you're doing development or making changes to Galaxy, it is best practice to fork Galaxy in GitHub and update to/from your fork. See the <a href=\"https://help.github.com/articles/fork-a-repo/\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub fork documentation</a> for details.</p>\n<h2 id=\"shutting-down-galaxy\"><a href=\"#shutting-down-galaxy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Shutting down Galaxy</h2>\n<p>Below are simplified instructions for shutting down local Galaxy server. If your configuration is more complicated, getting help from an administrator is recommended.</p>\n<h3 id=\"the-galaxy-process-is-running-in-the-background\"><a href=\"#the-galaxy-process-is-running-in-the-background\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>The Galaxy process is running in the background</h3>\n<ul>\n<li>If Galaxy was the last process running within a terminal window, bring it into the foreground with the command <code>fg</code> and shut down with <code>Ctrl-c</code>.</li>\n<li>If Galaxy is one of many processes running in the background within a terminal window, find it with the command <code>jobs</code>. The list of jobs will be numbered. Bring the Galaxy job to the foreground with the command <code>fg &#x3C;number_of_the_job></code> and shut down with <code>Ctrl-c</code>.</li>\n</ul>\n<h3 id=\"i-have-lost-the-terminal-window-running-galaxy\"><a href=\"#i-have-lost-the-terminal-window-running-galaxy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>I have lost the terminal window running Galaxy</h3>\n<ul>\n<li>From another terminal window, find all active processes with the command <code>ps</code>. The list of processes will each have a process ID (called PID). The target process will be named similiar to <code>/path/to/galaxy/.venv/bin/python2.7 .venv/bin/uwsgi [additional arguments]</code>. Stop it with the command <code>kill PID</code>, where \"PID\" is the actual process ID number.</li>\n<li>If you kill only the process named <code>sh run.sh</code>, this will result in conflicts and Galaxy will not restart. If you did this or are simply getting errors when trying to restart Galaxy, the solution is to kill the process above before restarting Galaxy again.</li>\n</ul>\n<h2 id=\"installation-automation\"><a href=\"#installation-automation\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Installation automation</h2>\n<p>If you're looking to automate your installation, try the <a href=\"https://training.galaxyproject.org/training-material/topics/admin/tutorials/ansible-galaxy/tutorial.html\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy Ansible Training</a> that's available from the Galaxy Training Network. Alternatively you can look into Galaxy <a href=\"https://github.com/ARTbio/GalaxyKickStart\" target=\"_blank\" rel=\"noopener noreferrer\">KickStart Ansible playbook</a>.</p>\n"}},"context":{}}