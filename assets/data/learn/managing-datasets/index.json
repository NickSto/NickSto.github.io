{"hash":"8532f9dede357a757ee182f7a5f5306dccf4d8d2","data":{"article":{"id":"02e70764f8fa244eb7480ce130409f40","title":"Managing Datasets in Galaxy","tease":"","image":"","images":{},"category":null,"contact":"","date":null,"content":"<p><strong><em>Datasets</em></strong> are the inputs and outputs of each step in an analysis project in Galaxy. Datasets are associated with at least one History, which can be labeled, manipulated, and shared with anyone, whether they have a Galaxy account or not. <strong>Watch the <em><a href=\"http://vimeo.com/galaxyproject/datasets1\" target=\"_blank\" rel=\"noopener noreferrer\">\"Datasets\" video</a></em></strong></p>\n<p>The tracking information associated with Datasets in a History represent an experimental record of the methods, parameters, and other inputs. These methods are easily extracted into <strong><a href=\"/learn/advanced-workflow/\">Workflows</a></strong>, making an analysis pathway transparent, reproducible, and <em>reusable</em>.</p>\n<p>Effectively managing datasets is important for general organization, collaboration, publishing, and for staying within the quotas set by the <a href=\"/main/\">Main</a>, <a href=\"/test/\">Test</a>, and other host instances.</p>\n<h1 id=\"getting-datasets-in-galaxy\"><a href=\"#getting-datasets-in-galaxy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Getting Datasets in Galaxy</h1>\n<p>You have multiple options how to get your files into Galaxy thus making them datasets:</p>\n<div class='right'>![Upload Modal Icon](/src/learn/managing-datasets/upload_icon.png)</div>\n* **Upload modal** - Interface within Galaxy that suits the best for uploading small files from disk or fetching data from other servers. You can reach it by clicking on its icon (right picture) in the tool panel. \n* **FTP upload** - In case of large files (the upload modal ~~has ~2GB browser limit~~ can now handle data over 2 GB in most cases) or unpredictable connection (support for pausing and resuming) you might want to use FTP instead. The Galaxy server you want to upload data to has to have an FTP service configured (both [Main](/src/main/index.md) and [Test](/src/test/index.md) instances do). See more details at [FTPUpload](/src/ftp-upload/index.md).\n<h1 id=\"dataset-icons--text\"><a href=\"#dataset-icons--text\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Dataset Icons &#x26; Text</h1>\n<p>Watch the <strong><a href=\"http://vimeo.com/galaxyproject/datasets1\" target=\"_blank\" rel=\"noopener noreferrer\">Datasets 1</a></strong> video to get oriented with these functions using a variety of real datasets on <strong>Galaxy's</strong> public <strong><a href=\"/main/\">Main</a></strong> server <strong><a href=\"http://usegalaxy.org\" target=\"_blank\" rel=\"noopener noreferrer\">usegalaxy.org</a></strong>.</p>\n<ul>\n<li>\n<p>Upper right corner</p>\n<ul>\n<li><img src=\"/images/icons/eye.png\"> Display data in browser \"eye icon\"</li>\n<li><img src=\"/images/icons/pencil.png\"> Edit attributes \"pencil icon\"</li>\n<li><img src=\"/images/icons/deleteX.png\"> Delete \"'X' icon\"</li>\n</ul>\n</li>\n<li>\n<p>Lower right corner</p>\n<ul>\n<li>Edit dataset tags</li>\n<li>Edit dataset annotation</li>\n</ul>\n</li>\n<li>\n<p>Upper left corner</p>\n<ul>\n<li>Dataset name</li>\n<li>Dataset size/number of lines (actual or estimated)</li>\n<li>format <a href=\"/learn/datatypes/\">datatypes</a></li>\n<li>database</li>\n<li><img src=\"/images/icons/HistoryInfo.png\"> Info (optional)</li>\n</ul>\n</li>\n<li>\n<p>Lower left corner</p>\n<ul>\n<li>Download</li>\n<li>View Details</li>\n<li>Run this job again <img src=\"/images/icons/arrow-circle.png\"></li>\n<li>Display in <a href=\"/learn/visualization/\">trackster</a> (optional)</li>\n<li>display at <a href=\"http://genome.ucsc.edu\" target=\"_blank\" rel=\"noopener noreferrer\">UCSC</a> main  (optional)</li>\n<li>display at <a href=\"http://www.ensembl.org\" target=\"_blank\" rel=\"noopener noreferrer\">Ensembl</a> Current (optional)</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"data-size-and-disk-quotas\"><a href=\"#data-size-and-disk-quotas\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Data size and disk Quotas</h1>\n<ul>\n<li>The size limit for a file loaded using <a href=\"/ftp-upload/\">FTP</a> is 50G.</li>\n<li>\n<p>The size limit for a job's output is (unrelated to quotas):</p>\n<ul>\n<li>50G on the <a href=\"/test/\">Test</a> server</li>\n<li>200G on the <a href=\"/main/\">Main</a> server</li>\n</ul>\n</li>\n<li>\n<p>The size limit for all data (quotas) on the Galaxy public servers is explained at:</p>\n<ul>\n<li><a href=\"/test/\">Test</a> server</li>\n<li><a href=\"/main/\">Main</a> server</li>\n</ul>\n</li>\n<li>Administrative instructions for <a href=\"/admin/disk-quotas/\"> disk quotas</a></li>\n</ul>\n<h1 id=\"format\"><a href=\"#format\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Format</h1>\n<ul>\n<li>The format of a dataset is ideally defined by the assigned <strong><a href=\"/learn/datatypes/\">datatype</a></strong> attribute. Deviations in input dataset format are the first variable to examine when a tool (job) fails. Many of the tools in the \"Text Manipulation\" tool group can be used to both examine and correct a dataset's format to bring it into alignment with the assigned <a href=\"/learn/datatypes/\">datatype</a> attribute specification.</li>\n<li>To initially <strong>assign</strong> a dataset's <a href=\"/learn/datatypes/\">datatype</a> attribute, the uploaded/imported file can be specified with some import tools or be named with the appropriate file extension. To specify, modify or correct a dataset's <a href=\"/learn/datatypes/\">datatype</a> attribute after upload, click on the \"pencil\" icon <img src=\"/images/icons/pencil.png\"> in the right corner of the dataset's box to reach the \"Edit Attributes\" form. Use the \"Change data type\" section of the form to make changes and click on <em>Save</em>. Galaxy will modify the <a href=\"/learn/datatypes/\">datatype</a> and metadata.</li>\n<li>To <strong>transform</strong> a dataset format (original → new <a href=\"/learn/datatypes/\">datatype</a> attribute), use one of the many tools in the <em>Convert Formats</em> group.</li>\n<li><strong><em>TIP</em></strong> The quickest way to locate tools that manipulate specific formats is to use the Tool Search (top of left Galaxy Tool panel, <em>gear icon</em> menu). For example, type in  <em><a href=\"/learn/datatypes/#maf\">M-A-F</a></em> to locate tools in the tool group <em>Convert Formats</em> that transform to/from Multiple Alignment Format.</li>\n</ul>\n<h1 id=\"visualize\"><a href=\"#visualize\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Visualize</h1>\n<ul>\n<li>For many <a href=\"/learn/datatypes/\">datatypes</a>, clicking on the <strong>eye icon</strong> <img src=\"/images/icons/eye.png\"> for \"Display data in browser\" will display the contents or a preview of the contents in as unformatted text in the center pane (exceptions include compressed <a href=\"/learn/datatypes/\">datatypes</a> such as BAM).</li>\n<li>\n<p>Direct links to view a dataset within a browser may include:</p>\n<ul>\n<li><a href=\"/learn/visualization/\">Trackster \"Galaxy Track Browser (GTB)\"</a></li>\n<li><a href=\"http://atlas.bx.psu.edu/software/genetrack.html\" target=\"_blank\" rel=\"noopener noreferrer\">GeneTrack</a></li>\n<li><a href=\"http://genome.ucsc.edu\" target=\"_blank\" rel=\"noopener noreferrer\">UCSC</a></li>\n<li><a href=\"http://www.ensembl.org\" target=\"_blank\" rel=\"noopener noreferrer\">Ensembl</a></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"copy\"><a href=\"#copy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Copy</h1>\n<ul>\n<li>\n<p>To copy the datasets within a history to another history, from the right history pane's top <em>Options</em> menu select <em>Copy Datasets</em>. On the form in the center pane, specify the <em>From</em> and <em>To</em> history/histories.</p>\n<ul>\n<li>From: Select the datasets to be copied in the left column <em>Source History:</em>.</li>\n<li>\n<p>To: Select the location to copy the datasets in the right column <em>Destination History:</em>.</p>\n<ul>\n<li>Options include a single existing history, multiple existing histories, or a newly created and named history.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong><em>TIP</em></strong> to <em>Copy</em> a <strong>Hidden</strong> dataset (see below), in the <em>From</em> histories right pane, use <em>gear icon → Unhide Hidden Datasets</em>, then once the datasets refresh, use <em>This dataset has been hidden. Click  </em>here<em> to unhide.</em></li>\n</ul>\n<h1 id=\"clone-deprecated\"><a href=\"#clone-deprecated\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Clone (deprecated)</h1>\n<ul>\n<li>\n<p>To clone a history is to create an exact copy of the prior history in one step. The new history will be named with the original history's name prefixed by <em>Clone of</em>. Clone is the simplest way to manage datasets when some items in a history need to be retained but the remainder can be deleted (permanently, to reduce disk usage).</p>\n<ul>\n<li>Options are:</li>\n<li><em>Clone all history items, including deleted items</em></li>\n<li><em>Clone only items that are not deleted</em></li>\n</ul>\n</li>\n<li><strong><em>TIP</em></strong> One use of this option is to <strong>quickly retain some datasets and permanently delete others</strong> (to reduce disk use counted in user <a href=\"/admin/disk-quotas/\">quota</a> on <a href=\"/main/\">Main</a> or <a href=\"/test/\">Test</a>). First, in the History pane, in the original history, delete individual datasets by clicking on the <em>X</em> delete icon <img src=\"/images/icons/deleteX.png\"> if not to be <strong>Cloned</strong>, remember to delete <strong>Hidden</strong> datasets, (see below). Next, <em>Clone</em> the original History. Once complete, the cloned History will contain the datasets to be retained and the original History can be deleted permanently with <em>gear icon → Saved Histories</em>, select original History from the list, and clicking the button <em>Delete Permanently</em>.</li>\n</ul>\n<h1 id=\"hidden\"><a href=\"#hidden\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Hidden</h1>\n<ul>\n<li>\n<p>Datasets may be hidden in the default History view as a Workflow option. If you have run a workflow with hidden datasets, choose \"gear icon → Include Hidden Datasets or Unhide Hidden Datasets\" or use the toogle at the top of the history panel (directly below the history name) to view them.</p>\n<ul>\n<li>When using <strong>Clone</strong> (see above) to manage datasets to reduce disk usage for <a href=\"/admin/disk-quotas/\">quotas</a>, viewing and deleting hidden datasets can be a very important step. Unless deleted, hidden datasets are moved to the new cloned history.</li>\n<li>When using <strong>Copy</strong> (see above) to manage datasets to reduce disk usage for <a href=\"/admin/disk-quotas/\">quotas</a>, hidden datsets will not be in the \"From\" list of datasets available to transfer unless they are unhidden using <em>gear icon → Unhide Hidden Datasets</em>, then <em>This dataset has been hidden. Click__here_ to unhide.</em></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"delete-vs-delete-permanently\"><a href=\"#delete-vs-delete-permanently\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Delete vs Delete Permanently</h1>\n<p>Tutorials</p>\n<ul>\n<li><a href=\"https://training.galaxyproject.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Galaxy Training Network (GTN)</a>: <a href=\"https://training.galaxyproject.org/training-material/topics/galaxy-data-manipulation/\" target=\"_blank\" rel=\"noopener noreferrer\">Data Manipulation</a></li>\n</ul>\n<p>Methods</p>\n<ul>\n<li>\n<p>Deleting Datasets and Histories</p>\n<ul>\n<li><strong>Watch how it works in the <a href=\"http://vimeo.com/galaxyproject/managehistories\" target=\"_blank\" rel=\"noopener noreferrer\">Managing Histories</a> video.</strong></li>\n<li><strong>Deleted</strong> datasets and histories <strong>can be recovered</strong> by users as they are retained in Galaxy for a time period set by the instance administrator. For the Galaxy public instances <a href=\"/main/\">Main</a> and <a href=\"/test/\">Test</a>, this is currently several months.</li>\n<li><strong>Permanently deleted</strong> datasets and histories <strong>cannot be recovered</strong> by the user or administrator.</li>\n<li>Deleted datsets can be undeleted or permanently deleted within a History.</li>\n<li>Links to show/hide deleted (and hidden) datasets are at the top of the History panel. Only active datasets are shown by default.</li>\n<li>To review or adjust an individual dataset, click on the name to expand it. If it is only deleted, but not permenently deleted (purged), you'll see a message with links to recover or to purge: <em>This dataset has been deleted</em>. Click on <em>Undelete it</em> to recover the dataset, making it active and accessible to tools again. Click on <em>Permenently remove it from disk</em> to purge the dataset and remove it from the account quota calculation.</li>\n<li>To review or adjust multiple datasets in batch, click on the \"checked box\" icon near the top right of the history panel to switch into \"Operations on Mulitple Datasets\" mode. Several options to show, hide, delete, undelete, purge, and group datasets are available. A selection box will be available for each individual dataset. Check the datasets you want to modify and chose your option.</li>\n</ul>\n</li>\n<li>\n<p><a href=\"/admin/disk-quotas/\">Quotas</a> for Datasets and Histories</p>\n<ul>\n<li><strong>Deleted</strong> datasets and <strong>deleted</strong> histories containing datasets <strong>are considered when calculating <a href=\"/admin/disk-quotas/\">quotas</a></strong> on <a href=\"/main/\">Main</a> or <a href=\"/test/\">Test</a>.</li>\n<li><strong>Permanently deleted</strong> datasets and <strong>permanently deleted</strong> histories containing datasets <strong>are not considered</strong>.</li>\n<li>Imported native <strong>Data Library</strong> datasets <strong>are not considered</strong>.</li>\n<li>Datasets can be associated with one or more History, but are only considered once.</li>\n<li>All copies of a dataset must be permanently deleted for it to not be considered.</li>\n<li>Histories/datasets that are shared with you are <em>only partially considered</em> unless you import them.</li>\n<li><strong>Active</strong> and <strong>Deleted</strong> histories can be <strong>permanently deleted</strong> under <em>User → Histories</em>. Click on <em>Advanced Search</em>, then set <em>status: all</em>.</li>\n<li>To review or change the status for an individual History, click on the History name and choose an option from the pull-down menu. <em>Peremenently delete</em> will purge an entire History and all Datasets it includes.</li>\n<li>To review or change the status for multiple Histories, check the boxes for the Histories to be discarded and then click on one of the the buttons at the bottom of the form. <em>Permanently delete</em> will purge entire Histories and all Datasets included.</li>\n<li>Note: A History must be <em>Unshared</em> before it can be <em>Deleted</em> or <em>Permenently deleted</em>. Adjust the sharing state for a History on the <em>User → Histories</em> form or from the History menu on the <em>Share or Publish</em> form.</li>\n</ul>\n</li>\n<li>\n<p><strong><em>WARNING</em></strong> <strong>Permanently deleted (purged)</strong> datasets and histories <strong>cannot be recovered</strong> by the end user or an administrator. The best way to avoid losing important data by accident is to clearly name all important histories and datasets.</p>\n<ul>\n<li>\n<p>Name a dataset:</p>\n<ul>\n<li>Click on the <em>pencil icon</em> <img src=\"/images/icons/pencil.png\"> on the top right of a Dataset to reach the <em>Edit Attributes</em> form. A dataset's primary <em>Name, Info , Annotation, and Notes</em> can be adjusted on the first tab, and other metadata attributes can be adjusted on the other tabs.</li>\n<li><strong><em>TIP</em></strong> Copying the Galaxy default <em>Name</em> into the \"Info: field, then adding in a custom <em>Name</em> is one way to preserve the tool output original <em>Name</em> while still distinguishing one similarly named dataset from another. This can be useful when reviewing analysis steps and choosing which datasets to retain and which to remove when an analysis is under review or completed.</li>\n</ul>\n</li>\n<li>\n<p>Name a history:</p>\n<ul>\n<li>Click near the top of the right history pane where the default text <em>Unnamed history</em> is located. Enter the new name and and press \"enter/return\".</li>\n<li>From <em>User → Saved Histories</em>, check the histories (one or more) to be renamed, then click on the bottom button <em>Rename</em>. On the <em>Rename</em> form, <em>Current Name</em> is on the left, <em>New Name</em> is on the right. Edit <em>New Name</em> for each history then click on the button <em>Rename Histories</em>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"searching-datasets\"><a href=\"#searching-datasets\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Searching Datasets</h1>\n<p>You can <strong><em>search your datasets</em></strong> in a number of ways:</p>\n<ul>\n<li>A search bar is at the top of every History.</li>\n<li><em>Type</em> text into the field (advanced options are described below) and press \"enter/return\". The list of Datasets in the History will change to include only those that match the search term, excluding those that don't.</li>\n<li><em>Clear</em> the search by removing the text in the bar and pressing enter, or by pressing the ESC key while the text is highlighted, or by clicking on the \"clear search\" button on the right side of the bar.</li>\n</ul>\n<p>Some notes:</p>\n<ul>\n<li>Searches are case insensitive: 'some' will match both 'some' <em>and</em> 'Some'.</li>\n<li><em>Searches will persist until cleared</em>. If you switch histories while searching, the list of datasets will still be\nnarrowed to what matches your search terms.</li>\n<li>Terms are space separated. For example, to search for an interval datatype dataset named <em>~MyDataset</em> when more than\none interval dataset is present and more than one dataset is named ~MyDataset, use <code>interval MyDataset</code> (or\n<code>MyDataset interval</code> - order doesn't matter).</li>\n<li>Deleted and hidden datasets are not shown unless you've included them by using the <em>Include deleted datasets</em> and/or\n<em>Include hidden datasets</em> options in the history options menu (the gear icon at the top left of the history panel).</li>\n</ul>\n<p>Advanced Options:</p>\n<ul>\n<li>To search for terms that include whitespaces (e.g. a dataset named 'My Dataset' which includes a space) you can\nenclose a search term with double quotes (\"My Data\") and this will match the dataset in the example but exclude any\ndataset that may have matched an un-enclosed term (such as '~MyInterval' or 'Some Data').</li>\n<li>\n<p>Search terms are applied to many of the 'fields' that describe a dataset (i.e. name, format, database, info, 'blurb') and, by default, check all fields against each term. To apply a search term to only one field, use the field name followed by an equals sign and then followed by the term (or double quote enclosed term). E.g. <code>name=\"My Dataset\" format=interval</code>. Here is a list of field names that can be used:</p>\n<ul>\n<li><code>name</code> or <code>title</code>: the name or partial name of the dataset(s)</li>\n<li><code>database</code> or <code>genome_build</code>: the name or partial name of the genome database (e.g. <em>hg19</em>)</li>\n<li><code>format</code> or <code>file_ext</code>: the file type/datatype of the dataset(s)</li>\n<li><code>description</code>: the text or partial text of description of the dataset(s) - the text just below the dataset title shown when the dataset is expanded.</li>\n<li><code>info</code>: the text or partial text of the info box of the dataset(s) - the text just below the format and database and above the download and info buttons shown when the dataset is expanded.</li>\n<li><code>annotation</code>: the text or partial text of your annotation on the dataset(s)</li>\n<li><code>tag</code>: the text or partial text of any applied you to the dataset(s)</li>\n</ul>\n</li>\n<li>The field name specifiers can be applied more than once. For example, to find datasets that have both the 'paper1' and '2nd paper' tags (as opposed to those that have <em>one or the other</em>), use <code>tag=paper1 tag=\"2nd paper\"</code>.</li>\n</ul>\n<hr>\n"}},"context":{}}