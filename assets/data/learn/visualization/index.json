{"hash":"c32ecfdb33b075b0057598b5b9118f3554a398cf","data":{"article":{"id":"0263b70abb5d46d952b4a53e2c2b9e9c","title":"Visualization in Galaxy","tease":"","image":"","images":{},"category":null,"contact":"","date":null,"content":"<p><em>Trackster</em> is Galaxy's visualization and visual analysis environment. It lets you visualize your SAM/BAM, BED, GFF/GTF, WIG, bigWig, bigBed, bedGraph, and VCF datasets from within Galaxy. Trackster is enabled on our main and test instances, but not by default on local instances. If you are running a local instance and would like to use Trackster, please refer to the Setup Instructions below.</p>\n<h3 id=\"why-trackster\"><a href=\"#why-trackster\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Why Trackster?</h3>\n<ul>\n<li>Fast, interactive visualization for large, NGS/HTS datasets using only a Web browser. (Trackster works in Firefox, Chrome, Safari, and IE9+.)</li>\n<li>Galaxy integration: visualize any Galaxy dataset easily without downloading or sending it to a remote server.</li>\n<li>Powerful visual analysis features, including embedded tools for parameter exploration and dynamic filters for understanding annotated data.</li>\n<li>Custom compositing of tracks to create a single visual element with many datasets.</li>\n</ul>\n<hr>\n<h3 id=\"getting-started\"><a href=\"#getting-started\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Getting Started</h3>\n<ul>\n<li>Click on <strong>Visualization --> New Track Browser</strong> in the top menu bar.</li>\n<li>Choose a build and name for the visualization. Is the build you want not listed? Add your own custom build (instructions in a section below).</li>\n<li>You will now see a visualization with no datasets in it. Add datasets by clicking the \"Add Datasets to Visualization\" button. Select a history or data library, followed by one or more datasets. If your desired datasets do not show up, make sure they are of the same build as the visualization and that they are of a supported dataset type.</li>\n<li>After adding tracks, Trackster will index the datasets for fast access. Once this is done, you can navigate to a chrom/contig in the dropdown to view your data.</li>\n</ul>\n<hr>\n<h3 id=\"navigation\"><a href=\"#navigation\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Navigation</h3>\n<h4 id=\"viewing-a-specific-location\"><a href=\"#viewing-a-specific-location\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Viewing a specific location</h4>\n<ul>\n<li>Click the text showing the current region. A select box will show up in place.</li>\n</ul>\n<p><img src=\"/src/learn/visualization/trackster/keyboard1.png\" alt=\"Specific region\"></p>\n<ul>\n<li>Enter the desired region with the format: <em>chrom: start-end</em>. The first part (chrom/contig) is <strong>required</strong>, but the start/end is optional, so you could enter <em>chr1: 1-20000</em>, or simply <em>chr1</em>. Then press Enter.</li>\n</ul>\n<p><img src=\"/src/learn/visualization/trackster/keyboard2.png\" alt=\"Specific region\"></p>\n<h4 id=\"mouse-navigation\"><a href=\"#mouse-navigation\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mouse Navigation</h4>\n<ul>\n<li>You can use the mouse to change chroms/contigs using the dropdown.</li>\n<li>Dragging anywhere in the main window will pan the view.</li>\n<li>Double clicking anywhere in the main window will zoom in at the location of the mouse click.</li>\n<li>There are zoom-in and zoom-out icons on the toolbar.</li>\n<li>You can drag a region within the location track to view that region, as shown in the following image:</li>\n</ul>\n<p><img src=\"/src/learn/visualization/trackster/drag.png\" alt=\"Dragging a region\"></p>\n<h4 id=\"keyboard-navigation\"><a href=\"#keyboard-navigation\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Keyboard Navigation</h4>\n<p>You can use the arrow keys on your keyboard to pan the view.</p>\n<hr>\n<h3 id=\"display\"><a href=\"#display\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Display</h3>\n<p>Trackster has two fundamentally different types of track classes: <strong>LineTracks</strong> and <strong>FeatureTracks</strong>. The former is used for wig, bigWig, and bigBed datatypes, while the latter is used for the others.</p>\n<h3 id=\"linetrack\"><a href=\"#linetrack\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>LineTrack</h3>\n<p>LineTracks are used to display quantitative data along a y-axis. There is a thin gray line that represent 0. GTB has four different drawing mode for LineTracks:</p>\n<p><strong>Histogram</strong>: fill region between x-axis and the data point. Red region indicates overflow beyond the listed maximum/minimum value.</p>\n<p><img src=\"/src/learn/visualization/trackster/histogram.png\" alt=\"Histogram\"></p>\n<p><strong>Line</strong>: connect the data points with a line. Red dot indicates overflow beyond the listed maximum/minimum value.</p>\n<p><img src=\"/src/learn/visualization/trackster/line.png\" alt=\"Line\"></p>\n<p><strong>Filled</strong>: fill region from the bottom of the track to the data point.</p>\n<p><img src=\"/src/learn/visualization/trackster/filled.png\" alt=\"Filled\"></p>\n<p><strong>Intensity</strong>: show the data point as a gradient of the current y-axis range (darker is more).</p>\n<p><img src=\"/src/learn/visualization/trackster/intensity.png\" alt=\"Intensity\"></p>\n<p>To change between these display modes, click the dropdown at the top-right of the track.</p>\n<p><img src=\"/src/learn/visualization/trackster/modedrag.png\"></p>\n<h3 id=\"featuretrack\"><a href=\"#featuretrack\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>FeatureTrack</h3>\n<p>FeatureTracks display feature interval data, like BED, BAM, GFF, GTF, and VCF. Like LineTracks, it also has different types of displays.\nBy default, the GTB automatically chooses the display it deems most suitable for the current level of detail, but this can be overridden\nvia the selection box on the top-right corner of the track. <strong>The following diagrams are all of the same data.</strong></p>\n<p><strong>Automatic</strong>: Trackster chooses the level of detail based on how much data is on the screen. Currently shows feature spans without any exon detail or labels because there is a lot of data in this region.</p>\n<p><img src=\"/src/learn/visualization/trackster/featauto.png\" alt=\"Auto\"></p>\n<p><strong>Histogram</strong>: Show the number of features in binned regions.</p>\n<p><img src=\"/src/learn/visualization/trackster/feathist.png\" alt=\"Histogram\"></p>\n<p><strong>Dense</strong>: draw everything stacked on top each other, in one slot. Useful to see coverage while minimizing screen real estate.</p>\n<p><img src=\"/src/learn/visualization/trackster/featdense.png\" alt=\"Dense\"></p>\n<p><strong>Squish</strong>: draw exons but not strand/labels</p>\n<p><img src=\"/src/learn/visualization/trackster/featsquish.png\" alt=\"Intensity\"></p>\n<p><strong>Pack</strong>: draw exons, strand, and labels</p>\n<p><img src=\"/src/learn/visualization/trackster/featpack.png\"></p>\n<p>To change between these display modes, click the dropdown at the top-right of the track.</p>\n<hr>\n<h3 id=\"custom-builds\"><a href=\"#custom-builds\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Custom Builds</h3>\n<p>GTB lets you build track browsers for builds that aren't already installed for all users (see the next section on how to do this). You can specify custom builds on a <strong>user-by-user</strong> basis by navigating to User --> Custom Builds. There you can manage your custom builds or add new ones. For example, let's say you want to add a custom bear genome:</p>\n<p><img src=\"/src/learn/visualization/trackster/custom1.png\"></p>\n<p>The chrom/contig length information can either be typed in or pasted directly into the box as shown, or submitted by selecting a file containing the information. Successful submission will result in the build being listed:</p>\n<p><img src=\"/src/learn/visualization/trackster/custom2.png\"></p>\n<p>You can then set datasets to use our new custom build:</p>\n<p><img src=\"/src/learn/visualization/trackster/custom3.png\"></p>\n<p>And finally, you can create a new track browser of the new build:</p>\n<p><img src=\"/src/learn/visualization/trackster/custom4.png\"></p>\n<p>The new browser will use the chrom/contig information we specified for it.</p>\n<p><img src=\"/src/learn/visualization/trackster/custom5.png\"></p>\n<hr>\n<h3 id=\"setup-for-local-instances\"><a href=\"#setup-for-local-instances\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Setup for Local Instances</h3>\n<p>See <a href=\"/src/visualization-setup/index.md\">Visualization Setup</a> for instructions about how to set up your local instance for visualization.</p>\n<h3 id=\"implementation-details\"><a href=\"#implementation-details\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Implementation Details</h3>\n<p>Trackster is designed in a modular client/server fashion using AJAX calls that return JSON data. The client is fully written in Javascript and utilizes the HTML5 canvas element, which exposes a low-level drawing API, to draw data.</p>\n<p><img src=\"/src/learn/visualization/trackster/tracksterdiagram.png\" alt=\"Diagram\"></p>\n<p>Each track consists of one or more canvas tiles, which are drawn and processed in parallel.</p>\n<p><img src=\"/src/learn/visualization/trackster/drawingmethod.png\" alt=\"Drawing\"></p>\n"}},"context":{}}