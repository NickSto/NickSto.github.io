{"hash":"63d22f0da01df1c20668abb9131ced4a3fe89696","data":{"article":{"id":"559c064eb4b4760ecaad5b5af4392229","title":"Source code of Galaxy","tease":"","category":null,"date":null,"days":null,"contact":"","contact_url":"","authors":"","location":"","location_url":"","source_blog":"","source_blog_url":"","skip_title_render":null,"redirect":"","links":[],"image":"","images":{},"external_url":"","content":"<div class=\"toc-wrapper col-md-3\">\n<ul>\n<li>\n<p><a href=\"#github\">GitHub</a></p>\n<ul>\n<li><a href=\"#branches\">branches</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#mercurial-and-bitbucket\">Mercurial and BitBucket</a></p>\n<ul>\n<li><a href=\"#how-to-migrate-a-galaxy-instance-from-mercurial-bitbucket-to-git-github\">How to migrate a Galaxy instance from Mercurial Bitbucket to Git GitHub</a></li>\n<li><a href=\"#how-to-find-hg-commit-in-git-history\">How to find hg commit in git history</a></li>\n</ul>\n</li>\n</ul>\n</div>\n<div class=\"body-wrapper col-md-9\">\n<p>Galaxy is an open source software under <a href=\"/admin/license/\">AFL 3.0</a> license.</p>\n<p>The source code is publicly available and <a href=\"https://github.com/galaxyproject/galaxy\" target=\"_blank\" rel=\"noopener noreferrer\">hosted at GitHub</a>. If you need help getting started, the <a href=\"https://try.github.io/\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub Git tutorial</a> is a good place.</p>\n<h2 id=\"github\"><a href=\"#github\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>GitHub</h2>\n<p><a href=\"https://github.com/galaxyproject/galaxy/\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/galaxyproject/galaxy/</a> is the canonical repository.</p>\n<p>If you have created piece of code for Galaxy that you would like to share with the community, please follow the instructions contained in <a href=\"https://github.com/galaxyproject/galaxy/blob/dev/CONTRIBUTING.md\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/galaxyproject/galaxy/blob/dev/CONTRIBUTING.md</a>.</p>\n<h3 id=\"branches\"><a href=\"#branches\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>branches</h3>\n<p>The following branches exist:</p>\n<ul>\n<li><code>release_YY.MM</code> - contains commits of the <code>YY.MM</code> stable release (recommended branches to run in production)</li>\n<li><code>dev</code> - primary development, new features, largely untested, should not be run in production</li>\n<li><code>master</code> - should be updated to the most recent stable release (but often is lacking in this matter)</li>\n</ul>\n<p>You can get the current \"in-development\" code (where in-development code is on the <code>dev</code> branch) with:</p>\n<pre><code class=\"language-sh\">% git clone https://github.com/galaxyproject/galaxy.git\n% cd galaxy\n</code></pre>\n<p>And receive updates</p>\n<pre><code class=\"language-sh\">% git checkout dev\n% git pull\n</code></pre>\n<h2 id=\"mercurial-and-bitbucket\"><a href=\"#mercurial-and-bitbucket\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mercurial and BitBucket</h2>\n<p>Before the switch to GitHub in 2015 the Galaxy source code has been hosted on BitBucket.</p>\n<h3 id=\"how-to-migrate-a-galaxy-instance-from-mercurial-bitbucket-to-git-github\"><a href=\"#how-to-migrate-a-galaxy-instance-from-mercurial-bitbucket-to-git-github\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>How to migrate a Galaxy instance from Mercurial Bitbucket to Git GitHub</h3>\n<ol>\n<li>Backup everything.</li>\n<li>Find what branch and commit is your Mercurial Galaxy at:</li>\n</ol>\n<pre><code class=\"language-#!\">$ hg log -b $(hg branch)\n</code></pre>\n<ol>\n<li><code>git clone https://github.com/galaxyproject/galaxy</code> in a temporary directory.</li>\n<li>Find the corresponding commit in the cloned Git repository on the corresponding branch (Bitbucket default->GitHub dev; Bitbucket stable->GitHub master).</li>\n<li>Checkout the GitHub repository at the commit you found in the previous step.</li>\n<li>Backup your <code>.hg/</code> folder.</li>\n<li>Replace your <code>.hg/</code> folder with the <code>.git/</code> folder from the new checkout.</li>\n<li>Your Galaxy should be switched to Git. Unless you have local changes, <code>git status</code> should show none.</li>\n<li>You can now update to the latest Git revision:</li>\n</ol>\n<pre><code class=\"language-#!\">$ git pull\n</code></pre>\n<h3 id=\"how-to-find-hg-commit-in-git-history\"><a href=\"#how-to-find-hg-commit-in-git-history\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>How to find hg commit in git history</h3>\n<p>For commits made prior to the switch to git, you can find the former HG commit IDs via git notes. Assuming you have set the <a href=\"https://github.com/galaxyproject/galaxy/\" target=\"_blank\" rel=\"noopener noreferrer\">canonical Galaxy GitHub repository</a> as the remote <code>upstream</code>, it is done like so (if you cloned directly from the canonical source rather than your own GitHub fork, the remote would be <code>origin</code>):</p>\n<pre><code class=\"language-sh\">% git fetch upstream refs/notes/hg2git:refs/notes/hg2git`\n% git log --show-notes=hg2git [-1 git-commit-hash]\n</code></pre>\n<p>e.g.:</p>\n<pre><code class=\"language-sh\">% cd galaxy.git\n% git log --show-notes=hg2git -1 579edf01b1416d52ac99f8675b6f86d677d6ee0e\nAuthor: Carl Eberhard &#x3C;carlfeberhard@>\nDate:   Mon Feb 16 17:51:51 2015 -0500\n\n    UI, History: allow purging, implement purge option in multi-view dropdowns; Managers: fix purgable return value; API, histories: return purged in summary view\n\nNotes (hg2git):\n    hg:6ed64b39bcef417a2361e42336c3a46ad10354de\n% cd ../galaxy.hg\n% hg log -r 6ed64b39bcef417a2361e42336c3a46ad10354de\nchangeset:   16658:6ed64b39bcef\nuser:        Carl Eberhard &#x3C;carlfeberhard@gmail.com>\ndate:        Mon Feb 16 17:51:51 2015 -0500\nsummary:     UI, History: allow purging, implement purge option in multi-view dropdowns; Managers: fix purgable return value; API, histories: return purged in summary view\n</code></pre>\n</div>\n"}},"context":{}}