{"hash":"8532f9dede357a757ee182f7a5f5306dccf4d8d2","data":{"article":{"id":"b0f117f8c17714e003206379a6d1d338","title":"","tease":"","image":"","images":{},"category":null,"contact":"","date":null,"content":"<div class='right'> <a href=\"/toolshed/\">![Tool Shed logo](/src/images/logos/ToolShed.jpg)</a></div>\n<h1 id=\"cloning-a-repository-using-hg-from-the-command-line\"><a href=\"#cloning-a-repository-using-hg-from-the-command-line\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Cloning a repository using hg from the command line</h1>\n<p>If you want to clone a repository from the Tool Shed using mercurial from a terminal session, you have to install the Mercurial Distributed SCM (the Tool Shed requires hg version 2.2.3 or newer) from <a href=\"http://mercurial.selenic.com\" target=\"_blank\" rel=\"noopener noreferrer\">http://mercurial.selenic.com</a>.</p>\n<p>To determine the version of mercurial you have installed, run the following hg command from a terminal window:</p>\n<p><code>$ hg --version</code></p>\n<p>The result should be something like the following. If your environment uses a version of hg older than 2.2.3, you should upgrade!</p>\n<pre><code>Mercurial Distributed SCM (version 2.2.3)\n(see http://mercurial.selenic.com for more information)\nCopyright (C) 2005-2012 Matt Mackall and others\nThis is free software; see the source for copying conditions. There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n</code></pre>\n<p>To clone the repository from the command line in a terminal session, change directory to the desired location and execute the clone command for the specified Tool Shed repository. For example, running the following command will install the repository named <strong>contamrm</strong>, owned by <strong>edward-kirton</strong> from the Tool Shed <strong><a href=\"http://toolshed.g2.bx.psu.edu\" target=\"_blank\" rel=\"noopener noreferrer\">http://toolshed.g2.bx.psu.edu</a></strong> into the local directory. In this case, the repository tip will be installed, providing all included mercurial changeset revisions.</p>\n<p><code>hg clone http://toolshed.g2.bx.psu.edu/repos/edward-kirton/contamrm</code></p>\n<h1 id=\"pushing-changes-to-a-repository-using-hg-from-the-command-line\"><a href=\"#pushing-changes-to-a-repository-using-hg-from-the-command-line\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Pushing changes to a repository using hg from the command line</h1>\n<p>If you want to push a changeset to a repository in the Tool Shed using mercurial from a terminal session, you have to install the Mercurial Distributed SCM (the Tool Shed requires hg version 2.2.3 or newer) from <a href=\"http://mercurial.selenic.com\" target=\"_blank\" rel=\"noopener noreferrer\">http://mercurial.selenic.com</a> and clone the repository to a local directory (see the previous section in the document for details).</p>\n<p>To determine the version of mercurial you have installed, run the following hg command from a terminal window:</p>\n<p><code>$ hg --version</code></p>\n<p>The result should be something like the following. If your environment uses a version of hg older than 2.2.3, you should upgrade!</p>\n<pre><code>Mercurial Distributed SCM (version 2.2.3)\n(see http://mercurial.selenic.com for more information)\nCopyright (C) 2005-2012 Matt Mackall and others\nThis is free software; see the source for copying conditions. There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n</code></pre>\n<p>Be aware that pushing a changeset to a repository will create a new changeset tip in the repository, just like what happens when you upload files to the repository using the Tool Shed upload utility described above. Assuming you are using Mercurial version 2.2.3 or newer, metadata may be generated about the contents of the changeset and potentially saved in the database when the pushed changeset is received by the repository in the Tool Shed.</p>\n<p>Let's clone this repository using hg from the command line into a local subdirectory.</p>\n<pre><code>gvk:/tmp/repos\ngvk$ hg clone http://test@localhost:9009/repos/test/convert_chars\ndestination directory: convert_chars\nrequesting all changes\nadding changesets\nadding manifests\nadding file changes\nadded 1 changesets with 3 changes to 3 files\nupdating to branch default\n3 files updated, 0 files merged, 0 files removed, 0 files unresolved\n</code></pre>\n<p>We now have a local working copy of the repository. Let's add a file to our local repository clone.</p>\n<pre><code>gvk:/tmp/repos gvk$ cd convert_chars/\ngvk:/tmp/repos/convert_chars gvk$ echo 'THIS FILE DOES NOTHING...' > README.txt\ngvk:/tmp/repos/convert_chars gvk$ hg add README.txt\ngvk:/tmp/repos/convert_chars gvk$ hg commit -m 'Added README.txt'\n</code></pre>\n<p>We now have a new changeset in our local clone of the Tool Shed repository. We can see the change by executing the <strong>hg summary</strong> command in our local repository clone.</p>\n<pre><code>gvk:/tmp/repos/convert_chars gvk$ hg summary\nparent: 1:7003363d0160 tip\n Added README.txt\nbranch: default\ncommit: (clean)\nupdate: (current)\n</code></pre>\n<p>Let's push the changeset to the Tool Shed master repository.</p>\n<pre><code>gvk:/tmp/repos/convert_chars gvk$ hg push\npushing to http://test@localhost:9009/repos/test/convert_chars\nsearching for changes\nhttp authorization required\nrealm:\nuser: test\npassword:\nremote: adding changesets\nremote: adding manifests\nremote: adding file changes\nremote: added 1 changesets with 1 changes to 1 files\n</code></pre>\n<p>As described above, metadata was automatically generated for the changeset when the push was received at the Tool Shed, and when we view the repository changelog, we see the additional change set. The reason that the metadata is associated with the new tip is because there was nothing in the contents of the changeset that warranted a new installable changeset revision. Installable changeset revisions are necessary only if a version of a tool included in the changeset was altered or a tool was deleted in the change set. The <a href=\"/toolshed/repository-revisions/#more-examples-of-installable-repository-changeset-revisions\">Installable repository changeset revisions</a> section of the Tool Shed wiki provides more information about this process.</p>\n"}},"context":{}}