(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{UQSp:function(o,e,t){"use strict";e.a={name:"VueRemarkRoot",render:function(o){return o("div",null,this.$slots.default)}}},okXl:function(o,e,t){"use strict";t.r(e);var n=t("KHd+"),r=t("UQSp"),i=t("Kw5r");function a(o){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}i.default.config.optionMergeStrategies;var s={VueRemarkRoot:r.a},l=function(o){var e=o.options.components=o.options.components||{},t=o.options.computed=o.options.computed||{};Object.keys(s).forEach((function(o){"object"===a(s[o])&&"function"==typeof s[o].render||"function"==typeof s[o]&&"function"==typeof s[o].options.render?e[o]=s[o]:t[o]=function(){return s[o]}}))},c=i.default.config.optionMergeStrategies,u="__vueRemarkFrontMatter",d={excerpt:null};var _=function(o){o.options[u]&&(o.options[u]=d),i.default.util.defineReactive(o.options,u,d),o.options.computed=c.computed({$frontmatter:function(){return o.options[u]}},o.options.computed)},p=Object(n.a)({},(function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("VueRemarkRoot",[t("div",{staticClass:"toc-wrapper col-md-3"},[t("ul",[t("li",[t("a",{attrs:{href:"#installation-configuration"}},[o._v("Installation Configuration")])]),t("li",[t("a",{attrs:{href:"#htcondor-flocking"}},[o._v("HTCondor Flocking")])]),t("li",[t("a",{attrs:{href:"#big-pool"}},[o._v("Big Pool")])]),t("li",[t("a",{attrs:{href:"#example"}},[o._v("Example")])])])]),t("div",{staticClass:"body-wrapper col-md-9"},[o._t("/cloudman/header"),o._t("/cloudman/linkbox-horizontal"),t("p",[o._v("This page will provide details on how HTCondor has been integrated into CloudMan. Examples on how to use HTCondor through CloudMan will be provided for the enduser.")]),t("h1",{attrs:{id:"installation-configuration"}},[t("a",{attrs:{href:"#installation-configuration","aria-hidden":"true"}},[t("span",{staticClass:"icon icon-link"})]),o._v("Installation Configuration")]),t("p",[o._v("HTCondor has been pre-installed on linux images using through CloudMan. The deployment detail is as follow:")]),t("ul",[t("li",[o._v("bin                          /usr/bin")]),t("li",[o._v("etc                          /etc/condor/")]),t("li",[o._v("etc/examples                 /usr/share/doc/condor/etc/examples")]),t("li",[o._v("examples                     /usr/share/doc/condor/examples")]),t("li",[o._v("include                      /usr/include/condor")]),t("li",[o._v("lib                          /usr/lib/condor")]),t("li",[o._v("libexec                      /usr/lib/condor/libexec")]),t("li",[o._v("local/condor_config.local    /etc/condor/")]),t("li",[o._v("condor_config                /etc/condor/condor_config")]),t("li",[o._v("local/execute                /var/lib/condor/execute")]),t("li",[o._v("local/spool                  /var/lib/condor/spool")]),t("li",[o._v("man                          /usr/share/man")]),t("li",[o._v("sbin                         /usr/sbin")]),t("li",[o._v("sql                          /usr/share/condor/sql")]),t("li",[o._v("src                          /usr/src")]),t("li",[o._v("INIT                         /etc/init.d/condor")]),t("li",[o._v("PID                          /var/run/condor")]),t("li",[o._v("LOGS                         /var/log/condor")]),t("li",[o._v("LOCK                         /var/lock/condor")])]),t("p",[o._v("Please note that the configuration is taken place only in "),t("strong",[o._v("condor_config")]),o._v(" global file. The online configuration is based on the functionality of the HTCondor where only the last configuration value is used. Therefore, for finding any specific configuration in /etc/condor/condor_configuration please find the last key in the file.")]),t("p",[o._v('HTCondor requires the ping port "ICMP" and the range specified through '),t("strong",[o._v("HIGHPORT")]),o._v(" and "),t("strong",[o._v("LOWPORT")]),o._v(" in the condor_configuration to be open. To do so please refer to the firewall options.")]),t("h1",{attrs:{id:"htcondor-flocking"}},[t("a",{attrs:{href:"#htcondor-flocking","aria-hidden":"true"}},[t("span",{staticClass:"icon icon-link"})]),o._v("HTCondor Flocking")]),t("p",[o._v("HTCondor has been used to achieve federated computing resource manager over the remote computing resources. In this scenario HTCondor will receive the remote computing public IP or DNS and try to use remote resources by claiming the resource from remote HTCondor pool. This has happened by setting the "),t("strong",[o._v("FLOCK_TO")]),o._v(" variable in the condor_config file to be the remote IP or DNS. It worth noting that the remote Condor should have provided enough acces to the CloudMan HTCondor by setting "),t("strong",[o._v("FLOCK_FROM")]),o._v(" and "),t("strong",[o._v("ALLOW_WRITE")]),o._v(" variable in their condor_config file (This setting requires HTCondor to be restarted. To restart HTCondor manually in CloudMan use "),t("em",[o._v("/etc/init.d/condor restart")]),o._v(" command).")]),t("h1",{attrs:{id:"big-pool"}},[t("a",{attrs:{href:"#big-pool","aria-hidden":"true"}},[t("span",{staticClass:"icon icon-link"})]),o._v("Big Pool")]),t("p",[o._v("To be able to utilize local resource through HTCondor any worker node's pool added to the system through CloudMan console will be joint to the master's pool to create a big shared pool. This happen by setting the workers' **CONDOR_HOST ** variable to point to the master IP and set the  "),t("strong",[o._v("DAEMON_LIST")]),o._v(" to only run "),t("strong",[o._v("MASTER, STARTD and SCHEDD")]),o._v(" processes.")]),t("h1",{attrs:{id:"example"}},[t("a",{attrs:{href:"#example","aria-hidden":"true"}},[t("span",{staticClass:"icon icon-link"})]),o._v("Example")]),t("p",[o._v("For an example please follow the following procedure:")]),t("p",[o._v("1- $mkdir test"),t("br"),o._v("\n2- $cd test"),t("br"),o._v("\n3- $cat > python"),t("em",[o._v("random_lines.sh"),t("br"),o._v("\n#! /bin/sh"),t("br"),o._v('\necho "I\'m process id $$ on" '),t("code",{pre:!0},[o._v("hostname")]),t("br"),o._v('\npython random_lines_two_pass.py "dataset_$2.dat" "output_$2.dat" "3"'),t("br"),o._v("\ndate"),t("br"),o._v("\nexit 42"),t("br"),t("em",[o._v("ctrl+D")]),t("br"),o._v("\n4- $cat > job.submit "),t("br"),o._v("\nexecutable=python_random_lines.sh"),t("br"),o._v("\nuniverse=vanilla"),t("br"),o._v("\narguments=Example.$(Cluster).$(Process) [file_number] "),t("br"),o._v("\ntransfer_input_files = dataset")]),o._v("[file"),t("em",[o._v("number].dat"),t("br"),o._v("\ntransfer_output_files = output")]),o._v("[file_number].dat"),t("br"),o._v("\noutput=results.output.$(Process).$(Cluster)"),t("br"),o._v("\nerror=results.error.$(Process).$(Cluster)"),t("br"),o._v("\nlog=results.log"),t("br"),o._v("\nnotification=never"),t("br"),o._v("\nshould_transfer_files=YES"),t("br"),o._v("\nwhen_to_transfer_output = ON_EXIT"),t("br"),o._v("\nqueue"),t("br"),t("em",[o._v("Ctrl+D")]),t("br"),t("strong",[o._v("Note that for running the above script you need to have random_lines_two_pass.py and the dataset available")]),t("br"),t("strong",[o._v("The job.submit should be run multiple times [once for each input file]")]),t("br"),o._v("\n5- chmod a+x python_random_lines.sh"),t("br"),o._v("\n6- condor_submit job.submit"),t("br"),t("strong",[o._v("condor_submit should be run multiple times [once for each input]")])])],2)])}),[],!1,null,null,null);"function"==typeof l&&l(p),"function"==typeof _&&_(p);e.default=p.exports}}]);