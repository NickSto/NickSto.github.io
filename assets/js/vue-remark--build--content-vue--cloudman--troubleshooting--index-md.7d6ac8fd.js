(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{UQSp:function(t,e,o){"use strict";e.a={name:"VueRemarkRoot",render:function(t){return t("div",null,this.$slots.default)}}},jcGe:function(t,e,o){"use strict";o.r(e);var a=o("KHd+"),n=o("UQSp"),r=o("Kw5r");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.default.config.optionMergeStrategies;var l={VueRemarkRoot:n.a},s=function(t){var e=t.options.components=t.options.components||{},o=t.options.computed=t.options.computed||{};Object.keys(l).forEach((function(t){"object"===i(l[t])&&"function"==typeof l[t].render||"function"==typeof l[t]&&"function"==typeof l[t].options.render?e[t]=l[t]:o[t]=function(){return l[t]}}))},c=r.default.config.optionMergeStrategies,u="__vueRemarkFrontMatter",p={excerpt:null,title:"CloudMan Troubleshooting"};var d=function(t){t.options[u]&&(t.options[u]=p),r.default.util.defineReactive(t.options,u,p),t.options.computed=c.computed({$frontmatter:function(){return t.options[u]}},t.options.computed)},h=Object(a.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("VueRemarkRoot",[o("div",{staticClass:"toc-wrapper col-md-3"},[o("ul",[o("li",[o("a",{attrs:{href:"#log-files"}},[t._v("Log files")])]),o("li",[o("a",{attrs:{href:"#connect-to-galaxy-database"}},[t._v("Connect to Galaxy database")])])])]),o("div",{staticClass:"body-wrapper col-md-9"},[t._t("/cloudman/header"),t._t("/cloudman/linkbox-horizontal"),o("p",[t._v("The following documentation can help you troubleshoot problems that you might have with your cloud system.\nFor additional help with this system, you can search the "),o("a",{attrs:{href:"https://lists.galaxyproject.org/archives/list/galaxy-dev@lists.galaxyproject.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("mailing list archives")]),t._v(", "),o("a",{attrs:{href:"https://help.galaxyproject.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("help forum")]),t._v(", "),o("a",{attrs:{href:"https://botbot.me/freenode/galaxyproject/",target:"_blank",rel:"noopener noreferrer"}},[t._v("IRC channel log")]),t._v(", or post a question to any of those venues.")]),o("h3",{attrs:{id:"log-files"}},[o("a",{attrs:{href:"#log-files","aria-hidden":"true"}},[o("span",{staticClass:"icon icon-link"})]),t._v("Log files")]),o("p",[t._v("Log files are available for problem diagnosis. Each launched instance (master or worker) will have their respective logs in the same locations, which are as follows:")]),o("div",{staticClass:"center"},[o("table",[o("thead",[o("tr",[o("th",[t._v("Log path")]),o("th",[t._v("Description")])])]),o("tbody",[o("tr",[o("td",[o("em",[t._v("/var/log/cloudman/cm_autorun.log")])]),o("td",[t._v("As an instance starts, this is the first CloudMan-related log file that gets created. The bootstrap script "),o("em",[t._v("/usr/bin/cm_autorun.py")]),t._v(" logs here as it will initiate the cluster startup process by processing "),o("a",{attrs:{href:"/cloudman/userdata/"}},[t._v("instance user data")]),t._v(", downloading and invoking "),o("em",[t._v("cm_boot.py")]),t._v(" script (see below). The mentioned script is automatically invoked by an "),o("a",{attrs:{href:"http://upstart.ubuntu.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("upstart")]),t._v(" job (at launch level 2, 3, 4, or 5), as defined in "),o("em",[t._v("/etc/init/cloudman.conf")]),t._v(".")])]),o("tr",[o("td",[o("em",[t._v("/var/log/cloudman/cm_boot.log")])]),o("td",[t._v("This log file contains the output from "),o("em",[t._v("/tmp/cm/"),o("a",{attrs:{href:"https://github.com/galaxyproject/cloudman/blob/master/cm_boot.py",target:"_blank",rel:"noopener noreferrer"}},[t._v("cm_boot.py")])]),t._v(" script as it prepares the instance for CloudMan, starts the web server, downloads CloudMan (from the cluster's bucket or the default bucket) and then launches the CloudMan application.")])]),o("tr",[o("td",[o("em",[t._v("/var/log/cloudman/cloudman.log")])]),o("td",[t._v("This is the main CloudMan application log file and it contains all the logging output as the application runs. The contents of this file are also available from the CloudMan Admin page. The main log file is automatically rotated by "),o("a",{attrs:{href:"http://www.linuxcommand.org/man_pages/logrotate8.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("logrotate")]),t._v(" to keep the file of manageable size. The logrotate definition is stored at "),o("em",[t._v("/etc/logrotate.d/cloudman")]),t._v(" (as defined in the corresponding "),o("a",{attrs:{href:"https://github.com/galaxyproject/ansible-cloudman-image/blob/master/files/cloudman.logrotate",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ansible role")]),t._v(") and the rotated files will be available in the CloudMan application's runtime directory, "),o("em",[t._v("/mnt/cm")]),t._v(".")])]),o("tr",[o("td",[o("em",[t._v("/mnt/galaxy/galaxy-app/main.log")])]),o("td",[t._v("This is the main Galaxy application log file. It is also available from the CloudMan Admin page.")])])])])]),t._v("\nNote that the CloudMan application log file locations have changed with the Mid 2015 release; for the locations of log files on older instances, see [this page](http://cloudman.irb.hr/blog/2013/03/06/cloudman-startup-procedure/)."),o("br"),t._v("\nFor log files of individual services running within the system, see the page specific to the [particular service](/src/cloudman/services/index.md).\n"),o("h3",{attrs:{id:"connect-to-galaxy-database"}},[o("a",{attrs:{href:"#connect-to-galaxy-database","aria-hidden":"true"}},[o("span",{staticClass:"icon icon-link"})]),t._v("Connect to Galaxy database")]),o("p",[t._v("Your cloud cluster is configured with a PostgreSQL database for use by Galaxy. By default, the database is stored in "),o("code",{pre:!0},[t._v("/mnt/galaxy/db")]),t._v(" and is available on port 5950. To connect to the database, switch to the "),o("em",[t._v("galaxy")]),t._v(" system user and connect to it with the following command: "),o("code",{pre:!0},[t._v("psql -p 5950")])])],2)])}),[],!1,null,null,null);"function"==typeof s&&s(h),"function"==typeof d&&d(h);e.default=h.exports}}]);