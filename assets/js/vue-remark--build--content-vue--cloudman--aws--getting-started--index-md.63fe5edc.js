(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{QXuJ:function(e,t,r){"use strict";r.r(t);var a=r("KHd+"),n=r("UQSp"),o=r("Kw5r");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o.a.config.optionMergeStrategies;var i={VueRemarkRoot:n.a},c=function(e){var t=e.options.components=e.options.components||{},r=e.options.computed=e.options.computed||{};Object.keys(i).forEach((function(e){"object"===s(i[e])&&"function"==typeof i[e].render||"function"==typeof i[e]&&"function"==typeof i[e].options.render?t[e]=i[e]:r[e]=function(){return i[e]}}))},l=o.a.config.optionMergeStrategies,d="__vueRemarkFrontMatter",u={excerpt:null,title:"Getting Started with Galaxy CloudMan"};var g=function(e){e.options[d]&&(e.options[d]=u),o.a.util.defineReactive(e.options,d,u),e.options.computed=l.computed({$frontmatter:function(){return e.options[d]}},e.options.computed)},p=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("VueRemarkRoot",[e._t("/cloudman/header"),r("h2",{attrs:{id:"this-is-an-old-and-currently-outdated-guide-only-kept-for-historical-reasons-do-not-use-the-instructions-on-this-page-use-the-new-getting-started-guide-available-here-httpswikigalaxyprojectorgcloudmangettingstarted"}},[r("a",{attrs:{href:"#this-is-an-old-and-currently-outdated-guide-only-kept-for-historical-reasons-do-not-use-the-instructions-on-this-page-use-the-new-getting-started-guide-available-here-httpswikigalaxyprojectorgcloudmangettingstarted","aria-hidden":"true"}},[r("span",{staticClass:"icon icon-link"})]),e._v("This is an old and currently outdated guide only kept for historical reasons. Do not use the instructions on this page. Use the new getting started guide available here: "),r("a",{attrs:{href:"https://wiki.galaxyproject.org/CloudMan/GettingStarted",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://wiki.galaxyproject.org/CloudMan/GettingStarted")])]),e._t("/cloudman/aws/linkbox"),r("p",[e._v("This page provides a step-by-step instructions on how to start your own instance of Galaxy on "),r("a",{attrs:{href:"http://aws.amazon.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Amazon Web Services (AWS)")]),r("a",{attrs:{href:"http://aws.amazon.com/ec2/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Elastic Compute Cloud (EC2)")]),e._v(". More general information and instructions about Galaxy CloudMan can be found "),r("a",{attrs:{href:"/src/cloudman/index.md"}},[e._v("here")]),e._v(". ")]),r("h2",{attrs:{id:"screencast"}},[r("a",{attrs:{href:"#screencast","aria-hidden":"true"}},[r("span",{staticClass:"icon icon-link"})]),e._v("Screencast")]),r("p",[r("a",{attrs:{href:"http://screencast.g2.bx.psu.edu/cloud/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Here's a screencast")]),e._v(' that walks through the process of setting up your own Galaxy cloud cluster. Note, the screencast skips one step, detailed setting up of the Inbound TCP rules. See "Inbound Rules" below.')]),r("h2",{attrs:{id:"step-1-one-time-amazon-setup"}},[r("a",{attrs:{href:"#step-1-one-time-amazon-setup","aria-hidden":"true"}},[r("span",{staticClass:"icon icon-link"})]),e._v("Step 1: One Time Amazon Setup")]),r("div",{staticClass:"right"},[r("div",{staticClass:"solid"},[r("table",[r("tr",[r("td",{staticStyle:{"text-align":"center",border:"none"}},[r("strong",[e._v("Step 1 Screenshots")])])])]),r("table",[r("tr",[r("td",{staticStyle:{"text-align":"center",border:"none"}},[r("a",{attrs:{href:"/src/cloudman/aws/getting-started/AWSSetRegion.png"}},[r("img",{attrs:{src:"/src/cloudman/aws/getting-started/AWSSetRegion.png",alt:"Set region; click to enlarge",width:"200"}})]),r("br"),e._v("1.2. Set region ")])]),r("tr",[r("td",{staticStyle:{"text-align":"center",border:"none"}},[r("a",{attrs:{href:"/src/cloudman/aws/getting-started/AWSConsoleKeyPairs.png"}},[r("img",{attrs:{src:"/src/cloudman/aws/getting-started/AWSConsoleKeyPairs.png",alt:"Click on key pairs; click to enlarge",width:"200"}})]),r("br"),e._v("1.3. Click on key pairs ")])]),r("tr",[r("td",{staticStyle:{"text-align":"center",border:"none"}},[r("a",{attrs:{href:"/src/cloudman/aws/getting-started/AWSDefaultSecurityGroups.png"}},[r("img",{attrs:{src:"/src/cloudman/aws/getting-started/AWSDefaultSecurityGroups.png",alt:"Create security group; click to enlarge",width:"200"}})]),r("br"),e._v("1.5. Create security group ")])]),r("tr",[r("td",{staticStyle:{"text-align":"center",border:"none"}},[r("a",{attrs:{href:"/src/cloudman/aws/getting-started/AWSApplyRuleChanges.png"}},[r("img",{attrs:{src:"/src/cloudman/aws/getting-started/AWSApplyRuleChanges.png",alt:"Create security group; click to enlarge",width:"200"}})]),r("br"),e._v("1.7. Add inbound rules ")])])])])]),r("ol",[r("li",[r("p",[e._v("Because AWS services implement pay-as-you-go access model for compute resources, it is necessary for every user of the service to "),r("em",[r("a",{attrs:{href:"http://aws.amazon.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("register with Amazon")])]),e._v(". "),r("span",{staticClass:"red"},[e._v("You will need a credit card to register.")]),e._v("  (You can apply for a "),r("a",{attrs:{href:"http://aws.amazon.com/education",target:"_blank",rel:"noopener noreferrer"}},[e._v("AWS Education Grant")]),e._v(" after you register). ")])]),r("li",[r("p",[e._v("Once your account has been approved by Amazon (note that this may take up to one business day), "),r("em",[e._v("log into the "),r("a",{attrs:{href:"http://console.aws.amazon.com/ec2",target:"_blank",rel:"noopener noreferrer"}},[e._v("EC2 AWS Management Console")])]),e._v(" and set your AWS Region to "),r("em",[e._v("US East (Virginia)")]),e._v(". This is the only region Galaxy CloudMan is fully supported in at this time (see "),r("a",{attrs:{href:"/src/cloudman/aws/getting-started/AWSSetRegion.png"}},[e._v("screenshot 1.2")]),e._v(").")])]),r("li",[r("p",[e._v("Click "),r("strong",[e._v("Network & Security → Key Pairs")]),e._v(" or "),r("strong",[e._v("My Resources → "),r("em",[e._v("n")]),e._v(" Key Pairs")]),e._v(" (see "),r("a",{attrs:{href:"/src/cloudman/aws/getting-started/AWSConsoleKeyPairs.png"}},[e._v("screenshot 1.3")]),e._v(" - if it does not look like this, then try using the Chrome browser) and then click "),r("strong",[e._v("Create Key Pair")]),e._v(".  Enter a memorable name for the key pair, e.g., "),r("code",{pre:!0},[e._v("GalaxyCloud")]),e._v(" and click "),r("strong",[e._v("Create")]),e._v(".")])]),r("li",[r("p",[r("em",[e._v("Save your private key!")]),e._v(" The previous step creates the key pair and downloads a copy to your machine with the name "),r("em",[r("code",{pre:!0},[e._v("MemorableName")])]),r("code",{pre:!0},[e._v(".pem")]),e._v(".  Save this file and protect it like you would your password. The key pair can be used to access started instances from the command line.")])]),r("li",[r("p",[r("em",[e._v("Create a Security Group")]),e._v(" by clicking "),r("strong",[e._v("Network & Security → Security Groups → Create Security Group")]),e._v(" (see "),r("a",{attrs:{href:"/src/cloudman/aws/getting-started/AWSDefaultSecurityGroups.png"}},[e._v("screenshot 1.5")]),e._v("). Specify a name (e.g., "),r("code",{pre:!0},[e._v("GalaxyGroup")]),e._v(") and provide a brief description.  "),r("strong",[e._v("VPC")]),e._v(" should be "),r("strong",[e._v("No VPC")]),e._v(".  Click the "),r("strong",[e._v("Yes, Create")]),e._v(" button.  The new group now appears in the list and details about the group are listed at the bottom of the page.")])]),r("li",[r("p",[r("em",[e._v("Add Inbound Rules")]),e._v(" to the new group by clicking the "),r("strong",[e._v("Inbound")]),e._v(" tab.  For each new rule you will need to select the protocol (the rule type) from the "),r("strong",[e._v("Create a new rule:")]),e._v(" pulldown, fill in the fields for that rule, and then click "),r("strong",[e._v("Add Rule")]),e._v(". Define these rules:")])]),r("li",[r("p",[e._v("Protocol: HTTP"),r("br"),e._v("Source: "),r("code",{pre:!0},[e._v("0.0.0.0/0")])]),r("div",{staticClass:"indent"},[e._v("Unless you want to restrict access based on "),r("a",{attrs:{href:"http://en.wikipedia.org/wiki/CIDR_notation",target:"_blank",rel:"noopener noreferrer"}},[e._v("the source IP")])]),r("p")]),r("li",[r("p",[e._v("Protocol: SSH"),r("br"),e._v("Source: "),r("code",{pre:!0},[e._v("0.0.0.0/0")])])]),r("li",[r("p",[e._v("Protocol: Custom TCP rule"),r("br"),e._v("Port range: "),r("code",{pre:!0},[e._v("42284")]),r("br"),e._v("Source: "),r("code",{pre:!0},[e._v("0.0.0.0/0")])]),r("div",{staticClass:"indent"},[e._v("This rule opens a port on the remote instance allowing access to the cloud controller web interface.")]),r("p")]),r("li",[r("p",[e._v("Protocol: Custom TCP rule"),r("br"),e._v("Port range: "),r("code",{pre:!0},[e._v("20-21")]),r("br"),e._v("Source: "),r("code",{pre:!0},[e._v("0.0.0.0/0")])]),r("div",{staticClass:"indent"},[e._v("This rule opens ports required for FTP file transfer.")]),r("p")]),r("li",[r("p",[e._v("Protocol: Custom TCP rule"),r("br"),e._v("Port range: "),r("code",{pre:!0},[e._v("30000-30100")]),r("br"),e._v("Source: "),r("code",{pre:!0},[e._v("0.0.0.0/0")])]),r("div",{staticClass:"indent"},[e._v("This rule opens ports required for passive FTP file transfer.")]),r("p")]),r("li",[r("p",[e._v("Protocol: All TCP"),r("br"),e._v("Source: "),r("em",[e._v("name of group, e.g. "),r("code",{pre:!0},[e._v("GalaxyGroup")])])]),r("div",{staticClass:"indent"},[e._v("The Source will automatically change to the security group ID. This action will enable multiple instances in the same security group to communicate with each other on Amazon EC2's internal network.")]),r("p")]),r("li",[r("p",[e._v("Click "),r("strong",[e._v("Apply Rule Changes")]),e._v(".  The window should look like the "),r("a",{attrs:{href:"/src/cloudman/aws/getting-started/AWSApplyRuleChanges.png"}},[e._v("screenshot 1.7")]),e._v(".")])])]),r("p",[e._v("All of these inbound rules are necessary for proper functioning of CloudMan and Galaxy.")]),r("h2",{attrs:{id:"step-2-starting-a-master-instance"}},[r("a",{attrs:{href:"#step-2-starting-a-master-instance","aria-hidden":"true"}},[r("span",{staticClass:"icon icon-link"})]),e._v("Step 2: Starting a Master Instance")]),r("div",{staticClass:"right"},[r("div",{staticClass:"solid"},[r("table",[r("tr",[r("td",{staticStyle:{"text-align":"center",border:"none"}},[r("strong",[e._v("Step 2 Screenshots")])])])]),r("table",[r("tr",[r("td",{staticStyle:{"text-align":"center",border:"none"}},[r("a",{attrs:{href:"/src/cloudman/aws/getting-started/AWSAMISearch.png"}},[r("img",{attrs:{src:"/src/cloudman/aws/getting-started/AWSAMISearch.png",alt:"Find & Select AMI; click to enlarge",width:"200"}})]),r("br"),e._v("2.3. Find & Select AMI ")])]),r("tr",[r("td",{staticStyle:{"text-align":"center",border:"none"}},[r("a",{attrs:{href:"/src/cloudman/aws/getting-started/AWSRequestInstanceDetails.png"}},[r("img",{attrs:{src:"/src/cloudman/aws/getting-started/AWSRequestInstanceDetails.png",alt:"Set instance details; click to enlarge",width:"200"}})]),r("br"),e._v("2.4. Instance details ")])]),r("tr",[r("td",{staticStyle:{"text-align":"center",border:"none"}},[r("a",{attrs:{href:"/src/cloudman/aws/getting-started/AWSUserData.png"}},[r("img",{attrs:{src:"/src/cloudman/aws/getting-started/AWSUserData.png",alt:"set user data; click to enlarge",width:"200"}})]),r("br"),e._v("2.5. Set User Data. ")])]),r("tr",[r("td",{staticStyle:{"text-align":"center",border:"none"}},[r("a",{attrs:{href:"/src/cloudman/aws/getting-started/AWSCredentialsLink.png"}},[r("img",{attrs:{src:"/src/cloudman/aws/getting-started/AWSCredentialsLink.png",alt:"Get to credentials; click to enlarge",width:"200"}})]),r("br"),e._v("2.5.3. Get to credentials. ")])]),r("tr",[r("td",{staticStyle:{"text-align":"center",border:"none"}},[r("a",{attrs:{href:"/src/cloudman/aws/getting-started/AWSCredentials.png"}},[r("img",{attrs:{src:"/src/cloudman/aws/getting-started/AWSCredentials.png",alt:"Credentials; click to enlarge",width:"200"}})]),r("br"),e._v("2.5.4. Credentials. ")])]),r("tr",[r("td",{staticStyle:{"text-align":"center",border:"none"}},[r("a",{attrs:{href:"/src/cloudman/aws/getting-started/AWSPreLaunchReview.png"}},[r("img",{attrs:{src:"/src/cloudman/aws/getting-started/AWSPreLaunchReview.png",alt:"Review & launch; click to enlarge",width:"200"}})]),r("br"),e._v("2.9. Review & Launch! ")])]),r("tr",[r("td",{staticStyle:{"text-align":"center",border:"none"}},[r("a",{attrs:{href:"/src/cloudman/aws/getting-started/AWSInstanceList.png"}},[r("img",{attrs:{src:"/src/cloudman/aws/getting-started/AWSInstanceList.png",alt:"AWS EC2 instances list; click to enlarge",width:"200"}})]),r("br"),e._v("2.10. AWS instance is up ")])]),r("tr",[r("td",{staticStyle:{"text-align":"center",border:"none"}},[r("a",{attrs:{href:"/src/cloudman/aws/getting-started/GalaxyNotRunning.png"}},[r("img",{attrs:{src:"/src/cloudman/aws/getting-started/GalaxyNotRunning.png",alt:"Galaxy not running yet; click to enlarge",width:"200"}})]),r("br"),e._v("2.11. Galaxy CloudMan is"),r("br"),e._v("ready to configure ")])])])])]),r("p",[r("strong",[e._v(" This step is required every time a new cloud instance of Galaxy is desired.")])]),r("p",[r("a",{attrs:{href:"/src/cloudman/index.md"}},[e._v("CloudMan")]),e._v(" works in a master-worker fashion: the master is used to control all of the needed services as well as worker instances. Worker instances are needed to run analysis jobs submitted through Galaxy that runs on the master instance (for a more detailed description of running Galaxy in cluster environments, see the "),r("a",{attrs:{href:"/src/admin/config/performance/cluster/index.md"}},[e._v("cluster performance page")]),e._v("). So, in order to start a Galaxy CloudMan cluster, we need to start a master instance. ")]),r("ol",[r("li",[r("p",[e._v("Go to the "),r("a",{attrs:{href:"https://console.aws.amazon.com/ec2/home",target:"_blank",rel:"noopener noreferrer"}},[e._v("AWS Management Console for EC2")]),e._v(" and click "),r("strong",[e._v("Launch Instance")])])]),r("li",[r("p",[e._v("Select the "),r("strong",[e._v("Classic Wizard")]),e._v(" in the popup window.")])])])],2)}),[],!1,null,null,null);"function"==typeof c&&c(p),"function"==typeof g&&g(p);t.default=p.exports},UQSp:function(e,t,r){"use strict";t.a={name:"VueRemarkRoot",render:function(e){return e("div",null,this.$slots.default)}}}}]);